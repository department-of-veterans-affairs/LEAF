/*! For license information please see LEAF_Designer.js.LICENSE.txt */
(()=>{var e={8337:(e,t,n)=>{"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function s(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var l={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},a={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function h(e){var t=e.re=n(6066)(e.__opts__),r=e.__tlds__.slice();function l(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(c),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(l(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(l(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(l(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(l(t.tpl_host_fuzzy_test),"i");var a=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return"[object RegExp]"!==o(n.validate)?i(n.validate)?r.validate=n.validate:u(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?u(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?u(t,n):a.push(t)}})),a.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var h=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(s).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function p(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function f(e,t){if(!(this instanceof f))return new f(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||l.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},l,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},a,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},h(this)}f.prototype.add=function(e,t){return this.__schemas__[e]=t,h(this),this},f.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},f.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,s,l,a;if(this.re.schema_test.test(e))for((l=this.re.schema_search).lastIndex=0;null!==(t=l.exec(e));)if(o=this.testSchemaAt(e,t[2],l.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(a=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||a<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,s=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=s)),this.__index__>=0},f.prototype.pretest=function(e){return this.re.pretest.test(e)},f.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},f.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(p(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(p(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},f.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var t=this.re.schema_at_start.exec(e);if(!t)return null;var n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,p(this,0)):null},f.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),h(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,h(this),this)},f.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},f.prototype.onCompile=function(){},e.exports=f},6066:(e,t,n)=>{"use strict";e.exports=function(e){var t={};e=e||{},t.src_Any=n(9369).source,t.src_Cc=n(9413).source,t.src_Z=n(5045).source,t.src_P=n(3189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},9980:(e,t,n)=>{"use strict";e.exports=n(7024)},6233:(e,t,n)=>{"use strict";e.exports=n(9323)},813:e=>{"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},1947:e=>{"use strict";var t="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",n="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",r=new RegExp("^(?:"+t+"|"+n+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),o=new RegExp("^(?:"+t+"|"+n+")");e.exports.n=r,e.exports.q=o},7022:(e,t,n)=>{"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return r.call(e,t)}function i(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||65535==(65535&e)||65534==(65535&e)||e>=0&&e<=8||11===e||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function s(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var l=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,a=new RegExp(l.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=n(6233),h=/[&<>"]/,d=/[&<>"]/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function f(e){return p[e]}var m=/[.?*+^$[\]\\(){}|-]/g,g=n(3189);t.lib={},t.lib.mdurl=n(8765),t.lib.ucmicro=n(4205),t.assign=function(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=o,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(l,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(a,(function(e,t,n){return t||function(e,t){var n=0;return o(u,t)?u[t]:35===t.charCodeAt(0)&&c.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?s(n):e}(e,n)}))},t.isValidEntityCode=i,t.fromCodePoint=s,t.escapeHtml=function(e){return h.test(e)?e.replace(d,f):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return g.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}},1685:(e,t,n)=>{"use strict";t.parseLinkLabel=n(3595),t.parseLinkDestination=n(2548),t.parseLinkTitle=n(8040)},2548:(e,t,n)=>{"use strict";var r=n(7022).unescapeAll;e.exports=function(e,t,n){var o,i,s=t,l={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(o=e.charCodeAt(t)))return l;if(60===o)return l;if(62===o)return l.pos=t+1,l.str=r(e.slice(s+1,t)),l.ok=!0,l;92===o&&t+1<n?t+=2:t++}return l}for(i=0;t<n&&32!==(o=e.charCodeAt(t))&&!(o<32||127===o);)if(92===o&&t+1<n){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===o&&++i>32)return l;if(41===o){if(0===i)break;i--}t++}return s===t||0!==i||(l.str=r(e.slice(s,t)),l.lines=0,l.pos=t,l.ok=!0),l}},3595:e=>{"use strict";e.exports=function(e,t,n){var r,o,i,s,l=-1,a=e.posMax,c=e.pos;for(e.pos=t+1,r=1;e.pos<a;){if(93===(i=e.src.charCodeAt(e.pos))&&0==--r){o=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===i)if(s===e.pos-1)r++;else if(n)return e.pos=c,-1}return o&&(l=e.pos),e.pos=c,l}},8040:(e,t,n)=>{"use strict";var r=n(7022).unescapeAll;e.exports=function(e,t,n){var o,i,s=0,l=t,a={ok:!1,pos:0,lines:0,str:""};if(t>=n)return a;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return a;for(t++,40===i&&(i=41);t<n;){if((o=e.charCodeAt(t))===i)return a.pos=t+1,a.lines=s,a.str=r(e.slice(l+1,t)),a.ok=!0,a;if(40===o&&41===i)return a;10===o?s++:92===o&&t+1<n&&(t++,10===e.charCodeAt(t)&&s++),t++}return a}},7024:(e,t,n)=>{"use strict";var r=n(7022),o=n(1685),i=n(7529),s=n(7346),l=n(2471),a=n(4485),c=n(8337),u=n(8765),h=n(3689),d={default:n(4218),zero:n(873),commonmark:n(6895)},p=/^(vbscript|javascript|file|data):/,f=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!p.test(t)||!!f.test(t)}var g=["http:","https:","mailto:"];function y(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=h.toASCII(t.hostname)}catch(e){}return u.encode(u.format(t))}function v(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=h.toUnicode(t.hostname)}catch(e){}return u.decode(u.format(t),u.decode.defaultChars+"%")}function b(e,t){if(!(this instanceof b))return new b(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new a,this.block=new l,this.core=new s,this.renderer=new i,this.linkify=new c,this.validateLink=m,this.normalizeLink=y,this.normalizeLinkText=v,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}b.prototype.set=function(e){return r.assign(this.options,e),this},b.prototype.configure=function(e){var t,n=this;if(r.isString(e)&&!(e=d[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},b.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},b.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},b.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},b.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},b.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},b.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},b.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=b},2471:(e,t,n)=>{"use strict";var r=n(9580),o=[["table",n(1785),["paragraph","reference"]],["code",n(8768)],["fence",n(3542),["paragraph","reference","blockquote","list"]],["blockquote",n(5258),["paragraph","reference","blockquote","list"]],["hr",n(5634),["paragraph","reference","blockquote","list"]],["list",n(8532),["paragraph","reference","blockquote"]],["reference",n(3804)],["html_block",n(6329),["paragraph","reference","blockquote"]],["heading",n(1630),["paragraph","reference","blockquote"]],["lheading",n(6850)],["paragraph",n(6864)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,s=t,l=!1,a=e.md.options.maxNesting;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n))&&!(e.sCount[s]<e.blkIndent);){if(e.level>=a){e.line=n;break}for(r=0;r<i&&!o[r](e,s,n,!1);r++);e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),(s=e.line)<n&&e.isEmpty(s)&&(l=!0,s++,e.line=s)}},i.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=n(2948),e.exports=i},7346:(e,t,n)=>{"use strict";var r=n(9580),o=[["normalize",n(4129)],["block",n(898)],["inline",n(9827)],["linkify",n(7830)],["replacements",n(2834)],["smartquotes",n(8450)],["text_join",n(6633)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},i.prototype.State=n(6480),e.exports=i},4485:(e,t,n)=>{"use strict";var r=n(9580),o=[["text",n(9941)],["linkify",n(2906)],["newline",n(3905)],["escape",n(1917)],["backticks",n(9755)],["strikethrough",n(4814).w],["emphasis",n(7894).w],["link",n(1727)],["image",n(3006)],["autolink",n(3420)],["html_inline",n(1779)],["entity",n(9391)]],i=[["balance_pairs",n(9354)],["strikethrough",n(4814).g],["emphasis",n(7894).g],["fragments_join",n(9969)]];function s(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}s.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,s=e.md.options.maxNesting,l=e.cache;if(void 0===l[r]){if(e.level<s)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,l[r]=e.pos}else e.pos=l[r]},s.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,s=e.md.options.maxNesting;e.pos<i;){if(e.level<s)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},s.prototype.parse=function(e,t,n,r){var o,i,s,l=new this.State(e,t,n,r);for(this.tokenize(l),s=(i=this.ruler2.getRules("")).length,o=0;o<s;o++)i[o](l)},s.prototype.State=n(670),e.exports=s},6895:e=>{"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},4218:e=>{"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},873:e=>{"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}},7529:(e,t,n)=>{"use strict";var r=n(7022).assign,o=n(7022).unescapeAll,i=n(7022).escapeHtml,s={};function l(){this.rules=r({},s)}s.code_inline=function(e,t,n,r,o){var s=e[t];return"<code"+o.renderAttrs(s)+">"+i(e[t].content)+"</code>"},s.code_block=function(e,t,n,r,o){var s=e[t];return"<pre"+o.renderAttrs(s)+"><code>"+i(e[t].content)+"</code></pre>\n"},s.fence=function(e,t,n,r,s){var l,a,c,u,h,d=e[t],p=d.info?o(d.info).trim():"",f="",m="";return p&&(f=(c=p.split(/(\s+)/g))[0],m=c.slice(2).join("")),0===(l=n.highlight&&n.highlight(d.content,f,m)||i(d.content)).indexOf("<pre")?l+"\n":p?(a=d.attrIndex("class"),u=d.attrs?d.attrs.slice():[],a<0?u.push(["class",n.langPrefix+f]):(u[a]=u[a].slice(),u[a][1]+=" "+n.langPrefix+f),h={attrs:u},"<pre><code"+s.renderAttrs(h)+">"+l+"</code></pre>\n"):"<pre><code"+s.renderAttrs(d)+">"+l+"</code></pre>\n"},s.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},s.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(e,t){return i(e[t].content)},s.html_block=function(e,t){return e[t].content},s.html_inline=function(e,t){return e[t].content},l.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return r},l.prototype.renderToken=function(e,t,n){var r,o="",i=!1,s=e[t];return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===s.nesting?"</":"<")+s.tag,o+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(o+=" /"),s.block&&(i=!0,1===s.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden||-1===r.nesting&&r.tag===s.tag)&&(i=!1)),o+=i?">\n":">")},l.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,s=0,l=e.length;s<l;s++)void 0!==i[r=e[s].type]?o+=i[r](e,s,t,n,this):o+=this.renderToken(e,s,t);return o},l.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type?r+=this.renderInlineAsText(e[o].children,t,n):"softbreak"===e[o].type&&(r+="\n");return r},l.prototype.render=function(e,t,n){var r,o,i,s="",l=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?s+=this.renderInline(e[r].children,t,n):void 0!==l[i]?s+=l[e[r].type](e,r,t,n,this):s+=this.renderToken(e,r,t,n);return s},e.exports=l},9580:e=>{"use strict";function t(){this.__rules__=[],this.__cache__=null}t.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},t.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},t.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},t.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},t.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},t.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},t.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)}),this),this.__cache__=null,n},t.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},t.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)}),this),this.__cache__=null,n},t.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=t},5258:(e,t,n)=>{"use strict";var r=n(7022).isSpace;e.exports=function(e,t,n,o){var i,s,l,a,c,u,h,d,p,f,m,g,y,v,b,k,w,x,_,S,C=e.lineMax,D=e.bMarks[t]+e.tShift[t],E=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(D++))return!1;if(o)return!0;for(a=p=e.sCount[t]+1,32===e.src.charCodeAt(D)?(D++,a++,p++,i=!1,k=!0):9===e.src.charCodeAt(D)?(k=!0,(e.bsCount[t]+p)%4==3?(D++,a++,p++,i=!1):i=!0):k=!1,f=[e.bMarks[t]],e.bMarks[t]=D;D<E&&(s=e.src.charCodeAt(D),r(s));)9===s?p+=4-(p+e.bsCount[t]+(i?1:0))%4:p++,D++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(k?1:0),u=D>=E,v=[e.sCount[t]],e.sCount[t]=p-a,b=[e.tShift[t]],e.tShift[t]=D-e.bMarks[t],x=e.md.block.ruler.getRules("blockquote"),y=e.parentType,e.parentType="blockquote",d=t+1;d<n&&(S=e.sCount[d]<e.blkIndent,!((D=e.bMarks[d]+e.tShift[d])>=(E=e.eMarks[d])));d++)if(62!==e.src.charCodeAt(D++)||S){if(u)break;for(w=!1,l=0,c=x.length;l<c;l++)if(x[l](e,d,n,!0)){w=!0;break}if(w){e.lineMax=d,0!==e.blkIndent&&(f.push(e.bMarks[d]),m.push(e.bsCount[d]),b.push(e.tShift[d]),v.push(e.sCount[d]),e.sCount[d]-=e.blkIndent);break}f.push(e.bMarks[d]),m.push(e.bsCount[d]),b.push(e.tShift[d]),v.push(e.sCount[d]),e.sCount[d]=-1}else{for(a=p=e.sCount[d]+1,32===e.src.charCodeAt(D)?(D++,a++,p++,i=!1,k=!0):9===e.src.charCodeAt(D)?(k=!0,(e.bsCount[d]+p)%4==3?(D++,a++,p++,i=!1):i=!0):k=!1,f.push(e.bMarks[d]),e.bMarks[d]=D;D<E&&(s=e.src.charCodeAt(D),r(s));)9===s?p+=4-(p+e.bsCount[d]+(i?1:0))%4:p++,D++;u=D>=E,m.push(e.bsCount[d]),e.bsCount[d]=e.sCount[d]+1+(k?1:0),v.push(e.sCount[d]),e.sCount[d]=p-a,b.push(e.tShift[d]),e.tShift[d]=D-e.bMarks[d]}for(g=e.blkIndent,e.blkIndent=0,(_=e.push("blockquote_open","blockquote",1)).markup=">",_.map=h=[t,0],e.md.block.tokenize(e,t,d),(_=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=C,e.parentType=y,h[1]=e.line,l=0;l<b.length;l++)e.bMarks[l+t]=f[l],e.tShift[l+t]=b[l],e.sCount[l+t]=v[l],e.bsCount[l+t]=m[l];return e.blkIndent=g,!0}},8768:e=>{"use strict";e.exports=function(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!1)+"\n",i.map=[t,e.line],!0}},3542:e=>{"use strict";e.exports=function(e,t,n,r){var o,i,s,l,a,c,u,h=!1,d=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(d+3>p)return!1;if(126!==(o=e.src.charCodeAt(d))&&96!==o)return!1;if(a=d,(i=(d=e.skipChars(d,o))-a)<3)return!1;if(u=e.src.slice(a,d),s=e.src.slice(d,p),96===o&&s.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(l=t;!(++l>=n||(d=a=e.bMarks[l]+e.tShift[l])<(p=e.eMarks[l])&&e.sCount[l]<e.blkIndent);)if(e.src.charCodeAt(d)===o&&!(e.sCount[l]-e.blkIndent>=4||(d=e.skipChars(d,o))-a<i||(d=e.skipSpaces(d))<p)){h=!0;break}return i=e.sCount[t],e.line=l+(h?1:0),(c=e.push("fence","code",0)).info=s,c.content=e.getLines(t+1,l,i,!0),c.markup=u,c.map=[t,e.line],!0}},1630:(e,t,n)=>{"use strict";var r=n(7022).isSpace;e.exports=function(e,t,n,o){var i,s,l,a,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(c))||c>=u)return!1;for(s=1,i=e.src.charCodeAt(++c);35===i&&c<u&&s<=6;)s++,i=e.src.charCodeAt(++c);return!(s>6||c<u&&!r(i)||(o||(u=e.skipSpacesBack(u,c),(l=e.skipCharsBack(u,35,c))>c&&r(e.src.charCodeAt(l-1))&&(u=l),e.line=t+1,(a=e.push("heading_open","h"+String(s),1)).markup="########".slice(0,s),a.map=[t,e.line],(a=e.push("inline","",0)).content=e.src.slice(c,u).trim(),a.map=[t,e.line],a.children=[],(a=e.push("heading_close","h"+String(s),-1)).markup="########".slice(0,s)),0))}},5634:(e,t,n)=>{"use strict";var r=n(7022).isSpace;e.exports=function(e,t,n,o){var i,s,l,a,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(c++))&&45!==i&&95!==i)return!1;for(s=1;c<u;){if((l=e.src.charCodeAt(c++))!==i&&!r(l))return!1;l===i&&s++}return!(s<3||(o||(e.line=t+1,(a=e.push("hr","hr",0)).map=[t,e.line],a.markup=Array(s+1).join(String.fromCharCode(i))),0))}},6329:(e,t,n)=>{"use strict";var r=n(813),o=n(1947).q,i=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,s,l,a,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(a=e.src.slice(c,u),o=0;o<i.length&&!i[o][0].test(a);o++);if(o===i.length)return!1;if(r)return i[o][2];if(s=t+1,!i[o][1].test(a))for(;s<n&&!(e.sCount[s]<e.blkIndent);s++)if(c=e.bMarks[s]+e.tShift[s],u=e.eMarks[s],a=e.src.slice(c,u),i[o][1].test(a)){0!==a.length&&s++;break}return e.line=s,(l=e.push("html_block","",0)).map=[t,s],l.content=e.getLines(t,s,e.blkIndent,!0),!0}},6850:e=>{"use strict";e.exports=function(e,t,n){var r,o,i,s,l,a,c,u,h,d,p=t+1,f=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(d=e.parentType,e.parentType="paragraph";p<n&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(a=e.bMarks[p]+e.tShift[p])<(c=e.eMarks[p])&&(45===(h=e.src.charCodeAt(a))||61===h)&&(a=e.skipChars(a,h),(a=e.skipSpaces(a))>=c)){u=61===h?1:2;break}if(!(e.sCount[p]<0)){for(o=!1,i=0,s=f.length;i<s;i++)if(f[i](e,p,n,!0)){o=!0;break}if(o)break}}return!!u&&(r=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p+1,(l=e.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(h),l.map=[t,e.line],(l=e.push("inline","",0)).content=r,l.map=[t,e.line-1],l.children=[],(l=e.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(h),e.parentType=d,!0)}},8532:(e,t,n)=>{"use strict";var r=n(7022).isSpace;function o(e,t){var n,o,i,s;return o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(o++))&&45!==n&&43!==n||o<i&&(s=e.src.charCodeAt(o),!r(s))?-1:o}function i(e,t){var n,o=e.bMarks[t]+e.tShift[t],i=o,s=e.eMarks[t];if(i+1>=s)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=s)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-o>=10)return-1}return i<s&&(n=e.src.charCodeAt(i),!r(n))?-1:i}e.exports=function(e,t,n,r){var s,l,a,c,u,h,d,p,f,m,g,y,v,b,k,w,x,_,S,C,D,E,T,M,A,O,I,N,R=!1,L=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.sCount[t]>=e.blkIndent&&(R=!0),(T=i(e,t))>=0){if(d=!0,A=e.bMarks[t]+e.tShift[t],v=Number(e.src.slice(A,T-1)),R&&1!==v)return!1}else{if(!((T=o(e,t))>=0))return!1;d=!1}if(R&&e.skipSpaces(T)>=e.eMarks[t])return!1;if(y=e.src.charCodeAt(T-1),r)return!0;for(g=e.tokens.length,d?(N=e.push("ordered_list_open","ol",1),1!==v&&(N.attrs=[["start",v]])):N=e.push("bullet_list_open","ul",1),N.map=m=[t,0],N.markup=String.fromCharCode(y),k=t,M=!1,I=e.md.block.ruler.getRules("list"),_=e.parentType,e.parentType="list";k<n;){for(E=T,b=e.eMarks[k],h=w=e.sCount[k]+T-(e.bMarks[t]+e.tShift[t]);E<b;){if(9===(s=e.src.charCodeAt(E)))w+=4-(w+e.bsCount[k])%4;else{if(32!==s)break;w++}E++}if((u=(l=E)>=b?1:w-h)>4&&(u=1),c=h+u,(N=e.push("list_item_open","li",1)).markup=String.fromCharCode(y),N.map=p=[t,0],d&&(N.info=e.src.slice(A,T-1)),D=e.tight,C=e.tShift[t],S=e.sCount[t],x=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=c,e.tight=!0,e.tShift[t]=l-e.bMarks[t],e.sCount[t]=w,l>=b&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!M||(L=!1),M=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=x,e.tShift[t]=C,e.sCount[t]=S,e.tight=D,(N=e.push("list_item_close","li",-1)).markup=String.fromCharCode(y),k=t=e.line,p[1]=k,l=e.bMarks[t],k>=n)break;if(e.sCount[k]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(O=!1,a=0,f=I.length;a<f;a++)if(I[a](e,k,n,!0)){O=!0;break}if(O)break;if(d){if((T=i(e,k))<0)break;A=e.bMarks[k]+e.tShift[k]}else if((T=o(e,k))<0)break;if(y!==e.src.charCodeAt(T-1))break}return(N=d?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(y),m[1]=k,e.line=k,e.parentType=_,L&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,g),!0}},6864:e=>{"use strict";e.exports=function(e,t){var n,r,o,i,s,l,a=t+1,c=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(l=e.parentType,e.parentType="paragraph";a<u&&!e.isEmpty(a);a++)if(!(e.sCount[a]-e.blkIndent>3||e.sCount[a]<0)){for(r=!1,o=0,i=c.length;o<i;o++)if(c[o](e,a,u,!0)){r=!0;break}if(r)break}return n=e.getLines(t,a,e.blkIndent,!1).trim(),e.line=a,(s=e.push("paragraph_open","p",1)).map=[t,e.line],(s=e.push("inline","",0)).content=n,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),e.parentType=l,!0}},3804:(e,t,n)=>{"use strict";var r=n(7022).normalizeReference,o=n(7022).isSpace;e.exports=function(e,t,n,i){var s,l,a,c,u,h,d,p,f,m,g,y,v,b,k,w,x=0,_=e.bMarks[t]+e.tShift[t],S=e.eMarks[t],C=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(_))return!1;for(;++_<S;)if(93===e.src.charCodeAt(_)&&92!==e.src.charCodeAt(_-1)){if(_+1===S)return!1;if(58!==e.src.charCodeAt(_+1))return!1;break}for(c=e.lineMax,k=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";C<c&&!e.isEmpty(C);C++)if(!(e.sCount[C]-e.blkIndent>3||e.sCount[C]<0)){for(b=!1,h=0,d=k.length;h<d;h++)if(k[h](e,C,c,!0)){b=!0;break}if(b)break}for(S=(v=e.getLines(t,C,e.blkIndent,!1).trim()).length,_=1;_<S;_++){if(91===(s=v.charCodeAt(_)))return!1;if(93===s){f=_;break}(10===s||92===s&&++_<S&&10===v.charCodeAt(_))&&x++}if(f<0||58!==v.charCodeAt(f+1))return!1;for(_=f+2;_<S;_++)if(10===(s=v.charCodeAt(_)))x++;else if(!o(s))break;if(!(g=e.md.helpers.parseLinkDestination(v,_,S)).ok)return!1;if(u=e.md.normalizeLink(g.str),!e.md.validateLink(u))return!1;for(l=_=g.pos,a=x+=g.lines,y=_;_<S;_++)if(10===(s=v.charCodeAt(_)))x++;else if(!o(s))break;for(g=e.md.helpers.parseLinkTitle(v,_,S),_<S&&y!==_&&g.ok?(w=g.str,_=g.pos,x+=g.lines):(w="",_=l,x=a);_<S&&(s=v.charCodeAt(_),o(s));)_++;if(_<S&&10!==v.charCodeAt(_)&&w)for(w="",_=l,x=a;_<S&&(s=v.charCodeAt(_),o(s));)_++;return!(_<S&&10!==v.charCodeAt(_)||!(p=r(v.slice(1,f)))||(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[p]&&(e.env.references[p]={title:w,href:u}),e.parentType=m,e.line=t+x+1),0))}},2948:(e,t,n)=>{"use strict";var r=n(5872),o=n(7022).isSpace;function i(e,t,n,r){var i,s,l,a,c,u,h,d;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",d=!1,l=a=u=h=0,c=(s=this.src).length;a<c;a++){if(i=s.charCodeAt(a),!d){if(o(i)){u++,9===i?h+=4-h%4:h++;continue}d=!0}10!==i&&a!==c-1||(10!==i&&a++,this.bMarks.push(l),this.eMarks.push(a),this.tShift.push(u),this.sCount.push(h),this.bsCount.push(0),d=!1,u=0,h=0,l=a+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var o=new r(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),o(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,r){var i,s,l,a,c,u,h,d=e;if(e>=t)return"";for(u=new Array(t-e),i=0;d<t;d++,i++){for(s=0,h=a=this.bMarks[d],c=d+1<t||r?this.eMarks[d]+1:this.eMarks[d];a<c&&s<n;){if(l=this.src.charCodeAt(a),o(l))9===l?s+=4-(s+this.bsCount[d])%4:s++;else{if(!(a-h<this.tShift[d]))break;s++}a++}u[i]=s>n?new Array(s-n+1).join(" ")+this.src.slice(a,c):this.src.slice(a,c)}return u.join("")},i.prototype.Token=r,e.exports=i},1785:(e,t,n)=>{"use strict";var r=n(7022).isSpace;function o(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function i(e){var t,n=[],r=0,o=e.length,i=!1,s=0,l="";for(t=e.charCodeAt(r);r<o;)124===t&&(i?(l+=e.substring(s,r-1),s=r):(n.push(l+e.substring(s,r)),l="",s=r+1)),i=92===t,r++,t=e.charCodeAt(r);return n.push(l+e.substring(s)),n}e.exports=function(e,t,n,s){var l,a,c,u,h,d,p,f,m,g,y,v,b,k,w,x,_,S;if(t+2>n)return!1;if(d=t+1,e.sCount[d]<e.blkIndent)return!1;if(e.sCount[d]-e.blkIndent>=4)return!1;if((c=e.bMarks[d]+e.tShift[d])>=e.eMarks[d])return!1;if(124!==(_=e.src.charCodeAt(c++))&&45!==_&&58!==_)return!1;if(c>=e.eMarks[d])return!1;if(124!==(S=e.src.charCodeAt(c++))&&45!==S&&58!==S&&!r(S))return!1;if(45===_&&r(S))return!1;for(;c<e.eMarks[d];){if(124!==(l=e.src.charCodeAt(c))&&45!==l&&58!==l&&!r(l))return!1;c++}for(p=(a=o(e,t+1)).split("|"),g=[],u=0;u<p.length;u++){if(!(y=p[u].trim())){if(0===u||u===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(y))return!1;58===y.charCodeAt(y.length-1)?g.push(58===y.charCodeAt(0)?"center":"right"):58===y.charCodeAt(0)?g.push("left"):g.push("")}if(-1===(a=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=i(a)).length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),0===(f=p.length)||f!==g.length)return!1;if(s)return!0;for(k=e.parentType,e.parentType="table",x=e.md.block.ruler.getRules("blockquote"),(m=e.push("table_open","table",1)).map=v=[t,0],(m=e.push("thead_open","thead",1)).map=[t,t+1],(m=e.push("tr_open","tr",1)).map=[t,t+1],u=0;u<p.length;u++)m=e.push("th_open","th",1),g[u]&&(m.attrs=[["style","text-align:"+g[u]]]),(m=e.push("inline","",0)).content=p[u].trim(),m.children=[],m=e.push("th_close","th",-1);for(m=e.push("tr_close","tr",-1),m=e.push("thead_close","thead",-1),d=t+2;d<n&&!(e.sCount[d]<e.blkIndent);d++){for(w=!1,u=0,h=x.length;u<h;u++)if(x[u](e,d,n,!0)){w=!0;break}if(w)break;if(!(a=o(e,d).trim()))break;if(e.sCount[d]-e.blkIndent>=4)break;for((p=i(a)).length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),d===t+2&&((m=e.push("tbody_open","tbody",1)).map=b=[t+2,0]),(m=e.push("tr_open","tr",1)).map=[d,d+1],u=0;u<f;u++)m=e.push("td_open","td",1),g[u]&&(m.attrs=[["style","text-align:"+g[u]]]),(m=e.push("inline","",0)).content=p[u]?p[u].trim():"",m.children=[],m=e.push("td_close","td",-1);m=e.push("tr_close","tr",-1)}return b&&(m=e.push("tbody_close","tbody",-1),b[1]=d),m=e.push("table_close","table",-1),v[1]=d,e.parentType=k,e.line=d,!0}},898:e=>{"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},9827:e=>{"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},7830:(e,t,n)=>{"use strict";var r=n(7022).arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,i,s,l,a,c,u,h,d,p,f,m,g,y,v,b,k,w=e.tokens;if(e.md.options.linkify)for(n=0,i=w.length;n<i;n++)if("inline"===w[n].type&&e.md.linkify.pretest(w[n].content))for(m=0,t=(s=w[n].children).length-1;t>=0;t--)if("link_close"!==(a=s[t]).type){if("html_inline"===a.type&&(k=a.content,/^<a[>\s]/i.test(k)&&m>0&&m--,o(a.content)&&m++),!(m>0)&&"text"===a.type&&e.md.linkify.test(a.content)){for(h=a.content,b=e.md.linkify.match(h),c=[],f=a.level,p=0,b.length>0&&0===b[0].index&&t>0&&"text_special"===s[t-1].type&&(b=b.slice(1)),u=0;u<b.length;u++)g=b[u].url,y=e.md.normalizeLink(g),e.md.validateLink(y)&&(v=b[u].text,v=b[u].schema?"mailto:"!==b[u].schema||/^mailto:/i.test(v)?e.md.normalizeLinkText(v):e.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),(d=b[u].index)>p&&((l=new e.Token("text","",0)).content=h.slice(p,d),l.level=f,c.push(l)),(l=new e.Token("link_open","a",1)).attrs=[["href",y]],l.level=f++,l.markup="linkify",l.info="auto",c.push(l),(l=new e.Token("text","",0)).content=v,l.level=f,c.push(l),(l=new e.Token("link_close","a",-1)).level=--f,l.markup="linkify",l.info="auto",c.push(l),p=b[u].lastIndex);p<h.length&&((l=new e.Token("text","",0)).content=h.slice(p),l.level=f,c.push(l)),w[n].children=s=r(s,t,c)}}else for(t--;s[t].level!==a.level&&"link_open"!==s[t].type;)t--}},4129:e=>{"use strict";var t=/\r\n?|\n/g,n=/\0/g;e.exports=function(e){var r;r=(r=e.src.replace(t,"\n")).replace(n,"�"),e.src=r}},2834:e=>{"use strict";var t=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,n=/\((c|tm|r)\)/i,r=/\((c|tm|r)\)/gi,o={c:"©",r:"®",tm:"™"};function i(e,t){return o[t.toLowerCase()]}function s(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||(n.content=n.content.replace(r,i)),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}function l(e){var n,r,o=0;for(n=e.length-1;n>=0;n--)"text"!==(r=e[n]).type||o||t.test(r.content)&&(r.content=r.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===r.type&&"auto"===r.info&&o--,"link_close"===r.type&&"auto"===r.info&&o++}e.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)"inline"===e.tokens[r].type&&(n.test(e.tokens[r].content)&&s(e.tokens[r].children),t.test(e.tokens[r].content)&&l(e.tokens[r].children))}},8450:(e,t,n)=>{"use strict";var r=n(7022).isWhiteSpace,o=n(7022).isPunctChar,i=n(7022).isMdAsciiPunct,s=/['"]/,l=/['"]/g;function a(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function c(e,t){var n,s,c,u,h,d,p,f,m,g,y,v,b,k,w,x,_,S,C,D,E;for(C=[],n=0;n<e.length;n++){for(s=e[n],p=e[n].level,_=C.length-1;_>=0&&!(C[_].level<=p);_--);if(C.length=_+1,"text"===s.type){h=0,d=(c=s.content).length;e:for(;h<d&&(l.lastIndex=h,u=l.exec(c));){if(w=x=!0,h=u.index+1,S="'"===u[0],m=32,u.index-1>=0)m=c.charCodeAt(u.index-1);else for(_=n-1;_>=0&&"softbreak"!==e[_].type&&"hardbreak"!==e[_].type;_--)if(e[_].content){m=e[_].content.charCodeAt(e[_].content.length-1);break}if(g=32,h<d)g=c.charCodeAt(h);else for(_=n+1;_<e.length&&"softbreak"!==e[_].type&&"hardbreak"!==e[_].type;_++)if(e[_].content){g=e[_].content.charCodeAt(0);break}if(y=i(m)||o(String.fromCharCode(m)),v=i(g)||o(String.fromCharCode(g)),b=r(m),(k=r(g))?w=!1:v&&(b||y||(w=!1)),b?x=!1:y&&(k||v||(x=!1)),34===g&&'"'===u[0]&&m>=48&&m<=57&&(x=w=!1),w&&x&&(w=y,x=v),w||x){if(x)for(_=C.length-1;_>=0&&(f=C[_],!(C[_].level<p));_--)if(f.single===S&&C[_].level===p){f=C[_],S?(D=t.md.options.quotes[2],E=t.md.options.quotes[3]):(D=t.md.options.quotes[0],E=t.md.options.quotes[1]),s.content=a(s.content,u.index,E),e[f.token].content=a(e[f.token].content,f.pos,D),h+=E.length-1,f.token===n&&(h+=D.length-1),d=(c=s.content).length,C.length=_;continue e}w?C.push({token:n,pos:u.index,single:S,level:p}):x&&S&&(s.content=a(s.content,u.index,"’"))}else S&&(s.content=a(s.content,u.index,"’"))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&s.test(e.tokens[t].content)&&c(e.tokens[t].children,e)}},6480:(e,t,n)=>{"use strict";var r=n(5872);function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=r,e.exports=o},6633:e=>{"use strict";e.exports=function(e){var t,n,r,o,i,s,l=e.tokens;for(t=0,n=l.length;t<n;t++)if("inline"===l[t].type){for(i=(r=l[t].children).length,o=0;o<i;o++)"text_special"===r[o].type&&(r[o].type="text");for(o=s=0;o<i;o++)"text"===r[o].type&&o+1<i&&"text"===r[o+1].type?r[o+1].content=r[o].content+r[o+1].content:(o!==s&&(r[s]=r[o]),s++);o!==s&&(r.length=s)}}},3420:e=>{"use strict";var t=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,n=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,r){var o,i,s,l,a,c,u=e.pos;if(60!==e.src.charCodeAt(u))return!1;for(a=e.pos,c=e.posMax;;){if(++u>=c)return!1;if(60===(l=e.src.charCodeAt(u)))return!1;if(62===l)break}return o=e.src.slice(a+1,u),n.test(o)?(i=e.md.normalizeLink(o),!!e.md.validateLink(i)&&(r||((s=e.push("link_open","a",1)).attrs=[["href",i]],s.markup="autolink",s.info="auto",(s=e.push("text","",0)).content=e.md.normalizeLinkText(o),(s=e.push("link_close","a",-1)).markup="autolink",s.info="auto"),e.pos+=o.length+2,!0)):!!t.test(o)&&(i=e.md.normalizeLink("mailto:"+o),!!e.md.validateLink(i)&&(r||((s=e.push("link_open","a",1)).attrs=[["href",i]],s.markup="autolink",s.info="auto",(s=e.push("text","",0)).content=e.md.normalizeLinkText(o),(s=e.push("link_close","a",-1)).markup="autolink",s.info="auto"),e.pos+=o.length+2,!0))}},9755:e=>{"use strict";e.exports=function(e,t){var n,r,o,i,s,l,a,c,u=e.pos;if(96!==e.src.charCodeAt(u))return!1;for(n=u,u++,r=e.posMax;u<r&&96===e.src.charCodeAt(u);)u++;if(a=(o=e.src.slice(n,u)).length,e.backticksScanned&&(e.backticks[a]||0)<=n)return t||(e.pending+=o),e.pos+=a,!0;for(s=l=u;-1!==(s=e.src.indexOf("`",l));){for(l=s+1;l<r&&96===e.src.charCodeAt(l);)l++;if((c=l-s)===a)return t||((i=e.push("code_inline","code",0)).markup=o,i.content=e.src.slice(u,s).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=l,!0;e.backticks[c]=s}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=a,!0}},9354:e=>{"use strict";function t(e,t){var n,r,o,i,s,l,a,c,u={},h=t.length;if(h){var d=0,p=-2,f=[];for(n=0;n<h;n++)if(o=t[n],f.push(0),t[d].marker===o.marker&&p===o.token-1||(d=n),p=o.token,o.length=o.length||0,o.close){for(u.hasOwnProperty(o.marker)||(u[o.marker]=[-1,-1,-1,-1,-1,-1]),s=u[o.marker][(o.open?3:0)+o.length%3],l=r=d-f[d]-1;r>s;r-=f[r]+1)if((i=t[r]).marker===o.marker&&i.open&&i.end<0&&(a=!1,(i.close||o.open)&&(i.length+o.length)%3==0&&(i.length%3==0&&o.length%3==0||(a=!0)),!a)){c=r>0&&!t[r-1].open?f[r-1]+1:0,f[n]=n-r+c,f[r]=c,o.open=!1,i.end=n,i.close=!1,l=-1,p=-2;break}-1!==l&&(u[o.marker][(o.open?3:0)+(o.length||0)%3]=l)}}}e.exports=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(t(0,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&t(0,r[n].delimiters)}},7894:e=>{"use strict";function t(e,t){var n,r,o,i,s,l;for(n=t.length-1;n>=0;n--)95!==(r=t[n]).marker&&42!==r.marker||-1!==r.end&&(o=t[r.end],l=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1,s=String.fromCharCode(r.marker),(i=e.tokens[r.token]).type=l?"strong_open":"em_open",i.tag=l?"strong":"em",i.nesting=1,i.markup=l?s+s:s,i.content="",(i=e.tokens[o.token]).type=l?"strong_close":"em_close",i.tag=l?"strong":"em",i.nesting=-1,i.markup=l?s+s:s,i.content="",l&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}e.exports.w=function(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.g=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(t(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&t(e,r[n].delimiters)}},9391:(e,t,n)=>{"use strict";var r=n(6233),o=n(7022).has,i=n(7022).isValidEntityCode,s=n(7022).fromCodePoint,l=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,a=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,c,u,h=e.pos,d=e.posMax;if(38!==e.src.charCodeAt(h))return!1;if(h+1>=d)return!1;if(35===e.src.charCodeAt(h+1)){if(c=e.src.slice(h).match(l))return t||(n="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),(u=e.push("text_special","",0)).content=i(n)?s(n):s(65533),u.markup=c[0],u.info="entity"),e.pos+=c[0].length,!0}else if((c=e.src.slice(h).match(a))&&o(r,c[1]))return t||((u=e.push("text_special","",0)).content=r[c[1]],u.markup=c[0],u.info="entity"),e.pos+=c[0].length,!0;return!1}},1917:(e,t,n)=>{"use strict";for(var r=n(7022).isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){o[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,i,s,l,a,c=e.pos,u=e.posMax;if(92!==e.src.charCodeAt(c))return!1;if(++c>=u)return!1;if(10===(n=e.src.charCodeAt(c))){for(t||e.push("hardbreak","br",0),c++;c<u&&(n=e.src.charCodeAt(c),r(n));)c++;return e.pos=c,!0}return l=e.src[c],n>=55296&&n<=56319&&c+1<u&&(i=e.src.charCodeAt(c+1))>=56320&&i<=57343&&(l+=e.src[c+1],c++),s="\\"+l,t||(a=e.push("text_special","",0),n<256&&0!==o[n]?a.content=l:a.content=s,a.markup=s,a.info="escape"),e.pos=c+1,!0}},9969:e=>{"use strict";e.exports=function(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)o[t].nesting<0&&r--,o[t].level=r,o[t].nesting>0&&r++,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},1779:(e,t,n)=>{"use strict";var r=n(1947).n;e.exports=function(e,t){var n,o,i,s,l,a=e.pos;return!(!e.md.options.html||(i=e.posMax,60!==e.src.charCodeAt(a)||a+2>=i||33!==(n=e.src.charCodeAt(a+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n)||!(o=e.src.slice(a).match(r))||(t||((s=e.push("html_inline","",0)).content=e.src.slice(a,a+o[0].length),l=s.content,/^<a[>\s]/i.test(l)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(s.content)&&e.linkLevel--),e.pos+=o[0].length,0)))}},3006:(e,t,n)=>{"use strict";var r=n(7022).normalizeReference,o=n(7022).isSpace;e.exports=function(e,t){var n,i,s,l,a,c,u,h,d,p,f,m,g,y="",v=e.pos,b=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(c=e.pos+2,(a=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((u=a+1)<b&&40===e.src.charCodeAt(u)){for(u++;u<b&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(u>=b)return!1;for(g=u,(d=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(y=e.md.normalizeLink(d.str),e.md.validateLink(y)?u=d.pos:y=""),g=u;u<b&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(d=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<b&&g!==u&&d.ok)for(p=d.str,u=d.pos;u<b&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);else p="";if(u>=b||41!==e.src.charCodeAt(u))return e.pos=v,!1;u++}else{if(void 0===e.env.references)return!1;if(u<b&&91===e.src.charCodeAt(u)?(g=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?l=e.src.slice(g,u++):u=a+1):u=a+1,l||(l=e.src.slice(c,a)),!(h=e.env.references[r(l)]))return e.pos=v,!1;y=h.href,p=h.title}return t||(s=e.src.slice(c,a),e.md.inline.parse(s,e.md,e.env,m=[]),(f=e.push("image","img",0)).attrs=n=[["src",y],["alt",""]],f.children=m,f.content=s,p&&n.push(["title",p])),e.pos=u,e.posMax=b,!0}},1727:(e,t,n)=>{"use strict";var r=n(7022).normalizeReference,o=n(7022).isSpace;e.exports=function(e,t){var n,i,s,l,a,c,u,h,d="",p="",f=e.pos,m=e.posMax,g=e.pos,y=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(a=e.pos+1,(l=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((c=l+1)<m&&40===e.src.charCodeAt(c)){for(y=!1,c++;c<m&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);if(c>=m)return!1;if(g=c,(u=e.md.helpers.parseLinkDestination(e.src,c,e.posMax)).ok){for(d=e.md.normalizeLink(u.str),e.md.validateLink(d)?c=u.pos:d="",g=c;c<m&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);if(u=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<m&&g!==c&&u.ok)for(p=u.str,c=u.pos;c<m&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);}(c>=m||41!==e.src.charCodeAt(c))&&(y=!0),c++}if(y){if(void 0===e.env.references)return!1;if(c<m&&91===e.src.charCodeAt(c)?(g=c+1,(c=e.md.helpers.parseLinkLabel(e,c))>=0?s=e.src.slice(g,c++):c=l+1):c=l+1,s||(s=e.src.slice(a,l)),!(h=e.env.references[r(s)]))return e.pos=f,!1;d=h.href,p=h.title}return t||(e.pos=a,e.posMax=l,e.push("link_open","a",1).attrs=n=[["href",d]],p&&n.push(["title",p]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)),e.pos=c,e.posMax=m,!0}},2906:e=>{"use strict";var t=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;e.exports=function(e,n){var r,o,i,s,l,a,c;return!(!e.md.options.linkify||e.linkLevel>0||(r=e.pos)+3>e.posMax||58!==e.src.charCodeAt(r)||47!==e.src.charCodeAt(r+1)||47!==e.src.charCodeAt(r+2)||!(o=e.pending.match(t))||(i=o[1],!(s=e.md.linkify.matchAtStart(e.src.slice(r-i.length)))||(l=(l=s.url).replace(/\*+$/,""),a=e.md.normalizeLink(l),!e.md.validateLink(a)||(n||(e.pending=e.pending.slice(0,-i.length),(c=e.push("link_open","a",1)).attrs=[["href",a]],c.markup="linkify",c.info="auto",(c=e.push("text","",0)).content=e.md.normalizeLinkText(l),(c=e.push("link_close","a",-1)).markup="linkify",c.info="auto"),e.pos+=l.length-i.length,0))))}},3905:(e,t,n)=>{"use strict";var r=n(7022).isSpace;e.exports=function(e,t){var n,o,i,s=e.pos;if(10!==e.src.charCodeAt(s))return!1;if(n=e.pending.length-1,o=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(i=n-1;i>=1&&32===e.pending.charCodeAt(i-1);)i--;e.pending=e.pending.slice(0,i),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(s++;s<o&&r(e.src.charCodeAt(s));)s++;return e.pos=s,!0}},670:(e,t,n)=>{"use strict";var r=n(5872),o=n(7022).isWhiteSpace,i=n(7022).isPunctChar,s=n(7022).isMdAsciiPunct;function l(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}l.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},l.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new r(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o},l.prototype.scanDelims=function(e,t){var n,r,l,a,c,u,h,d,p,f=e,m=!0,g=!0,y=this.posMax,v=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;f<y&&this.src.charCodeAt(f)===v;)f++;return l=f-e,r=f<y?this.src.charCodeAt(f):32,h=s(n)||i(String.fromCharCode(n)),p=s(r)||i(String.fromCharCode(r)),u=o(n),(d=o(r))?m=!1:p&&(u||h||(m=!1)),u?g=!1:h&&(d||p||(g=!1)),t?(a=m,c=g):(a=m&&(!g||h),c=g&&(!m||p)),{can_open:a,can_close:c,length:l}},l.prototype.Token=r,e.exports=l},4814:e=>{"use strict";function t(e,t){var n,r,o,i,s,l=[],a=t.length;for(n=0;n<a;n++)126===(o=t[n]).marker&&-1!==o.end&&(i=t[o.end],(s=e.tokens[o.token]).type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",(s=e.tokens[i.token]).type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&l.push(i.token-1));for(;l.length;){for(r=(n=l.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;n!==--r&&(s=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=s)}}e.exports.w=function(e,t){var n,r,o,i,s=e.pos,l=e.src.charCodeAt(s);if(t)return!1;if(126!==l)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(l),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:l,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.g=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(t(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&t(e,r[n].delimiters)}},9941:e=>{"use strict";function t(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,n){for(var r=e.pos;r<e.posMax&&!t(e.src.charCodeAt(r));)r++;return r!==e.pos&&(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}},5872:e=>{"use strict";function t(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}t.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},t.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},t.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},t.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},t.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=t},3122:e=>{"use strict";var t={};function n(e,r){var o;return"string"!=typeof r&&(r=n.defaultChars),o=function(e){var n,r,o=t[e];if(o)return o;for(o=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),o.push(r);for(n=0;n<e.length;n++)o[r=e.charCodeAt(n)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return o}(r),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,n,r,i,s,l,a,c="";for(t=0,n=e.length;t<n;t+=3)(r=parseInt(e.slice(t+1,t+3),16))<128?c+=o[r]:192==(224&r)&&t+3<n&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(c+=(a=r<<6&1984|63&i)<128?"��":String.fromCharCode(a),t+=3):224==(240&r)&&t+6<n&&(i=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&s))?(c+=(a=r<<12&61440|i<<6&4032|63&s)<2048||a>=55296&&a<=57343?"���":String.fromCharCode(a),t+=6):240==(248&r)&&t+9<n&&(i=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),l=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&s)&&128==(192&l))?((a=r<<18&1835008|i<<12&258048|s<<6&4032|63&l)<65536||a>1114111?c+="����":(a-=65536,c+=String.fromCharCode(55296+(a>>10),56320+(1023&a))),t+=9):c+="�";return c}))}n.defaultChars=";/?:@&=+$,#",n.componentChars="",e.exports=n},729:e=>{"use strict";var t={};function n(e,r,o){var i,s,l,a,c,u="";for("string"!=typeof r&&(o=r,r=n.defaultChars),void 0===o&&(o=!0),c=function(e){var n,r,o=t[e];if(o)return o;for(o=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),/^[0-9a-z]$/i.test(r)?o.push(r):o.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2));for(n=0;n<e.length;n++)o[e.charCodeAt(n)]=e[n];return o}(r),i=0,s=e.length;i<s;i++)if(l=e.charCodeAt(i),o&&37===l&&i+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))u+=e.slice(i,i+3),i+=2;else if(l<128)u+=c[l];else if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&i+1<s&&(a=e.charCodeAt(i+1))>=56320&&a<=57343){u+=encodeURIComponent(e[i]+e[i+1]),i++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[i]);return u}n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},2201:e=>{"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",(t+=e.search||"")+(e.hash||"")}},8765:(e,t,n)=>{"use strict";e.exports.encode=n(729),e.exports.decode=n(3122),e.exports.format=n(2201),e.exports.parse=n(9553)},9553:e=>{"use strict";function t(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var n=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),s=["'"].concat(i),l=["%","/","?",";","#"].concat(s),a=["/","?","#"],c=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};t.prototype.parse=function(e,t){var r,i,s,p,f,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var g=o.exec(m);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var y=n.exec(m);if(y&&(s=(y=y[0]).toLowerCase(),this.protocol=y,m=m.substr(y.length)),(t||y||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(f="//"===m.substr(0,2))||y&&h[y]||(m=m.substr(2),this.slashes=!0)),!h[y]&&(f||y&&!d[y])){var v,b,k=-1;for(r=0;r<a.length;r++)-1!==(p=m.indexOf(a[r]))&&(-1===k||p<k)&&(k=p);for(-1!==(b=-1===k?m.lastIndexOf("@"):m.lastIndexOf("@",k))&&(v=m.slice(0,b),m=m.slice(b+1),this.auth=v),k=-1,r=0;r<l.length;r++)-1!==(p=m.indexOf(l[r]))&&(-1===k||p<k)&&(k=p);-1===k&&(k=m.length),":"===m[k-1]&&k--;var w=m.slice(0,k);m=m.slice(k),this.parseHost(w),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x){var _=this.hostname.split(/\./);for(r=0,i=_.length;r<i;r++){var S=_[r];if(S&&!S.match(c)){for(var C="",D=0,E=S.length;D<E;D++)S.charCodeAt(D)>127?C+="x":C+=S[D];if(!C.match(c)){var T=_.slice(0,r),M=_.slice(r+1),A=S.match(u);A&&(T.push(A[1]),M.unshift(A[2])),M.length&&(m=M.join(".")+m),this.hostname=T.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var O=m.indexOf("#");-1!==O&&(this.hash=m.substr(O),m=m.slice(0,O));var I=m.indexOf("?");return-1!==I&&(this.search=m.substr(I),m=m.slice(0,I)),m&&(this.pathname=m),d[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this},t.prototype.parseHost=function(e){var t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,n){if(e&&e instanceof t)return e;var r=new t;return r.parse(e,n),r}},3689:(e,t,n)=>{"use strict";n.r(t),n.d(t,{decode:()=>y,default:()=>w,encode:()=>v,toASCII:()=>k,toUnicode:()=>b,ucs2decode:()=>p,ucs2encode:()=>f});const r=2147483647,o=36,i=/^xn--/,s=/[^\0-\x7F]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,a={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,u=String.fromCharCode;function h(e){throw new RangeError(a[e])}function d(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const o=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(l,".")).split("."),t).join(".");return r+o}function p(e){const t=[];let n=0;const r=e.length;for(;n<r;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--)}else t.push(o)}return t}const f=e=>String.fromCodePoint(...e),m=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},g=function(e,t,n){let r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;r+=o)e=c(e/35);return c(r+36*e/(e+38))},y=function(e){const t=[],n=e.length;let i=0,s=128,l=72,a=e.lastIndexOf("-");a<0&&(a=0);for(let n=0;n<a;++n)e.charCodeAt(n)>=128&&h("not-basic"),t.push(e.charCodeAt(n));for(let d=a>0?a+1:0;d<n;){const a=i;for(let t=1,s=o;;s+=o){d>=n&&h("invalid-input");const a=(u=e.charCodeAt(d++))>=48&&u<58?u-48+26:u>=65&&u<91?u-65:u>=97&&u<123?u-97:o;a>=o&&h("invalid-input"),a>c((r-i)/t)&&h("overflow"),i+=a*t;const p=s<=l?1:s>=l+26?26:s-l;if(a<p)break;const f=o-p;t>c(r/f)&&h("overflow"),t*=f}const p=t.length+1;l=g(i-a,p,0==a),c(i/p)>r-s&&h("overflow"),s+=c(i/p),i%=p,t.splice(i++,0,s)}var u;return String.fromCodePoint(...t)},v=function(e){const t=[],n=(e=p(e)).length;let i=128,s=0,l=72;for(const n of e)n<128&&t.push(u(n));const a=t.length;let d=a;for(a&&t.push("-");d<n;){let n=r;for(const t of e)t>=i&&t<n&&(n=t);const p=d+1;n-i>c((r-s)/p)&&h("overflow"),s+=(n-i)*p,i=n;for(const n of e)if(n<i&&++s>r&&h("overflow"),n===i){let e=s;for(let n=o;;n+=o){const r=n<=l?1:n>=l+26?26:n-l;if(e<r)break;const i=e-r,s=o-r;t.push(u(m(r+i%s,0))),e=c(i/s)}t.push(u(m(e,0))),l=g(s,p,d===a),s=0,++d}++s,++i}return t.join("")},b=function(e){return d(e,(function(e){return i.test(e)?y(e.slice(4).toLowerCase()):e}))},k=function(e){return d(e,(function(e){return s.test(e)?"xn--"+v(e):e}))},w={version:"2.1.0",ucs2:{decode:p,encode:f},decode:y,encode:v,toASCII:k,toUnicode:b}},9413:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},2326:e=>{e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},3189:e=>{e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},5045:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},4205:(e,t,n)=>{"use strict";t.Any=n(9369),t.Cc=n(9413),t.Cf=n(2326),t.P=n(3189),t.Z=n(5045)},9369:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},9323:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};function t(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.r(e),n.d(e,{BaseTransition:()=>pr,BaseTransitionPropsValidators:()=>dr,Comment:()=>Ci,EffectScope:()=>ce,Fragment:()=>_i,KeepAlive:()=>Dr,ReactiveEffect:()=>Se,Static:()=>Di,Suspense:()=>Jn,Teleport:()=>wi,Text:()=>Si,Transition:()=>il,TransitionGroup:()=>Sl,VueElement:()=>Xs,assertNumber:()=>on,callWithAsyncErrorHandling:()=>ln,callWithErrorHandling:()=>sn,camelize:()=>I,capitalize:()=>L,cloneVNode:()=>Wi,compatUtils:()=>Rs,computed:()=>Ss,createApp:()=>na,createBlock:()=>Fi,createCommentVNode:()=>Ki,createElementBlock:()=>Li,createElementVNode:()=>ji,createHydrationRenderer:()=>di,createPropsRestProxy:()=>Co,createRenderer:()=>hi,createSSRApp:()=>ra,createSlots:()=>to,createStaticVNode:()=>Gi,createTextVNode:()=>Ji,createVNode:()=>Hi,customRef:()=>Zt,defineAsyncComponent:()=>xr,defineComponent:()=>kr,defineCustomElement:()=>Ks,defineEmits:()=>ho,defineExpose:()=>po,defineModel:()=>go,defineOptions:()=>fo,defineProps:()=>uo,defineSSRCustomElement:()=>Zs,defineSlots:()=>mo,devtools:()=>En,effect:()=>De,effectScope:()=>ue,getCurrentInstance:()=>ss,getCurrentScope:()=>de,getTransitionRawChildren:()=>br,guardReactiveProps:()=>Ui,h:()=>Cs,handleError:()=>an,hasInjectionContext:()=>Ho,hydrate:()=>ta,initCustomFormatter:()=>Ts,initDirectivesForSSR:()=>sa,inject:()=>jo,isMemoSame:()=>As,isProxy:()=>It,isReactive:()=>Mt,isReadonly:()=>At,isRef:()=>$t,isRuntimeOnly:()=>bs,isShallow:()=>Ot,isVNode:()=>Pi,markRaw:()=>Rt,mergeDefaults:()=>_o,mergeModels:()=>So,mergeProps:()=>Qi,nextTick:()=>vn,normalizeClass:()=>Y,normalizeProps:()=>X,normalizeStyle:()=>W,onActivated:()=>Tr,onBeforeMount:()=>Fr,onBeforeUnmount:()=>Br,onBeforeUpdate:()=>zr,onDeactivated:()=>Mr,onErrorCaptured:()=>Ur,onMounted:()=>Pr,onRenderTracked:()=>Hr,onRenderTriggered:()=>jr,onScopeDispose:()=>pe,onServerPrefetch:()=>Vr,onUnmounted:()=>qr,onUpdated:()=>$r,openBlock:()=>Mi,popScopeId:()=>zn,provide:()=>Vo,proxyRefs:()=>Gt,pushScopeId:()=>Pn,queuePostFlushCb:()=>wn,reactive:()=>St,readonly:()=>Dt,ref:()=>Bt,registerRuntimeCompiler:()=>vs,render:()=>ea,renderList:()=>eo,renderSlot:()=>no,resolveComponent:()=>Gr,resolveDirective:()=>Yr,resolveDynamicComponent:()=>Zr,resolveFilter:()=>Ns,resolveTransitionHooks:()=>mr,setBlockTracking:()=>Ni,setDevtoolsHook:()=>An,setTransitionHooks:()=>vr,shallowReactive:()=>Ct,shallowReadonly:()=>Et,shallowRef:()=>qt,ssrContextKey:()=>Ds,ssrUtils:()=>Is,stop:()=>Ee,toDisplayString:()=>se,toHandlerKey:()=>F,toHandlers:()=>oo,toRaw:()=>Nt,toRef:()=>en,toRefs:()=>Yt,toValue:()=>Wt,transformVNodeArgs:()=>$i,triggerRef:()=>Ht,unref:()=>Ut,useAttrs:()=>bo,useCssModule:()=>Qs,useCssVars:()=>el,useModel:()=>ko,useSSRContext:()=>Es,useSlots:()=>vo,useTransitionState:()=>ur,vModelCheckbox:()=>Il,vModelDynamic:()=>$l,vModelRadio:()=>Rl,vModelSelect:()=>Ll,vModelText:()=>Ol,vShow:()=>Jl,version:()=>Os,warn:()=>rn,watch:()=>rr,watchEffect:()=>Qn,watchPostEffect:()=>er,watchSyncEffect:()=>tr,withAsyncContext:()=>Do,withCtx:()=>Bn,withDefaults:()=>yo,withDirectives:()=>ar,withKeys:()=>Wl,withMemo:()=>Ms,withModifiers:()=>Hl,withScopeId:()=>$n});const r={},o=[],i=()=>{},s=()=>!1,l=/^on[^a-z]/,a=e=>l.test(e),c=e=>e.startsWith("onUpdate:"),u=Object.assign,h=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},d=Object.prototype.hasOwnProperty,p=(e,t)=>d.call(e,t),f=Array.isArray,m=e=>"[object Map]"===S(e),g=e=>"[object Set]"===S(e),y=e=>"[object Date]"===S(e),v=e=>"function"==typeof e,b=e=>"string"==typeof e,k=e=>"symbol"==typeof e,w=e=>null!==e&&"object"==typeof e,x=e=>w(e)&&v(e.then)&&v(e.catch),_=Object.prototype.toString,S=e=>_.call(e),C=e=>S(e).slice(8,-1),D=e=>"[object Object]"===S(e),E=e=>b(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,T=t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M=t("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),A=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},O=/-(\w)/g,I=A((e=>e.replace(O,((e,t)=>t?t.toUpperCase():"")))),N=/\B([A-Z])/g,R=A((e=>e.replace(N,"-$1").toLowerCase())),L=A((e=>e.charAt(0).toUpperCase()+e.slice(1))),F=A((e=>e?`on${L(e)}`:"")),P=(e,t)=>!Object.is(e,t),z=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},$=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},B=e=>{const t=parseFloat(e);return isNaN(t)?e:t},q=e=>{const t=b(e)?Number(e):NaN;return isNaN(t)?e:t};let V;const j=()=>V||(V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),H={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},U=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console");function W(e){if(f(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=b(r)?Z(r):W(r);if(o)for(const e in o)t[e]=o[e]}return t}return b(e)||w(e)?e:void 0}const J=/;(?![^(]*\))/g,G=/:([^]+)/,K=/\/\*[^]*?\*\//g;function Z(e){const t={};return e.replace(K,"").split(J).forEach((e=>{if(e){const n=e.split(G);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Y(e){let t="";if(b(e))t=e;else if(f(e))for(let n=0;n<e.length;n++){const r=Y(e[n]);r&&(t+=r+" ")}else if(w(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function X(e){if(!e)return null;let{class:t,style:n}=e;return t&&!b(t)&&(e.class=Y(t)),n&&(e.style=W(n)),e}const Q=t("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),ee=t("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),te=t("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),ne=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function re(e){return!!e||""===e}function oe(e,t){if(e===t)return!0;let n=y(e),r=y(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=k(e),r=k(t),n||r)return e===t;if(n=f(e),r=f(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=oe(e[r],t[r]);return n}(e,t);if(n=w(e),r=w(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(r&&!o||!r&&o||!oe(e[n],t[n]))return!1}}return String(e)===String(t)}function ie(e,t){return e.findIndex((e=>oe(e,t)))}const se=e=>b(e)?e:null==e?"":f(e)||w(e)&&(e.toString===_||!v(e.toString))?JSON.stringify(e,le,2):String(e),le=(e,t)=>t&&t.__v_isRef?le(e,t.value):m(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:g(t)?{[`Set(${t.size})`]:[...t.values()]}:!w(t)||f(t)||D(t)?t:String(t);let ae;class ce{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ae,!e&&ae&&(this.index=(ae.scopes||(ae.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=ae;try{return ae=this,e()}finally{ae=t}}}on(){ae=this}off(){ae=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function ue(e){return new ce(e)}function he(e,t=ae){t&&t.active&&t.effects.push(e)}function de(){return ae}function pe(e){ae&&ae.cleanups.push(e)}const fe=e=>{const t=new Set(e);return t.w=0,t.n=0,t},me=e=>(e.w&be)>0,ge=e=>(e.n&be)>0,ye=new WeakMap;let ve=0,be=1;const ke=30;let we;const xe=Symbol(""),_e=Symbol("");class Se{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,he(this,n)}run(){if(!this.active)return this.fn();let e=we,t=Te;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=we,we=this,Te=!0,be=1<<++ve,ve<=ke?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=be})(this):Ce(this),this.fn()}finally{ve<=ke&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];me(o)&&!ge(o)?o.delete(e):t[n++]=o,o.w&=~be,o.n&=~be}t.length=n}})(this),be=1<<--ve,we=this.parent,Te=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){we===this?this.deferStop=!0:this.active&&(Ce(this),this.onStop&&this.onStop(),this.active=!1)}}function Ce(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function De(e,t){e.effect&&(e=e.effect.fn);const n=new Se(e);t&&(u(n,t),t.scope&&he(n,t.scope)),t&&t.lazy||n.run();const r=n.run.bind(n);return r.effect=n,r}function Ee(e){e.effect.stop()}let Te=!0;const Me=[];function Ae(){Me.push(Te),Te=!1}function Oe(){const e=Me.pop();Te=void 0===e||e}function Ie(e,t,n){if(Te&&we){let t=ye.get(e);t||ye.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=fe()),Ne(r)}}function Ne(e,t){let n=!1;ve<=ke?ge(e)||(e.n|=be,n=!me(e)):n=!e.has(we),n&&(e.add(we),we.deps.push(e))}function Re(e,t,n,r,o,i){const s=ye.get(e);if(!s)return;let l=[];if("clear"===t)l=[...s.values()];else if("length"===n&&f(e)){const e=Number(r);s.forEach(((t,n)=>{("length"===n||n>=e)&&l.push(t)}))}else switch(void 0!==n&&l.push(s.get(n)),t){case"add":f(e)?E(n)&&l.push(s.get("length")):(l.push(s.get(xe)),m(e)&&l.push(s.get(_e)));break;case"delete":f(e)||(l.push(s.get(xe)),m(e)&&l.push(s.get(_e)));break;case"set":m(e)&&l.push(s.get(xe))}if(1===l.length)l[0]&&Le(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);Le(fe(e))}}function Le(e,t){const n=f(e)?e:[...e];for(const e of n)e.computed&&Fe(e);for(const e of n)e.computed||Fe(e)}function Fe(e,t){(e!==we||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Pe=t("__proto__,__v_isRef,__isVue"),ze=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(k)),$e=We(),Be=We(!1,!0),qe=We(!0),Ve=We(!0,!0),je=He();function He(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Nt(this);for(let e=0,t=this.length;e<t;e++)Ie(n,0,e+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Nt)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){Ae();const n=Nt(this)[t].apply(this,e);return Oe(),n}})),e}function Ue(e){const t=Nt(this);return Ie(t,0,e),t.hasOwnProperty(e)}function We(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&o===(e?t?_t:xt:t?wt:kt).get(n))return n;const i=f(n);if(!e){if(i&&p(je,r))return Reflect.get(je,r,o);if("hasOwnProperty"===r)return Ue}const s=Reflect.get(n,r,o);return(k(r)?ze.has(r):Pe(r))?s:(e||Ie(n,0,r),t?s:$t(s)?i&&E(r)?s:s.value:w(s)?e?Dt(s):St(s):s)}}function Je(e=!1){return function(t,n,r,o){let i=t[n];if(At(i)&&$t(i)&&!$t(r))return!1;if(!e&&(Ot(r)||At(r)||(i=Nt(i),r=Nt(r)),!f(t)&&$t(i)&&!$t(r)))return i.value=r,!0;const s=f(t)&&E(n)?Number(n)<t.length:p(t,n),l=Reflect.set(t,n,r,o);return t===Nt(o)&&(s?P(r,i)&&Re(t,"set",n,r):Re(t,"add",n,r)),l}}const Ge={get:$e,set:Je(),deleteProperty:function(e,t){const n=p(e,t),r=(e[t],Reflect.deleteProperty(e,t));return r&&n&&Re(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return k(t)&&ze.has(t)||Ie(e,0,t),n},ownKeys:function(e){return Ie(e,0,f(e)?"length":xe),Reflect.ownKeys(e)}},Ke={get:qe,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Ze=u({},Ge,{get:Be,set:Je(!0)}),Ye=u({},Ke,{get:Ve}),Xe=e=>e,Qe=e=>Reflect.getPrototypeOf(e);function et(e,t,n=!1,r=!1){const o=Nt(e=e.__v_raw),i=Nt(t);n||(t!==i&&Ie(o,0,t),Ie(o,0,i));const{has:s}=Qe(o),l=r?Xe:n?Ft:Lt;return s.call(o,t)?l(e.get(t)):s.call(o,i)?l(e.get(i)):void(e!==o&&e.get(t))}function tt(e,t=!1){const n=this.__v_raw,r=Nt(n),o=Nt(e);return t||(e!==o&&Ie(r,0,e),Ie(r,0,o)),e===o?n.has(e):n.has(e)||n.has(o)}function nt(e,t=!1){return e=e.__v_raw,!t&&Ie(Nt(e),0,xe),Reflect.get(e,"size",e)}function rt(e){e=Nt(e);const t=Nt(this);return Qe(t).has.call(t,e)||(t.add(e),Re(t,"add",e,e)),this}function ot(e,t){t=Nt(t);const n=Nt(this),{has:r,get:o}=Qe(n);let i=r.call(n,e);i||(e=Nt(e),i=r.call(n,e));const s=o.call(n,e);return n.set(e,t),i?P(t,s)&&Re(n,"set",e,t):Re(n,"add",e,t),this}function it(e){const t=Nt(this),{has:n,get:r}=Qe(t);let o=n.call(t,e);o||(e=Nt(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&Re(t,"delete",e,void 0),i}function st(){const e=Nt(this),t=0!==e.size,n=e.clear();return t&&Re(e,"clear",void 0,void 0),n}function lt(e,t){return function(n,r){const o=this,i=o.__v_raw,s=Nt(i),l=t?Xe:e?Ft:Lt;return!e&&Ie(s,0,xe),i.forEach(((e,t)=>n.call(r,l(e),l(t),o)))}}function at(e,t,n){return function(...r){const o=this.__v_raw,i=Nt(o),s=m(i),l="entries"===e||e===Symbol.iterator&&s,a="keys"===e&&s,c=o[e](...r),u=n?Xe:t?Ft:Lt;return!t&&Ie(i,0,a?_e:xe),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function ct(e){return function(...t){return"delete"!==e&&this}}function ut(){const e={get(e){return et(this,e)},get size(){return nt(this)},has:tt,add:rt,set:ot,delete:it,clear:st,forEach:lt(!1,!1)},t={get(e){return et(this,e,!1,!0)},get size(){return nt(this)},has:tt,add:rt,set:ot,delete:it,clear:st,forEach:lt(!1,!0)},n={get(e){return et(this,e,!0)},get size(){return nt(this,!0)},has(e){return tt.call(this,e,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:lt(!0,!1)},r={get(e){return et(this,e,!0,!0)},get size(){return nt(this,!0)},has(e){return tt.call(this,e,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:lt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{e[o]=at(o,!1,!1),n[o]=at(o,!0,!1),t[o]=at(o,!1,!0),r[o]=at(o,!0,!0)})),[e,n,t,r]}const[ht,dt,pt,ft]=ut();function mt(e,t){const n=t?e?ft:pt:e?dt:ht;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(p(n,r)&&r in t?n:t,r,o)}const gt={get:mt(!1,!1)},yt={get:mt(!1,!0)},vt={get:mt(!0,!1)},bt={get:mt(!0,!0)},kt=new WeakMap,wt=new WeakMap,xt=new WeakMap,_t=new WeakMap;function St(e){return At(e)?e:Tt(e,!1,Ge,gt,kt)}function Ct(e){return Tt(e,!1,Ze,yt,wt)}function Dt(e){return Tt(e,!0,Ke,vt,xt)}function Et(e){return Tt(e,!0,Ye,bt,_t)}function Tt(e,t,n,r,o){if(!w(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=(l=e).__v_skip||!Object.isExtensible(l)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(C(l));var l;if(0===s)return e;const a=new Proxy(e,2===s?r:n);return o.set(e,a),a}function Mt(e){return At(e)?Mt(e.__v_raw):!(!e||!e.__v_isReactive)}function At(e){return!(!e||!e.__v_isReadonly)}function Ot(e){return!(!e||!e.__v_isShallow)}function It(e){return Mt(e)||At(e)}function Nt(e){const t=e&&e.__v_raw;return t?Nt(t):e}function Rt(e){return $(e,"__v_skip",!0),e}const Lt=e=>w(e)?St(e):e,Ft=e=>w(e)?Dt(e):e;function Pt(e){Te&&we&&Ne((e=Nt(e)).dep||(e.dep=fe()))}function zt(e,t){const n=(e=Nt(e)).dep;n&&Le(n)}function $t(e){return!(!e||!0!==e.__v_isRef)}function Bt(e){return Vt(e,!1)}function qt(e){return Vt(e,!0)}function Vt(e,t){return $t(e)?e:new jt(e,t)}class jt{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Nt(e),this._value=t?e:Lt(e)}get value(){return Pt(this),this._value}set value(e){const t=this.__v_isShallow||Ot(e)||At(e);e=t?e:Nt(e),P(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Lt(e),zt(this))}}function Ht(e){zt(e)}function Ut(e){return $t(e)?e.value:e}function Wt(e){return v(e)?e():Ut(e)}const Jt={get:(e,t,n)=>Ut(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return $t(o)&&!$t(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Gt(e){return Mt(e)?e:new Proxy(e,Jt)}class Kt{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>Pt(this)),(()=>zt(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function Zt(e){return new Kt(e)}function Yt(e){const t=f(e)?new Array(e.length):{};for(const n in e)t[n]=tn(e,n);return t}class Xt{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return e=Nt(this._object),t=this._key,null==(n=ye.get(e))?void 0:n.get(t);var e,t,n}}class Qt{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function en(e,t,n){return $t(e)?e:v(e)?new Qt(e):w(e)&&arguments.length>1?tn(e,t,n):Bt(e)}function tn(e,t,n){const r=e[t];return $t(r)?r:new Xt(e,t,n)}class nn{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Se(e,(()=>{this._dirty||(this._dirty=!0,zt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=Nt(this);return Pt(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function rn(e,...t){}function on(e,t){}function sn(e,t,n,r){let o;try{o=r?e(...r):e()}catch(e){an(e,t,n)}return o}function ln(e,t,n,r){if(v(e)){const o=sn(e,t,n,r);return o&&x(o)&&o.catch((e=>{an(e,t,n)})),o}const o=[];for(let i=0;i<e.length;i++)o.push(ln(e[i],t,n,r));return o}function an(e,t,n,r=!0){if(t&&t.vnode,t){let r=t.parent;const o=t.proxy,i=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,i))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void sn(s,null,10,[e,o,i])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let cn=!1,un=!1;const hn=[];let dn=0;const pn=[];let fn=null,mn=0;const gn=Promise.resolve();let yn=null;function vn(e){const t=yn||gn;return e?t.then(this?e.bind(this):e):t}function bn(e){hn.length&&hn.includes(e,cn&&e.allowRecurse?dn+1:dn)||(null==e.id?hn.push(e):hn.splice(function(e){let t=dn+1,n=hn.length;for(;t<n;){const r=t+n>>>1;Sn(hn[r])<e?t=r+1:n=r}return t}(e.id),0,e),kn())}function kn(){cn||un||(un=!0,yn=gn.then(Dn))}function wn(e){f(e)?pn.push(...e):fn&&fn.includes(e,e.allowRecurse?mn+1:mn)||pn.push(e),kn()}function xn(e,t=(cn?dn+1:0)){for(;t<hn.length;t++){const e=hn[t];e&&e.pre&&(hn.splice(t,1),t--,e())}}function _n(e){if(pn.length){const e=[...new Set(pn)];if(pn.length=0,fn)return void fn.push(...e);for(fn=e,fn.sort(((e,t)=>Sn(e)-Sn(t))),mn=0;mn<fn.length;mn++)fn[mn]();fn=null,mn=0}}const Sn=e=>null==e.id?1/0:e.id,Cn=(e,t)=>{const n=Sn(e)-Sn(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Dn(e){un=!1,cn=!0,hn.sort(Cn);try{for(dn=0;dn<hn.length;dn++){const e=hn[dn];e&&!1!==e.active&&sn(e,null,14)}}finally{dn=0,hn.length=0,_n(),cn=!1,yn=null,(hn.length||pn.length)&&Dn(e)}}let En,Tn=[],Mn=!1;function An(e,t){var n,r;En=e,En?(En.enabled=!0,Tn.forEach((({event:e,args:t})=>En.emit(e,...t))),Tn=[]):"undefined"!=typeof window&&window.HTMLElement&&!(null==(r=null==(n=window.navigator)?void 0:n.userAgent)?void 0:r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{An(e,t)})),setTimeout((()=>{En||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Mn=!0,Tn=[])}),3e3)):(Mn=!0,Tn=[])}function On(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||r;let i=n;const s=t.startsWith("update:"),l=s&&t.slice(7);if(l&&l in o){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:s}=o[e]||r;s&&(i=n.map((e=>b(e)?e.trim():e))),t&&(i=n.map(B))}let a,c=o[a=F(t)]||o[a=F(I(t))];!c&&s&&(c=o[a=F(R(t))]),c&&ln(c,e,6,i);const u=o[a+"Once"];if(u){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,ln(u,e,6,i)}}function In(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const i=e.emits;let s={},l=!1;if(!v(e)){const r=e=>{const n=In(e,t,!0);n&&(l=!0,u(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return i||l?(f(i)?i.forEach((e=>s[e]=null)):u(s,i),w(e)&&r.set(e,s),s):(w(e)&&r.set(e,null),null)}function Nn(e,t){return!(!e||!a(t))&&(t=t.slice(2).replace(/Once$/,""),p(e,t[0].toLowerCase()+t.slice(1))||p(e,R(t))||p(e,t))}let Rn=null,Ln=null;function Fn(e){const t=Rn;return Rn=e,Ln=e&&e.type.__scopeId||null,t}function Pn(e){Ln=e}function zn(){Ln=null}const $n=e=>Bn;function Bn(e,t=Rn,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Ni(-1);const o=Fn(t);let i;try{i=e(...n)}finally{Fn(o),r._d&&Ni(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function qn(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:l,attrs:a,emit:u,render:h,renderCache:d,data:p,setupState:f,ctx:m,inheritAttrs:g}=e;let y,v;const b=Fn(e);try{if(4&n.shapeFlag){const e=o||r;y=Zi(h.call(e,e,d,i,f,p,m)),v=a}else{const e=t;y=Zi(e.length>1?e(i,{attrs:a,slots:l,emit:u}):e(i,null)),v=t.props?a:Vn(a)}}catch(t){Ei.length=0,an(t,e,1),y=Hi(Ci)}let k=y;if(v&&!1!==g){const e=Object.keys(v),{shapeFlag:t}=k;e.length&&7&t&&(s&&e.some(c)&&(v=jn(v,s)),k=Wi(k,v))}return n.dirs&&(k=Wi(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),y=k,Fn(b),y}const Vn=e=>{let t;for(const n in e)("class"===n||"style"===n||a(n))&&((t||(t={}))[n]=e[n]);return t},jn=(e,t)=>{const n={};for(const r in e)c(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Hn(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!Nn(n,i))return!0}return!1}function Un({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Wn=e=>e.__isSuspense,Jn={name:"Suspense",__isSuspense:!0,process(e,t,n,r,o,i,s,l,a,c){null==e?function(e,t,n,r,o,i,s,l,a){const{p:c,o:{createElement:u}}=a,h=u("div"),d=e.suspense=Kn(e,o,r,t,h,n,i,s,l,a);c(null,d.pendingBranch=e.ssContent,h,null,r,d,i,s),d.deps>0?(Gn(e,"onPending"),Gn(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,i,s),Xn(d,e.ssFallback)):d.resolve(!1,!0)}(t,n,r,o,i,s,l,a,c):function(e,t,n,r,o,i,s,l,{p:a,um:c,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const d=t.ssContent,p=t.ssFallback,{activeBranch:f,pendingBranch:m,isInFallback:g,isHydrating:y}=h;if(m)h.pendingBranch=d,zi(d,m)?(a(m,d,h.hiddenContainer,null,o,h,i,s,l),h.deps<=0?h.resolve():g&&(a(f,p,n,r,o,null,i,s,l),Xn(h,p))):(h.pendingId++,y?(h.isHydrating=!1,h.activeBranch=m):c(m,o,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),g?(a(null,d,h.hiddenContainer,null,o,h,i,s,l),h.deps<=0?h.resolve():(a(f,p,n,r,o,null,i,s,l),Xn(h,p))):f&&zi(d,f)?(a(f,d,n,r,o,h,i,s,l),h.resolve(!0)):(a(null,d,h.hiddenContainer,null,o,h,i,s,l),h.deps<=0&&h.resolve()));else if(f&&zi(d,f))a(f,d,n,r,o,h,i,s,l),Xn(h,d);else if(Gn(t,"onPending"),h.pendingBranch=d,h.pendingId++,a(null,d,h.hiddenContainer,null,o,h,i,s,l),h.deps<=0)h.resolve();else{const{timeout:e,pendingId:t}=h;e>0?setTimeout((()=>{h.pendingId===t&&h.fallback(p)}),e):0===e&&h.fallback(p)}}(e,t,n,r,o,s,l,a,c)},hydrate:function(e,t,n,r,o,i,s,l,a){const c=t.suspense=Kn(t,r,n,e.parentNode,document.createElement("div"),null,o,i,s,l,!0),u=a(e,c.pendingBranch=t.ssContent,n,c,i,s);return 0===c.deps&&c.resolve(!1,!0),u},create:Kn,normalize:function(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=Zn(r?n.default:n),e.ssFallback=r?Zn(n.fallback):Hi(Ci)}};function Gn(e,t){const n=e.props&&e.props[t];v(n)&&n()}function Kn(e,t,n,r,o,i,s,l,a,c,u=!1){const{p:h,m:d,um:p,n:f,o:{parentNode:m,remove:g}}=c;let y;const v=function(e){var t;return null!=(null==(t=e.props)?void 0:t.suspensible)&&!1!==e.props.suspensible}(e);v&&(null==t?void 0:t.pendingBranch)&&(y=t.pendingId,t.deps++);const b=e.props?q(e.props.timeout):void 0,k={vnode:e,parent:t,parentComponent:n,isSVG:s,container:r,hiddenContainer:o,anchor:i,deps:0,pendingId:0,timeout:"number"==typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:r,activeBranch:o,pendingBranch:i,pendingId:s,effects:l,parentComponent:a,container:c}=k;if(k.isHydrating)k.isHydrating=!1;else if(!e){const e=o&&i.transition&&"out-in"===i.transition.mode;e&&(o.transition.afterLeave=()=>{s===k.pendingId&&d(i,c,t,0)});let{anchor:t}=k;o&&(t=f(o),p(o,a,k,!0)),e||d(i,c,t,0)}Xn(k,i),k.pendingBranch=null,k.isInFallback=!1;let u=k.parent,h=!1;for(;u;){if(u.pendingBranch){u.effects.push(...l),h=!0;break}u=u.parent}h||wn(l),k.effects=[],v&&t&&t.pendingBranch&&y===t.pendingId&&(t.deps--,0!==t.deps||n||t.resolve()),Gn(r,"onResolve")},fallback(e){if(!k.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:o,isSVG:i}=k;Gn(t,"onFallback");const s=f(n),c=()=>{k.isInFallback&&(h(null,e,o,s,r,null,i,l,a),Xn(k,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=c),k.isInFallback=!0,p(n,r,null,!0),u||c()},move(e,t,n){k.activeBranch&&d(k.activeBranch,e,t,n),k.container=e},next:()=>k.activeBranch&&f(k.activeBranch),registerDep(e,t){const n=!!k.pendingBranch;n&&k.deps++;const r=e.vnode.el;e.asyncDep.catch((t=>{an(t,e,0)})).then((o=>{if(e.isUnmounted||k.isUnmounted||k.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:i}=e;ys(e,o,!1),r&&(i.el=r);const l=!r&&e.subTree.el;t(e,i,m(r||e.subTree.el),r?null:f(e.subTree),k,s,a),l&&g(l),Un(e,i.el),n&&0==--k.deps&&k.resolve()}))},unmount(e,t){k.isUnmounted=!0,k.activeBranch&&p(k.activeBranch,n,e,t),k.pendingBranch&&p(k.pendingBranch,n,e,t)}};return k}function Zn(e){let t;if(v(e)){const n=Ii&&e._c;n&&(e._d=!1,Mi()),e=e(),n&&(e._d=!0,t=Ti,Ai())}if(f(e)){const t=function(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!Pi(r))return;if(r.type!==Ci||"v-if"===r.children){if(t)return;t=r}}return t}(e);e=t}return e=Zi(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function Yn(e,t){t&&t.pendingBranch?f(e)?t.effects.push(...e):t.effects.push(e):wn(e)}function Xn(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,o=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=o,Un(r,o))}function Qn(e,t){return or(e,null,t)}function er(e,t){return or(e,null,{flush:"post"})}function tr(e,t){return or(e,null,{flush:"sync"})}const nr={};function rr(e,t,n){return or(e,t,n)}function or(e,t,{immediate:n,deep:o,flush:s,onTrack:l,onTrigger:a}=r){var c;const u=de()===(null==(c=is)?void 0:c.scope)?is:null;let d,p,m=!1,g=!1;if($t(e)?(d=()=>e.value,m=Ot(e)):Mt(e)?(d=()=>e,o=!0):f(e)?(g=!0,m=e.some((e=>Mt(e)||Ot(e))),d=()=>e.map((e=>$t(e)?e.value:Mt(e)?lr(e):v(e)?sn(e,u,2):void 0))):d=v(e)?t?()=>sn(e,u,2):()=>{if(!u||!u.isUnmounted)return p&&p(),ln(e,u,3,[b])}:i,t&&o){const e=d;d=()=>lr(e())}let y,b=e=>{p=_.onStop=()=>{sn(e,u,4)}};if(ms){if(b=i,t?n&&ln(t,u,3,[d(),g?[]:void 0,b]):d(),"sync"!==s)return i;{const e=Es();y=e.__watcherHandles||(e.__watcherHandles=[])}}let k=g?new Array(e.length).fill(nr):nr;const w=()=>{if(_.active)if(t){const e=_.run();(o||m||(g?e.some(((e,t)=>P(e,k[t]))):P(e,k)))&&(p&&p(),ln(t,u,3,[e,k===nr?void 0:g&&k[0]===nr?[]:k,b]),k=e)}else _.run()};let x;w.allowRecurse=!!t,"sync"===s?x=w:"post"===s?x=()=>ui(w,u&&u.suspense):(w.pre=!0,u&&(w.id=u.uid),x=()=>bn(w));const _=new Se(d,x);t?n?w():k=_.run():"post"===s?ui(_.run.bind(_),u&&u.suspense):_.run();const S=()=>{_.stop(),u&&u.scope&&h(u.scope.effects,_)};return y&&y.push(S),S}function ir(e,t,n){const r=this.proxy,o=b(e)?e.includes(".")?sr(r,e):()=>r[e]:e.bind(r,r);let i;v(t)?i=t:(i=t.handler,n=t);const s=is;us(this);const l=or(o,i.bind(r),n);return s?us(s):hs(),l}function sr(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function lr(e,t){if(!w(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),$t(e))lr(e.value,t);else if(f(e))for(let n=0;n<e.length;n++)lr(e[n],t);else if(g(e)||m(e))e.forEach((e=>{lr(e,t)}));else if(D(e))for(const n in e)lr(e[n],t);return e}function ar(e,t){const n=Rn;if(null===n)return e;const o=xs(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[n,s,l,a=r]=t[e];n&&(v(n)&&(n={mounted:n,updated:n}),n.deep&&lr(s),i.push({dir:n,instance:o,value:s,oldValue:void 0,arg:l,modifiers:a}))}return e}function cr(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const l=o[s];i&&(l.oldValue=i[s].value);let a=l.dir[r];a&&(Ae(),ln(a,n,8,[e.el,l,e,t]),Oe())}}function ur(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pr((()=>{e.isMounted=!0})),Br((()=>{e.isUnmounting=!0})),e}const hr=[Function,Array],dr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:hr,onEnter:hr,onAfterEnter:hr,onEnterCancelled:hr,onBeforeLeave:hr,onLeave:hr,onAfterLeave:hr,onLeaveCancelled:hr,onBeforeAppear:hr,onAppear:hr,onAfterAppear:hr,onAppearCancelled:hr},pr={name:"BaseTransition",props:dr,setup(e,{slots:t}){const n=ss(),r=ur();let o;return()=>{const i=t.default&&br(t.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){let e=!1;for(const t of i)if(t.type!==Ci){s=t,e=!0;break}}const l=Nt(e),{mode:a}=l;if(r.isLeaving)return gr(s);const c=yr(s);if(!c)return gr(s);const u=mr(c,l,r,n);vr(c,u);const h=n.subTree,d=h&&yr(h);let p=!1;const{getTransitionKey:f}=c.type;if(f){const e=f();void 0===o?o=e:e!==o&&(o=e,p=!0)}if(d&&d.type!==Ci&&(!zi(c,d)||p)){const e=mr(d,l,r,n);if(vr(d,e),"out-in"===a)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&n.update()},gr(s);"in-out"===a&&c.type!==Ci&&(e.delayLeave=(e,t,n)=>{fr(r,d)[String(d.key)]=d,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return s}}};function fr(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function mr(e,t,n,r){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:g,onAppear:y,onAfterAppear:v,onAppearCancelled:b}=t,k=String(e.key),w=fr(n,e),x=(e,t)=>{e&&ln(e,r,9,t)},_=(e,t)=>{const n=t[1];x(e,t),f(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},S={mode:i,persisted:s,beforeEnter(t){let r=l;if(!n.isMounted){if(!o)return;r=g||l}t._leaveCb&&t._leaveCb(!0);const i=w[k];i&&zi(e,i)&&i.el._leaveCb&&i.el._leaveCb(),x(r,[t])},enter(e){let t=a,r=c,i=u;if(!n.isMounted){if(!o)return;t=y||a,r=v||c,i=b||u}let s=!1;const l=e._enterCb=t=>{s||(s=!0,x(t?i:r,[e]),S.delayedLeave&&S.delayedLeave(),e._enterCb=void 0)};t?_(t,[e,l]):l()},leave(t,r){const o=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();x(h,[t]);let i=!1;const s=t._leaveCb=n=>{i||(i=!0,r(),x(n?m:p,[t]),t._leaveCb=void 0,w[o]===e&&delete w[o])};w[o]=e,d?_(d,[t,s]):s()},clone:e=>mr(e,t,n,r)};return S}function gr(e){if(Sr(e))return(e=Wi(e)).children=null,e}function yr(e){return Sr(e)?e.children?e.children[0]:void 0:e}function vr(e,t){6&e.shapeFlag&&e.component?vr(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function br(e,t=!1,n){let r=[],o=0;for(let i=0;i<e.length;i++){let s=e[i];const l=null==n?s.key:String(n)+String(null!=s.key?s.key:i);s.type===_i?(128&s.patchFlag&&o++,r=r.concat(br(s.children,t,l))):(t||s.type!==Ci)&&r.push(null!=l?Wi(s,{key:l}):s)}if(o>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}function kr(e,t){return v(e)?(()=>u({name:e.name},t,{setup:e}))():e}const wr=e=>!!e.type.__asyncLoader;function xr(e){v(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:o=200,timeout:i,suspensible:s=!0,onError:l}=e;let a,c=null,u=0;const h=()=>{let e;return c||(e=c=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),l)return new Promise(((t,n)=>{l(e,(()=>t((u++,c=null,h()))),(()=>n(e)),u+1)}));throw e})).then((t=>e!==c&&c?c:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),a=t,t))))};return kr({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return a},setup(){const e=is;if(a)return()=>_r(a,e);const t=t=>{c=null,an(t,e,13,!r)};if(s&&e.suspense||ms)return h().then((t=>()=>_r(t,e))).catch((e=>(t(e),()=>r?Hi(r,{error:e}):null)));const l=Bt(!1),u=Bt(),d=Bt(!!o);return o&&setTimeout((()=>{d.value=!1}),o),null!=i&&setTimeout((()=>{if(!l.value&&!u.value){const e=new Error(`Async component timed out after ${i}ms.`);t(e),u.value=e}}),i),h().then((()=>{l.value=!0,e.parent&&Sr(e.parent.vnode)&&bn(e.parent.update)})).catch((e=>{t(e),u.value=e})),()=>l.value&&a?_r(a,e):u.value&&r?Hi(r,{error:u.value}):n&&!d.value?Hi(n):void 0}})}function _r(e,t){const{ref:n,props:r,children:o,ce:i}=t.vnode,s=Hi(e,r,o);return s.ref=n,s.ce=i,delete t.vnode.ce,s}const Sr=e=>e.type.__isKeepAlive,Cr={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=ss(),r=n.ctx;if(!r.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const o=new Map,i=new Set;let s=null;const l=n.suspense,{renderer:{p:a,m:c,um:u,o:{createElement:h}}}=r,d=h("div");function p(e){Ir(e),u(e,n,l,!0)}function f(e){o.forEach(((t,n)=>{const r=_s(t.type);!r||e&&e(r)||m(n)}))}function m(e){const t=o.get(e);s&&zi(t,s)?s&&Ir(s):p(t),o.delete(e),i.delete(e)}r.activate=(e,t,n,r,o)=>{const i=e.component;c(e,t,n,0,l),a(i.vnode,e,t,n,i,l,r,e.slotScopeIds,o),ui((()=>{i.isDeactivated=!1,i.a&&z(i.a);const t=e.props&&e.props.onVnodeMounted;t&&es(t,i.parent,e)}),l)},r.deactivate=e=>{const t=e.component;c(e,d,null,1,l),ui((()=>{t.da&&z(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&es(n,t.parent,e),t.isDeactivated=!0}),l)},rr((()=>[e.include,e.exclude]),(([e,t])=>{e&&f((t=>Er(e,t))),t&&f((e=>!Er(t,e)))}),{flush:"post",deep:!0});let g=null;const y=()=>{null!=g&&o.set(g,Nr(n.subTree))};return Pr(y),$r(y),Br((()=>{o.forEach((e=>{const{subTree:t,suspense:r}=n,o=Nr(t);if(e.type!==o.type||e.key!==o.key)p(e);else{Ir(o);const e=o.component.da;e&&ui(e,r)}}))})),()=>{if(g=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return s=null,n;if(!Pi(r)||!(4&r.shapeFlag||128&r.shapeFlag))return s=null,r;let l=Nr(r);const a=l.type,c=_s(wr(l)?l.type.__asyncResolved||{}:a),{include:u,exclude:h,max:d}=e;if(u&&(!c||!Er(u,c))||h&&c&&Er(h,c))return s=l,r;const p=null==l.key?a:l.key,f=o.get(p);return l.el&&(l=Wi(l),128&r.shapeFlag&&(r.ssContent=l)),g=p,f?(l.el=f.el,l.component=f.component,l.transition&&vr(l,l.transition),l.shapeFlag|=512,i.delete(p),i.add(p)):(i.add(p),d&&i.size>parseInt(d,10)&&m(i.values().next().value)),l.shapeFlag|=256,s=l,Wn(r.type)?r:l}}},Dr=Cr;function Er(e,t){return f(e)?e.some((e=>Er(e,t))):b(e)?e.split(",").includes(t):"[object RegExp]"===S(e)&&e.test(t)}function Tr(e,t){Ar(e,"a",t)}function Mr(e,t){Ar(e,"da",t)}function Ar(e,t,n=is){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Rr(t,r,n),n){let e=n.parent;for(;e&&e.parent;)Sr(e.parent.vnode)&&Or(r,t,n,e),e=e.parent}}function Or(e,t,n,r){const o=Rr(t,e,r,!0);qr((()=>{h(r[t],o)}),n)}function Ir(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Nr(e){return 128&e.shapeFlag?e.ssContent:e}function Rr(e,t,n=is,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;Ae(),us(n);const o=ln(t,n,e,r);return hs(),Oe(),o});return r?o.unshift(i):o.push(i),i}}const Lr=e=>(t,n=is)=>(!ms||"sp"===e)&&Rr(e,((...e)=>t(...e)),n),Fr=Lr("bm"),Pr=Lr("m"),zr=Lr("bu"),$r=Lr("u"),Br=Lr("bum"),qr=Lr("um"),Vr=Lr("sp"),jr=Lr("rtg"),Hr=Lr("rtc");function Ur(e,t=is){Rr("ec",e,t)}const Wr="components",Jr="directives";function Gr(e,t){return Xr(Wr,e,!0,t)||e}const Kr=Symbol.for("v-ndc");function Zr(e){return b(e)?Xr(Wr,e,!1)||e:e||Kr}function Yr(e){return Xr(Jr,e)}function Xr(e,t,n=!0,r=!1){const o=Rn||is;if(o){const n=o.type;if(e===Wr){const e=_s(n,!1);if(e&&(e===t||e===I(t)||e===L(I(t))))return n}const i=Qr(o[e]||n[e],t)||Qr(o.appContext[e],t);return!i&&r?n:i}}function Qr(e,t){return e&&(e[t]||e[I(t)]||e[L(I(t))])}function eo(e,t,n,r){let o;const i=n&&n[r];if(f(e)||b(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,i&&i[n])}else if("number"==typeof e){o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,i&&i[n])}else if(w(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,i&&i[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const s=n[r];o[r]=t(e[s],s,r,i&&i[r])}}else o=[];return n&&(n[r]=o),o}function to(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(f(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function no(e,t,n={},r,o){if(Rn.isCE||Rn.parent&&wr(Rn.parent)&&Rn.parent.isCE)return"default"!==t&&(n.name=t),Hi("slot",n,r&&r());let i=e[t];i&&i._c&&(i._d=!1),Mi();const s=i&&ro(i(n)),l=Fi(_i,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&1===e._?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function ro(e){return e.some((e=>!Pi(e)||e.type!==Ci&&!(e.type===_i&&!ro(e.children))))?e:null}function oo(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:F(r)]=e[r];return n}const io=e=>e?ds(e)?xs(e)||e.proxy:io(e.parent):null,so=u(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>io(e.parent),$root:e=>io(e.root),$emit:e=>e.emit,$options:e=>Ao(e),$forceUpdate:e=>e.f||(e.f=()=>bn(e.update)),$nextTick:e=>e.n||(e.n=vn.bind(e.proxy)),$watch:e=>ir.bind(e)}),lo=(e,t)=>e!==r&&!e.__isScriptSetup&&p(e,t),ao={get({_:e},t){const{ctx:n,setupState:o,data:i,props:s,accessCache:l,type:a,appContext:c}=e;let u;if("$"!==t[0]){const a=l[t];if(void 0!==a)switch(a){case 1:return o[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(lo(o,t))return l[t]=1,o[t];if(i!==r&&p(i,t))return l[t]=2,i[t];if((u=e.propsOptions[0])&&p(u,t))return l[t]=3,s[t];if(n!==r&&p(n,t))return l[t]=4,n[t];Eo&&(l[t]=0)}}const h=so[t];let d,f;return h?("$attrs"===t&&Ie(e,0,t),h(e)):(d=a.__cssModules)&&(d=d[t])?d:n!==r&&p(n,t)?(l[t]=4,n[t]):(f=c.config.globalProperties,p(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:o,setupState:i,ctx:s}=e;return lo(i,t)?(i[t]=n,!0):o!==r&&p(o,t)?(o[t]=n,!0):!(p(e.props,t)||"$"===t[0]&&t.slice(1)in e||(s[t]=n,0))},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,propsOptions:s}},l){let a;return!!n[l]||e!==r&&p(e,l)||lo(t,l)||(a=s[0])&&p(a,l)||p(o,l)||p(so,l)||p(i.config.globalProperties,l)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:p(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},co=u({},ao,{get(e,t){if(t!==Symbol.unscopables)return ao.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!U(t)});function uo(){return null}function ho(){return null}function po(e){}function fo(e){}function mo(){return null}function go(){}function yo(e,t){return null}function vo(){return wo().slots}function bo(){return wo().attrs}function ko(e,t,n){const r=ss();if(n&&n.local){const n=Bt(e[t]);return rr((()=>e[t]),(e=>n.value=e)),rr(n,(n=>{n!==e[t]&&r.emit(`update:${t}`,n)})),n}return{__v_isRef:!0,get value(){return e[t]},set value(e){r.emit(`update:${t}`,e)}}}function wo(){const e=ss();return e.setupContext||(e.setupContext=ws(e))}function xo(e){return f(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}function _o(e,t){const n=xo(e);for(const e in t){if(e.startsWith("__skip"))continue;let r=n[e];r?f(r)||v(r)?r=n[e]={type:r,default:t[e]}:r.default=t[e]:null===r&&(r=n[e]={default:t[e]}),r&&t[`__skip_${e}`]&&(r.skipFactory=!0)}return n}function So(e,t){return e&&t?f(e)&&f(t)?e.concat(t):u({},xo(e),xo(t)):e||t}function Co(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function Do(e){const t=ss();let n=e();return hs(),x(n)&&(n=n.catch((e=>{throw us(t),e}))),[n,()=>us(t)]}let Eo=!0;function To(e,t,n){ln(f(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Mo(e,t,n,r){const o=r.includes(".")?sr(n,r):()=>n[r];if(b(e)){const n=t[e];v(n)&&rr(o,n)}else if(v(e))rr(o,e.bind(n));else if(w(e))if(f(e))e.forEach((e=>Mo(e,t,n,r)));else{const r=v(e.handler)?e.handler.bind(n):t[e.handler];v(r)&&rr(o,r,e)}}function Ao(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,l=i.get(t);let a;return l?a=l:o.length||n||r?(a={},o.length&&o.forEach((e=>Oo(a,e,s,!0))),Oo(a,t,s)):a=t,w(t)&&i.set(t,a),a}function Oo(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&Oo(e,i,n,!0),o&&o.forEach((t=>Oo(e,t,n,!0)));for(const o in t)if(r&&"expose"===o);else{const r=Io[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const Io={data:No,props:Po,emits:Po,methods:Fo,computed:Fo,beforeCreate:Lo,created:Lo,beforeMount:Lo,mounted:Lo,beforeUpdate:Lo,updated:Lo,beforeDestroy:Lo,beforeUnmount:Lo,destroyed:Lo,unmounted:Lo,activated:Lo,deactivated:Lo,errorCaptured:Lo,serverPrefetch:Lo,components:Fo,directives:Fo,watch:function(e,t){if(!e)return t;if(!t)return e;const n=u(Object.create(null),e);for(const r in t)n[r]=Lo(e[r],t[r]);return n},provide:No,inject:function(e,t){return Fo(Ro(e),Ro(t))}};function No(e,t){return t?e?function(){return u(v(e)?e.call(this,this):e,v(t)?t.call(this,this):t)}:t:e}function Ro(e){if(f(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Lo(e,t){return e?[...new Set([].concat(e,t))]:t}function Fo(e,t){return e?u(Object.create(null),e,t):t}function Po(e,t){return e?f(e)&&f(t)?[...new Set([...e,...t])]:u(Object.create(null),xo(e),xo(null!=t?t:{})):t}function zo(){return{app:null,config:{isNativeTag:s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $o=0;function Bo(e,t){return function(n,r=null){v(n)||(n=u({},n)),null==r||w(r)||(r=null);const o=zo(),i=new Set;let s=!1;const l=o.app={_uid:$o++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Os,get config(){return o.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&v(e.install)?(i.add(e),e.install(l,...t)):v(e)&&(i.add(e),e(l,...t))),l),mixin:e=>(o.mixins.includes(e)||o.mixins.push(e),l),component:(e,t)=>t?(o.components[e]=t,l):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,l):o.directives[e],mount(i,a,c){if(!s){const u=Hi(n,r);return u.appContext=o,a&&t?t(u,i):e(u,i,c),s=!0,l._container=i,i.__vue_app__=l,xs(u.component)||u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,l),runWithContext(e){qo=l;try{return e()}finally{qo=null}}};return l}}let qo=null;function Vo(e,t){if(is){let n=is.provides;const r=is.parent&&is.parent.provides;r===n&&(n=is.provides=Object.create(r)),n[e]=t}}function jo(e,t,n=!1){const r=is||Rn;if(r||qo){const o=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:qo._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&v(t)?t.call(r&&r.proxy):t}}function Ho(){return!!(is||Rn||qo)}function Uo(e,t,n,o){const[i,s]=e.propsOptions;let l,a=!1;if(t)for(let r in t){if(T(r))continue;const c=t[r];let u;i&&p(i,u=I(r))?s&&s.includes(u)?(l||(l={}))[u]=c:n[u]=c:Nn(e.emitsOptions,r)||r in o&&c===o[r]||(o[r]=c,a=!0)}if(s){const t=Nt(n),o=l||r;for(let r=0;r<s.length;r++){const l=s[r];n[l]=Wo(i,t,l,o[l],e,!p(o,l))}}return a}function Wo(e,t,n,r,o,i){const s=e[n];if(null!=s){const e=p(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&!s.skipFactory&&v(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(us(o),r=i[n]=e.call(null,t),hs())}else r=e}s[0]&&(i&&!e?r=!1:!s[1]||""!==r&&r!==R(n)||(r=!0))}return r}function Jo(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const l=e.props,a={},c=[];let h=!1;if(!v(e)){const r=e=>{h=!0;const[n,r]=Jo(e,t,!0);u(a,n),r&&c.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!l&&!h)return w(e)&&i.set(e,o),o;if(f(l))for(let e=0;e<l.length;e++){const t=I(l[e]);Go(t)&&(a[t]=r)}else if(l)for(const e in l){const t=I(e);if(Go(t)){const n=l[e],r=a[t]=f(n)||v(n)?{type:n}:u({},n);if(r){const e=Yo(Boolean,r.type),n=Yo(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||p(r,"default"))&&c.push(t)}}}const d=[a,c];return w(e)&&i.set(e,d),d}function Go(e){return"$"!==e[0]}function Ko(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function Zo(e,t){return Ko(e)===Ko(t)}function Yo(e,t){return f(t)?t.findIndex((t=>Zo(t,e))):v(t)&&Zo(t,e)?0:-1}const Xo=e=>"_"===e[0]||"$stable"===e,Qo=e=>f(e)?e.map(Zi):[Zi(e)],ei=(e,t,n)=>{if(t._n)return t;const r=Bn(((...e)=>Qo(t(...e))),n);return r._c=!1,r},ti=(e,t,n)=>{const r=e._ctx;for(const n in e){if(Xo(n))continue;const o=e[n];if(v(o))t[n]=ei(0,o,r);else if(null!=o){const e=Qo(o);t[n]=()=>e}}},ni=(e,t)=>{const n=Qo(t);e.slots.default=()=>n},ri=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=Nt(t),$(t,"_",n)):ti(t,e.slots={})}else e.slots={},t&&ni(e,t);$(e.slots,Bi,1)},oi=(e,t,n)=>{const{vnode:o,slots:i}=e;let s=!0,l=r;if(32&o.shapeFlag){const e=t._;e?n&&1===e?s=!1:(u(i,t),n||1!==e||delete i._):(s=!t.$stable,ti(t,i)),l=t}else t&&(ni(e,t),l={default:1});if(s)for(const e in i)Xo(e)||e in l||delete i[e]};function ii(e,t,n,o,i=!1){if(f(e))return void e.forEach(((e,r)=>ii(e,t&&(f(t)?t[r]:t),n,o,i)));if(wr(o)&&!i)return;const s=4&o.shapeFlag?xs(o.component)||o.component.proxy:o.el,l=i?null:s,{i:a,r:c}=e,u=t&&t.r,d=a.refs===r?a.refs={}:a.refs,m=a.setupState;if(null!=u&&u!==c&&(b(u)?(d[u]=null,p(m,u)&&(m[u]=null)):$t(u)&&(u.value=null)),v(c))sn(c,a,12,[l,d]);else{const t=b(c),r=$t(c);if(t||r){const o=()=>{if(e.f){const n=t?p(m,c)?m[c]:d[c]:c.value;i?f(n)&&h(n,s):f(n)?n.includes(s)||n.push(s):t?(d[c]=[s],p(m,c)&&(m[c]=d[c])):(c.value=[s],e.k&&(d[e.k]=c.value))}else t?(d[c]=l,p(m,c)&&(m[c]=l)):r&&(c.value=l,e.k&&(d[e.k]=l))};l?(o.id=-1,ui(o,n)):o()}}}let si=!1;const li=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,ai=e=>8===e.nodeType;function ci(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:i,parentNode:s,remove:l,insert:c,createComment:u}}=e,h=(n,r,l,a,u,y=!1)=>{const v=ai(n)&&"["===n.data,b=()=>m(n,r,l,a,u,v),{type:k,ref:w,shapeFlag:x,patchFlag:_}=r;let S=n.nodeType;r.el=n,-2===_&&(y=!1,r.dynamicChildren=null);let C=null;switch(k){case Si:3!==S?""===r.children?(c(r.el=o(""),s(n),n),C=n):C=b():(n.data!==r.children&&(si=!0,n.data=r.children),C=i(n));break;case Ci:C=8!==S||v?b():i(n);break;case Di:if(v&&(S=(n=i(n)).nodeType),1===S||3===S){C=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=1===C.nodeType?C.outerHTML:C.data),t===r.staticCount-1&&(r.anchor=C),C=i(C);return v?i(C):C}b();break;case _i:C=v?f(n,r,l,a,u,y):b();break;default:if(1&x)C=1!==S||r.type.toLowerCase()!==n.tagName.toLowerCase()?b():d(n,r,l,a,u,y);else if(6&x){r.slotScopeIds=u;const e=s(n);if(t(r,e,null,l,a,li(e),y),C=v?g(n):i(n),C&&ai(C)&&"teleport end"===C.data&&(C=i(C)),wr(r)){let t;v?(t=Hi(_i),t.anchor=C?C.previousSibling:e.lastChild):t=3===n.nodeType?Ji(""):Hi("div"),t.el=n,r.component.subTree=t}}else 64&x?C=8!==S?b():r.type.hydrate(n,r,l,a,u,y,e,p):128&x&&(C=r.type.hydrate(n,r,l,a,li(s(n)),u,y,e,h))}return null!=w&&ii(w,null,a,r),C},d=(e,t,n,o,i,s)=>{s=s||!!t.dynamicChildren;const{type:c,props:u,patchFlag:h,shapeFlag:d,dirs:f}=t,m="input"===c&&f||"option"===c;if(m||-1!==h){if(f&&cr(t,null,n,"created"),u)if(m||!s||48&h)for(const t in u)(m&&t.endsWith("value")||a(t)&&!T(t))&&r(e,t,null,u[t],!1,void 0,n);else u.onClick&&r(e,"onClick",null,u.onClick,!1,void 0,n);let c;if((c=u&&u.onVnodeBeforeMount)&&es(c,n,t),f&&cr(t,null,n,"beforeMount"),((c=u&&u.onVnodeMounted)||f)&&Yn((()=>{c&&es(c,n,t),f&&cr(t,null,n,"mounted")}),o),16&d&&(!u||!u.innerHTML&&!u.textContent)){let r=p(e.firstChild,t,e,n,o,i,s);for(;r;){si=!0;const e=r;r=r.nextSibling,l(e)}}else 8&d&&e.textContent!==t.children&&(si=!0,e.textContent=t.children)}return e.nextSibling},p=(e,t,r,o,i,s,l)=>{l=l||!!t.dynamicChildren;const a=t.children,c=a.length;for(let t=0;t<c;t++){const c=l?a[t]:a[t]=Zi(a[t]);if(e)e=h(e,c,o,i,s,l);else{if(c.type===Si&&!c.children)continue;si=!0,n(null,c,r,null,o,i,li(r),s)}}return e},f=(e,t,n,r,o,l)=>{const{slotScopeIds:a}=t;a&&(o=o?o.concat(a):a);const h=s(e),d=p(i(e),t,h,n,r,o,l);return d&&ai(d)&&"]"===d.data?i(t.anchor=d):(si=!0,c(t.anchor=u("]"),h,d),d)},m=(e,t,r,o,a,c)=>{if(si=!0,t.el=null,c){const t=g(e);for(;;){const n=i(e);if(!n||n===t)break;l(n)}}const u=i(e),h=s(e);return l(e),n(null,t,h,u,r,o,li(h),a),u},g=e=>{let t=0;for(;e;)if((e=i(e))&&ai(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return i(e);t--}return e};return[(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),_n(),void(t._vnode=e);si=!1,h(t.firstChild,e,null,null,null),_n(),t._vnode=e,si&&console.error("Hydration completed but contains mismatches.")},h]}const ui=Yn;function hi(e){return pi(e)}function di(e){return pi(e,ci)}function pi(e,t){j().__VUE__=!0;const{insert:n,remove:s,patchProp:l,createElement:a,createText:c,createComment:u,setText:h,setElementText:d,parentNode:f,nextSibling:m,setScopeId:g=i,insertStaticContent:y}=e,v=(e,t,n,r=null,o=null,i=null,s=!1,l=null,a=!!t.dynamicChildren)=>{if(e===t)return;e&&!zi(e,t)&&(r=K(e),H(e,o,i,!0),e=null),-2===t.patchFlag&&(a=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case Si:b(e,t,n,r);break;case Ci:k(e,t,n,r);break;case Di:null==e&&w(t,n,r,s);break;case _i:A(e,t,n,r,o,i,s,l,a);break;default:1&h?x(e,t,n,r,o,i,s,l,a):6&h?O(e,t,n,r,o,i,s,l,a):(64&h||128&h)&&c.process(e,t,n,r,o,i,s,l,a,Y)}null!=u&&o&&ii(u,e&&e.ref,i,t||e,!t)},b=(e,t,r,o)=>{if(null==e)n(t.el=c(t.children),r,o);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},k=(e,t,r,o)=>{null==e?n(t.el=u(t.children||""),r,o):t.el=e.el},w=(e,t,n,r)=>{[e.el,e.anchor]=y(e.children,t,n,r,e.el,e.anchor)},x=(e,t,n,r,o,i,s,l,a)=>{s=s||"svg"===t.type,null==e?_(t,n,r,o,i,s,l,a):D(e,t,o,i,s,l,a)},_=(e,t,r,o,i,s,c,u)=>{let h,p;const{type:f,props:m,shapeFlag:g,transition:y,dirs:v}=e;if(h=e.el=a(e.type,s,m&&m.is,m),8&g?d(h,e.children):16&g&&C(e.children,h,null,o,i,s&&"foreignObject"!==f,c,u),v&&cr(e,null,o,"created"),S(h,e,e.scopeId,c,o),m){for(const t in m)"value"===t||T(t)||l(h,t,null,m[t],s,e.children,o,i,G);"value"in m&&l(h,"value",null,m.value),(p=m.onVnodeBeforeMount)&&es(p,o,e)}v&&cr(e,null,o,"beforeMount");const b=(!i||i&&!i.pendingBranch)&&y&&!y.persisted;b&&y.beforeEnter(h),n(h,t,r),((p=m&&m.onVnodeMounted)||b||v)&&ui((()=>{p&&es(p,o,e),b&&y.enter(h),v&&cr(e,null,o,"mounted")}),i)},S=(e,t,n,r,o)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(o&&t===o.subTree){const t=o.vnode;S(e,t,t.scopeId,t.slotScopeIds,o.parent)}},C=(e,t,n,r,o,i,s,l,a=0)=>{for(let c=a;c<e.length;c++){const a=e[c]=l?Yi(e[c]):Zi(e[c]);v(null,a,t,n,r,o,i,s,l)}},D=(e,t,n,o,i,s,a)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:p}=t;u|=16&e.patchFlag;const f=e.props||r,m=t.props||r;let g;n&&fi(n,!1),(g=m.onVnodeBeforeUpdate)&&es(g,n,t,e),p&&cr(t,e,n,"beforeUpdate"),n&&fi(n,!0);const y=i&&"foreignObject"!==t.type;if(h?E(e.dynamicChildren,h,c,n,o,y,s):a||$(e,t,c,null,n,o,y,s,!1),u>0){if(16&u)M(c,t,f,m,n,o,i);else if(2&u&&f.class!==m.class&&l(c,"class",null,m.class,i),4&u&&l(c,"style",f.style,m.style,i),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const s=r[t],a=f[s],u=m[s];u===a&&"value"!==s||l(c,s,a,u,i,e.children,n,o,G)}}1&u&&e.children!==t.children&&d(c,t.children)}else a||null!=h||M(c,t,f,m,n,o,i);((g=m.onVnodeUpdated)||p)&&ui((()=>{g&&es(g,n,t,e),p&&cr(t,e,n,"updated")}),o)},E=(e,t,n,r,o,i,s)=>{for(let l=0;l<t.length;l++){const a=e[l],c=t[l],u=a.el&&(a.type===_i||!zi(a,c)||70&a.shapeFlag)?f(a.el):n;v(a,c,u,null,r,o,i,s,!0)}},M=(e,t,n,o,i,s,a)=>{if(n!==o){if(n!==r)for(const r in n)T(r)||r in o||l(e,r,n[r],null,a,t.children,i,s,G);for(const r in o){if(T(r))continue;const c=o[r],u=n[r];c!==u&&"value"!==r&&l(e,r,u,c,a,t.children,i,s,G)}"value"in o&&l(e,"value",n.value,o.value)}},A=(e,t,r,o,i,s,l,a,u)=>{const h=t.el=e?e.el:c(""),d=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(a=a?a.concat(m):m),null==e?(n(h,r,o),n(d,r,o),C(t.children,r,d,i,s,l,a,u)):p>0&&64&p&&f&&e.dynamicChildren?(E(e.dynamicChildren,f,r,i,s,l,a),(null!=t.key||i&&t===i.subTree)&&mi(e,t,!0)):$(e,t,r,d,i,s,l,a,u)},O=(e,t,n,r,o,i,s,l,a)=>{t.slotScopeIds=l,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,s,a):N(t,n,r,o,i,s,a):L(e,t,a)},N=(e,t,n,r,o,i,s)=>{const l=e.component=rs(e,r,o);if(Sr(e)&&(l.ctx.renderer=Y),gs(l),l.asyncDep){if(o&&o.registerDep(l,F),!e.el){const e=l.subTree=Hi(Ci);k(null,e,t,n)}}else F(l,e,t,n,o,i,s)},L=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:l,patchFlag:a}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&a>=0))return!(!o&&!l||l&&l.$stable)||r!==s&&(r?!s||Hn(r,s,c):!!s);if(1024&a)return!0;if(16&a)return r?Hn(r,s,c):!!s;if(8&a){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!Nn(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void P(r,t,n);r.next=t,function(e){const t=hn.indexOf(e);t>dn&&hn.splice(t,1)}(r.update),r.update()}else t.el=e.el,r.vnode=t},F=(e,t,n,r,o,i,s)=>{const l=e.effect=new Se((()=>{if(e.isMounted){let t,{next:n,bu:r,u:l,parent:a,vnode:c}=e,u=n;fi(e,!1),n?(n.el=c.el,P(e,n,s)):n=c,r&&z(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&es(t,a,n,c),fi(e,!0);const h=qn(e),d=e.subTree;e.subTree=h,v(d,h,f(d.el),K(d),e,o,i),n.el=h.el,null===u&&Un(e,h.el),l&&ui(l,o),(t=n.props&&n.props.onVnodeUpdated)&&ui((()=>es(t,a,n,c)),o)}else{let s;const{el:l,props:a}=t,{bm:c,m:u,parent:h}=e,d=wr(t);if(fi(e,!1),c&&z(c),!d&&(s=a&&a.onVnodeBeforeMount)&&es(s,h,t),fi(e,!0),l&&Q){const n=()=>{e.subTree=qn(e),Q(l,e.subTree,e,o,null)};d?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const s=e.subTree=qn(e);v(null,s,n,r,e,o,i),t.el=s.el}if(u&&ui(u,o),!d&&(s=a&&a.onVnodeMounted)){const e=t;ui((()=>es(s,h,e)),o)}(256&t.shapeFlag||h&&wr(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&ui(e.a,o),e.isMounted=!0,t=n=r=null}}),(()=>bn(a)),e.scope),a=e.update=()=>l.run();a.id=e.uid,fi(e,!0),a()},P=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,l=Nt(o),[a]=e.propsOptions;let c=!1;if(!(r||s>0)||16&s){let r;Uo(e,t,o,i)&&(c=!0);for(const i in l)t&&(p(t,i)||(r=R(i))!==i&&p(t,r))||(a?!n||void 0===n[i]&&void 0===n[r]||(o[i]=Wo(a,l,i,void 0,e,!0)):delete o[i]);if(i!==l)for(const e in i)t&&p(t,e)||(delete i[e],c=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];if(Nn(e.emitsOptions,s))continue;const u=t[s];if(a)if(p(i,s))u!==i[s]&&(i[s]=u,c=!0);else{const t=I(s);o[t]=Wo(a,l,t,u,e,!1)}else u!==i[s]&&(i[s]=u,c=!0)}}c&&Re(e,"set","$attrs")}(e,t.props,r,n),oi(e,t.children,n),Ae(),xn(),Oe()},$=(e,t,n,r,o,i,s,l,a=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void q(c,h,n,r,o,i,s,l,a);if(256&p)return void B(c,h,n,r,o,i,s,l,a)}8&f?(16&u&&G(c,o,i),h!==c&&d(n,h)):16&u?16&f?q(c,h,n,r,o,i,s,l,a):G(c,o,i,!0):(8&u&&d(n,""),16&f&&C(h,n,r,o,i,s,l,a))},B=(e,t,n,r,i,s,l,a,c)=>{t=t||o;const u=(e=e||o).length,h=t.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const r=t[p]=c?Yi(t[p]):Zi(t[p]);v(e[p],r,n,null,i,s,l,a,c)}u>h?G(e,i,s,!0,!1,d):C(t,n,r,i,s,l,a,c,d)},q=(e,t,n,r,i,s,l,a,c)=>{let u=0;const h=t.length;let d=e.length-1,p=h-1;for(;u<=d&&u<=p;){const r=e[u],o=t[u]=c?Yi(t[u]):Zi(t[u]);if(!zi(r,o))break;v(r,o,n,null,i,s,l,a,c),u++}for(;u<=d&&u<=p;){const r=e[d],o=t[p]=c?Yi(t[p]):Zi(t[p]);if(!zi(r,o))break;v(r,o,n,null,i,s,l,a,c),d--,p--}if(u>d){if(u<=p){const e=p+1,o=e<h?t[e].el:r;for(;u<=p;)v(null,t[u]=c?Yi(t[u]):Zi(t[u]),n,o,i,s,l,a,c),u++}}else if(u>p)for(;u<=d;)H(e[u],i,s,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?Yi(t[u]):Zi(t[u]);null!=e.key&&g.set(e.key,u)}let y,b=0;const k=p-m+1;let w=!1,x=0;const _=new Array(k);for(u=0;u<k;u++)_[u]=0;for(u=f;u<=d;u++){const r=e[u];if(b>=k){H(r,i,s,!0);continue}let o;if(null!=r.key)o=g.get(r.key);else for(y=m;y<=p;y++)if(0===_[y-m]&&zi(r,t[y])){o=y;break}void 0===o?H(r,i,s,!0):(_[o-m]=u+1,o>=x?x=o:w=!0,v(r,t[o],n,null,i,s,l,a,c),b++)}const S=w?function(e){const t=e.slice(),n=[0];let r,o,i,s,l;const a=e.length;for(r=0;r<a;r++){const a=e[r];if(0!==a){if(o=n[n.length-1],e[o]<a){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)l=i+s>>1,e[n[l]]<a?i=l+1:s=l;a<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}(_):o;for(y=S.length-1,u=k-1;u>=0;u--){const e=m+u,o=t[e],d=e+1<h?t[e+1].el:r;0===_[u]?v(null,o,n,d,i,s,l,a,c):w&&(y<0||u!==S[y]?V(o,n,d,2):y--)}}},V=(e,t,r,o,i=null)=>{const{el:s,type:l,transition:a,children:c,shapeFlag:u}=e;if(6&u)V(e.component.subTree,t,r,o);else if(128&u)e.suspense.move(t,r,o);else if(64&u)l.move(e,t,r,Y);else if(l!==_i)if(l!==Di)if(2!==o&&1&u&&a)if(0===o)a.beforeEnter(s),n(s,t,r),ui((()=>a.enter(s)),i);else{const{leave:e,delayLeave:o,afterLeave:i}=a,l=()=>n(s,t,r),c=()=>{e(s,(()=>{l(),i&&i()}))};o?o(s,l,c):c()}else n(s,t,r);else(({el:e,anchor:t},r,o)=>{let i;for(;e&&e!==t;)i=m(e),n(e,r,o),e=i;n(t,r,o)})(e,t,r);else{n(s,t,r);for(let e=0;e<c.length;e++)V(c[e],t,r,o);n(e.anchor,t,r)}},H=(e,t,n,r=!1,o=!1)=>{const{type:i,props:s,ref:l,children:a,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=l&&ii(l,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&d,f=!wr(e);let m;if(f&&(m=s&&s.onVnodeBeforeUnmount)&&es(m,t,e),6&u)J(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);p&&cr(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,o,Y,r):c&&(i!==_i||h>0&&64&h)?G(c,t,n,!1,!0):(i===_i&&384&h||!o&&16&u)&&G(a,t,n),r&&U(e)}(f&&(m=s&&s.onVnodeUnmounted)||p)&&ui((()=>{m&&es(m,t,e),p&&cr(e,null,t,"unmounted")}),n)},U=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===_i)return void W(n,r);if(t===Di)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),s(e),e=n;s(t)})(e);const i=()=>{s(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,s=()=>t(n,i);r?r(e.el,i,s):s()}else i()},W=(e,t)=>{let n;for(;e!==t;)n=m(e),s(e),e=n;s(t)},J=(e,t,n)=>{const{bum:r,scope:o,update:i,subTree:s,um:l}=e;r&&z(r),o.stop(),i&&(i.active=!1,H(s,e,t,n)),l&&ui(l,t),ui((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},G=(e,t,n,r=!1,o=!1,i=0)=>{for(let s=i;s<e.length;s++)H(e[s],t,n,r,o)},K=e=>6&e.shapeFlag?K(e.component.subTree):128&e.shapeFlag?e.suspense.next():m(e.anchor||e.el),Z=(e,t,n)=>{null==e?t._vnode&&H(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),xn(),_n(),t._vnode=e},Y={p:v,um:H,m:V,r:U,mt:N,mc:C,pc:$,pbc:E,n:K,o:e};let X,Q;return t&&([X,Q]=t(Y)),{render:Z,hydrate:X,createApp:Bo(Z,X)}}function fi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function mi(e,t,n=!1){const r=e.children,o=t.children;if(f(r)&&f(o))for(let e=0;e<r.length;e++){const t=r[e];let i=o[e];1&i.shapeFlag&&!i.dynamicChildren&&((i.patchFlag<=0||32===i.patchFlag)&&(i=o[e]=Yi(o[e]),i.el=t.el),n||mi(t,i)),i.type===Si&&(i.el=t.el)}}const gi=e=>e&&(e.disabled||""===e.disabled),yi=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,vi=(e,t)=>{const n=e&&e.to;if(b(n)){if(t){return t(n)}return null}return n},bi={__isTeleport:!0,process(e,t,n,r,o,i,s,l,a,c){const{mc:u,pc:h,pbc:d,o:{insert:p,querySelector:f,createText:m,createComment:g}}=c,y=gi(t.props);let{shapeFlag:v,children:b,dynamicChildren:k}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");p(e,n,r),p(c,n,r);const h=t.target=vi(t.props,f),d=t.targetAnchor=m("");h&&(p(d,h),s=s||yi(h));const g=(e,t)=>{16&v&&u(b,e,t,o,i,s,l,a)};y?g(n,c):h&&g(h,d)}else{t.el=e.el;const r=t.anchor=e.anchor,u=t.target=e.target,p=t.targetAnchor=e.targetAnchor,m=gi(e.props),g=m?n:u,v=m?r:p;if(s=s||yi(u),k?(d(e.dynamicChildren,k,g,o,i,s,l),mi(e,t,!0)):a||h(e,t,g,v,o,i,s,l,!1),y)m||ki(t,n,r,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=vi(t.props,f);e&&ki(t,e,null,c,0)}else m&&ki(t,u,p,c,1)}xi(t)},remove(e,t,n,r,{um:o,o:{remove:i}},s){const{shapeFlag:l,children:a,anchor:c,targetAnchor:u,target:h,props:d}=e;if(h&&i(u),(s||!gi(d))&&(i(c),16&l))for(let e=0;e<a.length;e++){const r=a[e];o(r,t,n,!0,!!r.dynamicChildren)}},move:ki,hydrate:function(e,t,n,r,o,i,{o:{nextSibling:s,parentNode:l,querySelector:a}},c){const u=t.target=vi(t.props,a);if(u){const a=u._lpa||u.firstChild;if(16&t.shapeFlag)if(gi(t.props))t.anchor=c(s(e),t,l(e),n,r,o,i),t.targetAnchor=a;else{t.anchor=s(e);let l=a;for(;l;)if(l=s(l),l&&8===l.nodeType&&"teleport anchor"===l.data){t.targetAnchor=l,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(a,t,u,n,r,o,i)}xi(t)}return t.anchor&&s(t.anchor)}};function ki(e,t,n,{o:{insert:r},m:o},i=2){0===i&&r(e.targetAnchor,t,n);const{el:s,anchor:l,shapeFlag:a,children:c,props:u}=e,h=2===i;if(h&&r(s,t,n),(!h||gi(u))&&16&a)for(let e=0;e<c.length;e++)o(c[e],t,n,2);h&&r(l,t,n)}const wi=bi;function xi(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const _i=Symbol.for("v-fgt"),Si=Symbol.for("v-txt"),Ci=Symbol.for("v-cmt"),Di=Symbol.for("v-stc"),Ei=[];let Ti=null;function Mi(e=!1){Ei.push(Ti=e?null:[])}function Ai(){Ei.pop(),Ti=Ei[Ei.length-1]||null}let Oi,Ii=1;function Ni(e){Ii+=e}function Ri(e){return e.dynamicChildren=Ii>0?Ti||o:null,Ai(),Ii>0&&Ti&&Ti.push(e),e}function Li(e,t,n,r,o,i){return Ri(ji(e,t,n,r,o,i,!0))}function Fi(e,t,n,r,o){return Ri(Hi(e,t,n,r,o,!0))}function Pi(e){return!!e&&!0===e.__v_isVNode}function zi(e,t){return e.type===t.type&&e.key===t.key}function $i(e){Oi=e}const Bi="__vInternal",qi=({key:e})=>null!=e?e:null,Vi=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?b(e)||$t(e)||v(e)?{i:Rn,r:e,k:t,f:!!n}:e:null);function ji(e,t=null,n=null,r=0,o=null,i=(e===_i?0:1),s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qi(t),ref:t&&Vi(t),scopeId:Ln,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Rn};return l?(Xi(a,n),128&i&&e.normalize(a)):n&&(a.shapeFlag|=b(n)?8:16),Ii>0&&!s&&Ti&&(a.patchFlag>0||6&i)&&32!==a.patchFlag&&Ti.push(a),a}const Hi=function(e,t=null,n=null,r=0,o=null,i=!1){if(e&&e!==Kr||(e=Ci),Pi(e)){const r=Wi(e,t,!0);return n&&Xi(r,n),Ii>0&&!i&&Ti&&(6&r.shapeFlag?Ti[Ti.indexOf(e)]=r:Ti.push(r)),r.patchFlag|=-2,r}if(s=e,v(s)&&"__vccOpts"in s&&(e=e.__vccOpts),t){t=Ui(t);let{class:e,style:n}=t;e&&!b(e)&&(t.class=Y(e)),w(n)&&(It(n)&&!f(n)&&(n=u({},n)),t.style=W(n))}var s;return ji(e,t,n,r,o,b(e)?1:Wn(e)?128:(e=>e.__isTeleport)(e)?64:w(e)?4:v(e)?2:0,i,!0)};function Ui(e){return e?It(e)||Bi in e?u({},e):e:null}function Wi(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:s}=e,l=t?Qi(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&qi(l),ref:t&&t.ref?n&&o?f(o)?o.concat(Vi(t)):[o,Vi(t)]:Vi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_i?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Wi(e.ssContent),ssFallback:e.ssFallback&&Wi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ji(e=" ",t=0){return Hi(Si,null,e,t)}function Gi(e,t){const n=Hi(Di,null,e);return n.staticCount=t,n}function Ki(e="",t=!1){return t?(Mi(),Fi(Ci,null,e)):Hi(Ci,null,e)}function Zi(e){return null==e||"boolean"==typeof e?Hi(Ci):f(e)?Hi(_i,null,e.slice()):"object"==typeof e?Yi(e):Hi(Si,null,String(e))}function Yi(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Wi(e)}function Xi(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(f(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Xi(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Bi in t?3===r&&Rn&&(1===Rn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Rn}}else v(t)?(t={default:t,_ctx:Rn},n=32):(t=String(t),64&r?(n=16,t=[Ji(t)]):n=8);e.children=t,e.shapeFlag|=n}function Qi(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=Y([t.class,r.class]));else if("style"===e)t.style=W([t.style,r.style]);else if(a(e)){const n=t[e],o=r[e];!o||n===o||f(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function es(e,t,n,r=null){ln(e,t,7,[n,r])}const ts=zo();let ns=0;function rs(e,t,n){const o=e.type,i=(t?t.appContext:e.appContext)||ts,s={uid:ns++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ce(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jo(o,i),emitsOptions:In(o,i),emit:null,emitted:null,propsDefaults:r,inheritAttrs:o.inheritAttrs,ctx:r,data:r,props:r,attrs:r,slots:r,refs:r,setupState:r,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=On.bind(null,s),e.ce&&e.ce(s),s}let is=null;const ss=()=>is||Rn;let ls,as,cs="__VUE_INSTANCE_SETTERS__";(as=j()[cs])||(as=j()[cs]=[]),as.push((e=>is=e)),ls=e=>{as.length>1?as.forEach((t=>t(e))):as[0](e)};const us=e=>{ls(e),e.scope.on()},hs=()=>{is&&is.scope.off(),ls(null)};function ds(e){return 4&e.vnode.shapeFlag}let ps,fs,ms=!1;function gs(e,t=!1){ms=t;const{props:n,children:r}=e.vnode,o=ds(e);!function(e,t,n,r=!1){const o={},i={};$(i,Bi,1),e.propsDefaults=Object.create(null),Uo(e,t,o,i);for(const t in e.propsOptions[0])t in o||(o[t]=void 0);n?e.props=r?o:Ct(o):e.type.props?e.props=o:e.props=i,e.attrs=i}(e,n,o,t),ri(e,r);const i=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Rt(new Proxy(e.ctx,ao));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?ws(e):null;us(e),Ae();const o=sn(r,e,0,[e.props,n]);if(Oe(),hs(),x(o)){if(o.then(hs,hs),t)return o.then((n=>{ys(e,n,t)})).catch((t=>{an(t,e,0)}));e.asyncDep=o}else ys(e,o,t)}else ks(e,t)}(e,t):void 0;return ms=!1,i}function ys(e,t,n){v(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:w(t)&&(e.setupState=Gt(t)),ks(e,n)}function vs(e){ps=e,fs=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,co))}}const bs=()=>!ps;function ks(e,t,n){const r=e.type;if(!e.render){if(!t&&ps&&!r.render){const t=r.template||Ao(e).template;if(t){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:i,compilerOptions:s}=r,l=u(u({isCustomElement:n,delimiters:i},o),s);r.render=ps(t,l)}}e.render=r.render||i,fs&&fs(e)}us(e),Ae(),function(e){const t=Ao(e),n=e.proxy,r=e.ctx;Eo=!1,t.beforeCreate&&To(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:l,watch:a,provide:c,inject:u,created:h,beforeMount:d,mounted:p,beforeUpdate:m,updated:g,activated:y,deactivated:b,beforeDestroy:k,beforeUnmount:x,destroyed:_,unmounted:S,render:C,renderTracked:D,renderTriggered:E,errorCaptured:T,serverPrefetch:M,expose:A,inheritAttrs:O,components:I,directives:N,filters:R}=t;if(u&&function(e,t,n=i){f(e)&&(e=Ro(e));for(const n in e){const r=e[n];let o;o=w(r)?"default"in r?jo(r.from||n,r.default,!0):jo(r.from||n):jo(r),$t(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[n]=o}}(u,r,null),l)for(const e in l){const t=l[e];v(t)&&(r[e]=t.bind(n))}if(o){const t=o.call(n,n);w(t)&&(e.data=St(t))}if(Eo=!0,s)for(const e in s){const t=s[e],o=v(t)?t.bind(n,n):v(t.get)?t.get.bind(n,n):i,l=!v(t)&&v(t.set)?t.set.bind(n):i,a=Ss({get:o,set:l});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(a)for(const e in a)Mo(a[e],r,n,e);if(c){const e=v(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{Vo(t,e[t])}))}function L(e,t){f(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&To(h,e,"c"),L(Fr,d),L(Pr,p),L(zr,m),L($r,g),L(Tr,y),L(Mr,b),L(Ur,T),L(Hr,D),L(jr,E),L(Br,x),L(qr,S),L(Vr,M),f(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});C&&e.render===i&&(e.render=C),null!=O&&(e.inheritAttrs=O),I&&(e.components=I),N&&(e.directives=N)}(e),Oe(),hs()}function ws(e){return{get attrs(){return function(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get:(t,n)=>(Ie(e,0,"$attrs"),t[n])}))}(e)},slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function xs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Gt(Rt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in so?so[n](e):void 0,has:(e,t)=>t in e||t in so}))}function _s(e,t=!0){return v(e)?e.displayName||e.name:e.name||t&&e.__name}const Ss=(e,t)=>function(e,t,n=!1){let r,o;const s=v(e);return s?(r=e,o=i):(r=e.get,o=e.set),new nn(r,o,s||!o,n)}(e,0,ms);function Cs(e,t,n){const r=arguments.length;return 2===r?w(t)&&!f(t)?Pi(t)?Hi(e,null,[t]):Hi(e,t):Hi(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Pi(n)&&(n=[n]),Hi(e,t,n))}const Ds=Symbol.for("v-scx"),Es=()=>jo(Ds);function Ts(){}function Ms(e,t,n,r){const o=n[r];if(o&&As(o,e))return o;const i=t();return i.memo=e.slice(),n[r]=i}function As(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(P(n[e],t[e]))return!1;return Ii>0&&Ti&&Ti.push(e),!0}const Os="3.3.4",Is={createComponentInstance:rs,setupComponent:gs,renderComponentRoot:qn,setCurrentRenderingInstance:Fn,isVNode:Pi,normalizeVNode:Zi},Ns=null,Rs=null,Ls="undefined"!=typeof document?document:null,Fs=Ls&&Ls.createElement("template"),Ps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?Ls.createElementNS("http://www.w3.org/2000/svg",e):Ls.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:e=>Ls.createTextNode(e),createComment:e=>Ls.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ls.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const s=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),o!==i&&(o=o.nextSibling););else{Fs.innerHTML=r?`<svg>${e}</svg>`:e;const o=Fs.content;if(r){const e=o.firstChild;for(;e.firstChild;)o.appendChild(e.firstChild);o.removeChild(e)}t.insertBefore(o,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},zs=/\s*!important$/;function $s(e,t,n){if(f(n))n.forEach((n=>$s(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=qs[t];if(n)return n;let r=I(t);if("filter"!==r&&r in e)return qs[t]=r;r=L(r);for(let n=0;n<Bs.length;n++){const o=Bs[n]+r;if(o in e)return qs[t]=o}return t}(e,t);zs.test(n)?e.setProperty(R(r),n.replace(zs,""),"important"):e[r]=n}}const Bs=["Webkit","Moz","ms"],qs={},Vs="http://www.w3.org/1999/xlink";function js(e,t,n,r){e.addEventListener(t,n,r)}const Hs=/(?:Once|Passive|Capture)$/;let Us=0;const Ws=Promise.resolve(),Js=()=>Us||(Ws.then((()=>Us=0)),Us=Date.now()),Gs=/^on[a-z]/;function Ks(e,t){const n=kr(e);class r extends Xs{constructor(e){super(n,e,t)}}return r.def=n,r}const Zs=e=>Ks(e,ta),Ys="undefined"!=typeof HTMLElement?HTMLElement:class{};class Xs extends Ys{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,vn((()=>{this._connected||(ea(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){this._resolved=!0;for(let e=0;e<this.attributes.length;e++)this._setAttr(this.attributes[e].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=(e,t=!1)=>{const{props:n,styles:r}=e;let o;if(n&&!f(n))for(const e in n){const t=n[e];(t===Number||t&&t.type===Number)&&(e in this._props&&(this._props[e]=q(this._props[e])),(o||(o=Object.create(null)))[I(e)]=!0)}this._numberProps=o,t&&this._resolveProps(e),this._applyStyles(r),this._update()},t=this._def.__asyncLoader;t?t().then((t=>e(t,!0))):e(this._def)}_resolveProps(e){const{props:t}=e,n=f(t)?t:Object.keys(t||{});for(const e of Object.keys(this))"_"!==e[0]&&n.includes(e)&&this._setProp(e,this[e],!0,!1);for(const e of n.map(I))Object.defineProperty(this,e,{get(){return this._getProp(e)},set(t){this._setProp(e,t)}})}_setAttr(e){let t=this.getAttribute(e);const n=I(e);this._numberProps&&this._numberProps[n]&&(t=q(t)),this._setProp(n,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!0){t!==this._props[e]&&(this._props[e]=t,r&&this._instance&&this._update(),n&&(!0===t?this.setAttribute(R(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(R(e),t+""):t||this.removeAttribute(R(e))))}_update(){ea(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Hi(this._def,u({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};e.emit=(e,...n)=>{t(e,n),R(e)!==e&&t(R(e),n)};let n=this;for(;n=n&&(n.parentNode||n.host);)if(n instanceof Xs){e.parent=n._instance,e.provides=n._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function Qs(e="$style"){{const t=ss();if(!t)return r;const n=t.type.__cssModules;if(!n)return r;return n[e]||r}}function el(e){const t=ss();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>nl(e,n)))},r=()=>{const r=e(t.proxy);tl(t.subTree,r),n(r)};er(r),Pr((()=>{const e=new MutationObserver(r);e.observe(t.subTree.el.parentNode,{childList:!0}),qr((()=>e.disconnect()))}))}function tl(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{tl(n.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)nl(e.el,t);else if(e.type===_i)e.children.forEach((e=>tl(e,t)));else if(e.type===Di){let{el:n,anchor:r}=e;for(;n&&(nl(n,t),n!==r);)n=n.nextSibling}}function nl(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty(`--${e}`,t[e])}}const rl="transition",ol="animation",il=(e,{slots:t})=>Cs(pr,ul(e),t);il.displayName="Transition";const sl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ll=il.props=u({},dr,sl),al=(e,t=[])=>{f(e)?e.forEach((e=>e(...t))):e&&e(...t)},cl=e=>!!e&&(f(e)?e.some((e=>e.length>1)):e.length>1);function ul(e){const t={};for(const n in e)n in sl||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=i,appearActiveClass:c=s,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=function(e){if(null==e)return null;if(w(e))return[hl(e.enter),hl(e.leave)];{const t=hl(e);return[t,t]}}(o),g=m&&m[0],y=m&&m[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:k,onLeave:x,onLeaveCancelled:_,onBeforeAppear:S=v,onAppear:C=b,onAppearCancelled:D=k}=t,E=(e,t,n)=>{pl(e,t?h:l),pl(e,t?c:s),n&&n()},T=(e,t)=>{e._isLeaving=!1,pl(e,d),pl(e,f),pl(e,p),t&&t()},M=e=>(t,n)=>{const o=e?C:b,s=()=>E(t,e,n);al(o,[t,s]),fl((()=>{pl(t,e?a:i),dl(t,e?h:l),cl(o)||gl(t,r,g,s)}))};return u(t,{onBeforeEnter(e){al(v,[e]),dl(e,i),dl(e,s)},onBeforeAppear(e){al(S,[e]),dl(e,a),dl(e,c)},onEnter:M(!1),onAppear:M(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>T(e,t);dl(e,d),kl(),dl(e,p),fl((()=>{e._isLeaving&&(pl(e,d),dl(e,f),cl(x)||gl(e,r,y,n))})),al(x,[e,n])},onEnterCancelled(e){E(e,!1),al(k,[e])},onAppearCancelled(e){E(e,!0),al(D,[e])},onLeaveCancelled(e){T(e),al(_,[e])}})}function hl(e){return q(e)}function dl(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function pl(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function fl(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let ml=0;function gl(e,t,n,r){const o=e._endId=++ml,i=()=>{o===e._endId&&r()};if(n)return setTimeout(i,n);const{type:s,timeout:l,propCount:a}=yl(e,t);if(!s)return r();const c=s+"end";let u=0;const h=()=>{e.removeEventListener(c,d),i()},d=t=>{t.target===e&&++u>=a&&h()};setTimeout((()=>{u<a&&h()}),l+1),e.addEventListener(c,d)}function yl(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),o=r(`${rl}Delay`),i=r(`${rl}Duration`),s=vl(o,i),l=r(`${ol}Delay`),a=r(`${ol}Duration`),c=vl(l,a);let u=null,h=0,d=0;return t===rl?s>0&&(u=rl,h=s,d=i.length):t===ol?c>0&&(u=ol,h=c,d=a.length):(h=Math.max(s,c),u=h>0?s>c?rl:ol:null,d=u?u===rl?i.length:a.length:0),{type:u,timeout:h,propCount:d,hasTransform:u===rl&&/\b(transform|all)(,|$)/.test(r(`${rl}Property`).toString())}}function vl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>bl(t)+bl(e[n]))))}function bl(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function kl(){return document.body.offsetHeight}const wl=new WeakMap,xl=new WeakMap,_l={name:"TransitionGroup",props:u({},ll,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=ss(),r=ur();let o,i;return $r((()=>{if(!o.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=yl(r);return o.removeChild(r),i}(o[0].el,n.vnode.el,t))return;o.forEach(Cl),o.forEach(Dl);const r=o.filter(El);kl(),r.forEach((e=>{const n=e.el,r=n.style;dl(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const o=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",o),n._moveCb=null,pl(n,t))};n.addEventListener("transitionend",o)}))})),()=>{const s=Nt(e),l=ul(s);let a=s.tag||_i;o=i,i=t.default?br(t.default()):[];for(let e=0;e<i.length;e++){const t=i[e];null!=t.key&&vr(t,mr(t,l,r,n))}if(o)for(let e=0;e<o.length;e++){const t=o[e];vr(t,mr(t,l,r,n)),wl.set(t,t.el.getBoundingClientRect())}return Hi(a,null,i)}}},Sl=_l;function Cl(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Dl(e){xl.set(e,e.el.getBoundingClientRect())}function El(e){const t=wl.get(e),n=xl.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${o}px)`,t.transitionDuration="0s",e}}const Tl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return f(t)?e=>z(t,e):t};function Ml(e){e.target.composing=!0}function Al(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ol={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=Tl(o);const i=r||o.props&&"number"===o.props.type;js(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),i&&(r=B(r)),e._assign(r)})),n&&js(e,"change",(()=>{e.value=e.value.trim()})),t||(js(e,"compositionstart",Ml),js(e,"compositionend",Al),js(e,"change",Al))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},i){if(e._assign=Tl(i),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===t)return;if((o||"number"===e.type)&&B(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}},Il={deep:!0,created(e,t,n){e._assign=Tl(n),js(e,"change",(()=>{const t=e._modelValue,n=Pl(e),r=e.checked,o=e._assign;if(f(t)){const e=ie(t,n),i=-1!==e;if(r&&!i)o(t.concat(n));else if(!r&&i){const n=[...t];n.splice(e,1),o(n)}}else if(g(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(zl(e,r))}))},mounted:Nl,beforeUpdate(e,t,n){e._assign=Tl(n),Nl(e,t,n)}};function Nl(e,{value:t,oldValue:n},r){e._modelValue=t,f(t)?e.checked=ie(t,r.props.value)>-1:g(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=oe(t,zl(e,!0)))}const Rl={created(e,{value:t},n){e.checked=oe(t,n.props.value),e._assign=Tl(n),js(e,"change",(()=>{e._assign(Pl(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=Tl(r),t!==n&&(e.checked=oe(t,r.props.value))}},Ll={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=g(t);js(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?B(Pl(e)):Pl(e)));e._assign(e.multiple?o?new Set(t):t:t[0])})),e._assign=Tl(r)},mounted(e,{value:t}){Fl(e,t)},beforeUpdate(e,t,n){e._assign=Tl(n)},updated(e,{value:t}){Fl(e,t)}};function Fl(e,t){const n=e.multiple;if(!n||f(t)||g(t)){for(let r=0,o=e.options.length;r<o;r++){const o=e.options[r],i=Pl(o);if(n)f(t)?o.selected=ie(t,i)>-1:o.selected=t.has(i);else if(oe(Pl(o),t))return void(e.selectedIndex!==r&&(e.selectedIndex=r))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Pl(e){return"_value"in e?e._value:e.value}function zl(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const $l={created(e,t,n){ql(e,t,n,null,"created")},mounted(e,t,n){ql(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){ql(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){ql(e,t,n,r,"updated")}};function Bl(e,t){switch(e){case"SELECT":return Ll;case"TEXTAREA":return Ol;default:switch(t){case"checkbox":return Il;case"radio":return Rl;default:return Ol}}}function ql(e,t,n,r,o){const i=Bl(e.tagName,n.props&&n.props.type)[o];i&&i(e,t,n,r)}const Vl=["ctrl","shift","alt","meta"],jl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Vl.some((n=>e[`${n}Key`]&&!t.includes(n)))},Hl=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=jl[t[e]];if(r&&r(n,t))return}return e(n,...r)},Ul={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Wl=(e,t)=>n=>{if(!("key"in n))return;const r=R(n.key);return t.some((e=>e===r||Ul[e]===r))?e(n):void 0},Jl={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Gl(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Gl(e,!0),r.enter(e)):r.leave(e,(()=>{Gl(e,!1)})):Gl(e,t))},beforeUnmount(e,{value:t}){Gl(e,t)}};function Gl(e,t){e.style.display=t?e._vod:"none"}const Kl=u({patchProp:(e,t,n,r,o=!1,i,s,l,u)=>{"class"===t?function(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,o):"style"===t?function(e,t,n){const r=e.style,o=b(n);if(n&&!o){if(t&&!b(t))for(const e in t)null==n[e]&&$s(r,e,"");for(const e in n)$s(r,e,n[e])}else{const i=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}(e,n,r):a(t)?c(t)||function(e,t,n,r,o=null){const i=e._vei||(e._vei={}),s=i[t];if(r&&s)s.value=r;else{const[n,l]=function(e){let t;if(Hs.test(e)){let n;for(t={};n=e.match(Hs);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):R(e.slice(2)),t]}(t);if(r){const s=i[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();ln(function(e,t){if(f(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Js(),n}(r,o);js(e,n,s,l)}else s&&(function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,s,l),i[t]=void 0)}}(e,t,0,r,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&Gs.test(t)&&v(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!Gs.test(t)||!b(n))&&t in e))))}(e,t,r,o))?function(e,t,n,r,o,i,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,o,i),void(e[t]=null==n?"":n);const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){e._value=n;const r=null==n?"":n;return("OPTION"===l?e.getAttribute("value"):e.value)!==r&&(e.value=r),void(null==n&&e.removeAttribute(t))}let a=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=re(n):null==n&&"string"===r?(n="",a=!0):"number"===r&&(n=0,a=!0)}try{e[t]=n}catch(e){}a&&e.removeAttribute(t)}(e,t,r,i,s,l,u):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,n,r,o){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(Vs,t.slice(6,t.length)):e.setAttributeNS(Vs,t,n);else{const r=ne(t);null==n||r&&!re(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,r,o))}},Ps);let Zl,Yl=!1;function Xl(){return Zl||(Zl=hi(Kl))}function Ql(){return Zl=Yl?Zl:di(Kl),Yl=!0,Zl}const ea=(...e)=>{Xl().render(...e)},ta=(...e)=>{Ql().hydrate(...e)},na=(...e)=>{const t=Xl().createApp(...e),{mount:n}=t;return t.mount=e=>{const r=oa(e);if(!r)return;const o=t._component;v(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t},ra=(...e)=>{const t=Ql().createApp(...e),{mount:n}=t;return t.mount=e=>{const t=oa(e);if(t)return n(t,!0,t instanceof SVGElement)},t};function oa(e){return b(e)?document.querySelector(e):e}let ia=!1;const sa=()=>{ia||(ia=!0,Ol.getSSRProps=({value:e})=>({value:e}),Rl.getSSRProps=({value:e},t)=>{if(t.props&&oe(t.props.value,e))return{checked:!0}},Il.getSSRProps=({value:e},t)=>{if(f(e)){if(t.props&&ie(e,t.props.value)>-1)return{checked:!0}}else if(g(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},$l.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;const n=Bl(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0},Jl.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})};function la(e){throw e}function aa(e){}function ca(e,t,n,r){const o=new SyntaxError(String(e));return o.code=e,o.loc=t,o}const ua=Symbol(""),ha=Symbol(""),da=Symbol(""),pa=Symbol(""),fa=Symbol(""),ma=Symbol(""),ga=Symbol(""),ya=Symbol(""),va=Symbol(""),ba=Symbol(""),ka=Symbol(""),wa=Symbol(""),xa=Symbol(""),_a=Symbol(""),Sa=Symbol(""),Ca=Symbol(""),Da=Symbol(""),Ea=Symbol(""),Ta=Symbol(""),Ma=Symbol(""),Aa=Symbol(""),Oa=Symbol(""),Ia=Symbol(""),Na=Symbol(""),Ra=Symbol(""),La=Symbol(""),Fa=Symbol(""),Pa=Symbol(""),za=Symbol(""),$a=Symbol(""),Ba=Symbol(""),qa=Symbol(""),Va=Symbol(""),ja=Symbol(""),Ha=Symbol(""),Ua=Symbol(""),Wa=Symbol(""),Ja=Symbol(""),Ga=Symbol(""),Ka={[ua]:"Fragment",[ha]:"Teleport",[da]:"Suspense",[pa]:"KeepAlive",[fa]:"BaseTransition",[ma]:"openBlock",[ga]:"createBlock",[ya]:"createElementBlock",[va]:"createVNode",[ba]:"createElementVNode",[ka]:"createCommentVNode",[wa]:"createTextVNode",[xa]:"createStaticVNode",[_a]:"resolveComponent",[Sa]:"resolveDynamicComponent",[Ca]:"resolveDirective",[Da]:"resolveFilter",[Ea]:"withDirectives",[Ta]:"renderList",[Ma]:"renderSlot",[Aa]:"createSlots",[Oa]:"toDisplayString",[Ia]:"mergeProps",[Na]:"normalizeClass",[Ra]:"normalizeStyle",[La]:"normalizeProps",[Fa]:"guardReactiveProps",[Pa]:"toHandlers",[za]:"camelize",[$a]:"capitalize",[Ba]:"toHandlerKey",[qa]:"setBlockTracking",[Va]:"pushScopeId",[ja]:"popScopeId",[Ha]:"withCtx",[Ua]:"unref",[Wa]:"isRef",[Ja]:"withMemo",[Ga]:"isMemoSame"},Za={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Ya(e,t,n,r,o,i,s,l=!1,a=!1,c=!1,u=Za){return e&&(l?(e.helper(ma),e.helper(lc(e.inSSR,c))):e.helper(sc(e.inSSR,c)),s&&e.helper(Ea)),{type:13,tag:t,props:n,children:r,patchFlag:o,dynamicProps:i,directives:s,isBlock:l,disableTracking:a,isComponent:c,loc:u}}function Xa(e,t=Za){return{type:17,loc:t,elements:e}}function Qa(e,t=Za){return{type:15,loc:t,properties:e}}function ec(e,t){return{type:16,loc:Za,key:b(e)?tc(e,!0):e,value:t}}function tc(e,t=!1,n=Za,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function nc(e,t=Za){return{type:8,loc:t,children:e}}function rc(e,t=[],n=Za){return{type:14,loc:n,callee:e,arguments:t}}function oc(e,t=void 0,n=!1,r=!1,o=Za){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:o}}function ic(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:Za}}function sc(e,t){return e||t?va:ba}function lc(e,t){return e||t?ga:ya}function ac(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(sc(r,e.isComponent)),t(ma),t(lc(r,e.isComponent)))}const cc=e=>4===e.type&&e.isStatic,uc=(e,t)=>e===t||e===R(t);function hc(e){return uc(e,"Teleport")?ha:uc(e,"Suspense")?da:uc(e,"KeepAlive")?pa:uc(e,"BaseTransition")?fa:void 0}const dc=/^\d|[^\$\w]/,pc=e=>!dc.test(e),fc=/[A-Za-z_$\xA0-\uFFFF]/,mc=/[\.\?\w$\xA0-\uFFFF]/,gc=/\s+[.[]\s*|\s*[.[]\s+/g,yc=e=>{e=e.trim().replace(gc,(e=>e.trim()));let t=0,n=[],r=0,o=0,i=null;for(let s=0;s<e.length;s++){const l=e.charAt(s);switch(t){case 0:if("["===l)n.push(t),t=1,r++;else if("("===l)n.push(t),t=2,o++;else if(!(0===s?fc:mc).test(l))return!1;break;case 1:"'"===l||'"'===l||"`"===l?(n.push(t),t=3,i=l):"["===l?r++:"]"===l&&(--r||(t=n.pop()));break;case 2:if("'"===l||'"'===l||"`"===l)n.push(t),t=3,i=l;else if("("===l)o++;else if(")"===l){if(s===e.length-1)return!1;--o||(t=n.pop())}break;case 3:l===i&&(t=n.pop(),i=null)}}return!r&&!o};function vc(e,t,n){const r={source:e.source.slice(t,t+n),start:bc(e.start,e.source,t),end:e.end};return null!=n&&(r.end=bc(e.start,e.source,t+n)),r}function bc(e,t,n=t.length){return kc(u({},e),t,n)}function kc(e,t,n=t.length){let r=0,o=-1;for(let e=0;e<n;e++)10===t.charCodeAt(e)&&(r++,o=e);return e.offset+=n,e.line+=r,e.column=-1===o?e.column+n:n-o,e}function wc(e,t,n=!1){for(let r=0;r<e.props.length;r++){const o=e.props[r];if(7===o.type&&(n||o.exp)&&(b(t)?o.name===t:t.test(o.name)))return o}}function xc(e,t,n=!1,r=!1){for(let o=0;o<e.props.length;o++){const i=e.props[o];if(6===i.type){if(n)continue;if(i.name===t&&(i.value||r))return i}else if("bind"===i.name&&(i.exp||r)&&_c(i.arg,t))return i}}function _c(e,t){return!(!e||!cc(e)||e.content!==t)}function Sc(e){return 5===e.type||2===e.type}function Cc(e){return 7===e.type&&"slot"===e.name}function Dc(e){return 1===e.type&&3===e.tagType}function Ec(e){return 1===e.type&&2===e.tagType}const Tc=new Set([La,Fa]);function Mc(e,t=[]){if(e&&!b(e)&&14===e.type){const n=e.callee;if(!b(n)&&Tc.has(n))return Mc(e.arguments[0],t.concat(e))}return[e,t]}function Ac(e,t,n){let r,o,i=13===e.type?e.props:e.arguments[2],s=[];if(i&&!b(i)&&14===i.type){const e=Mc(i);i=e[0],s=e[1],o=s[s.length-1]}if(null==i||b(i))r=Qa([t]);else if(14===i.type){const e=i.arguments[0];b(e)||15!==e.type?i.callee===Pa?r=rc(n.helper(Ia),[Qa([t]),i]):i.arguments.unshift(Qa([t])):Oc(t,e)||e.properties.unshift(t),!r&&(r=i)}else 15===i.type?(Oc(t,i)||i.properties.unshift(t),r=i):(r=rc(n.helper(Ia),[Qa([t]),i]),o&&o.callee===Fa&&(o=s[s.length-2]));13===e.type?o?o.arguments[0]=r:e.props=r:o?o.arguments[0]=r:e.arguments[2]=r}function Oc(e,t){let n=!1;if(4===e.key.type){const r=e.key.content;n=t.properties.some((e=>4===e.key.type&&e.key.content===r))}return n}function Ic(e,t){return`_${t}_${e.replace(/[^\w]/g,((t,n)=>"-"===t?"_":e.charCodeAt(n).toString()))}`}function Nc(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,r=n&&n[e];return"MODE"===e?r||3:r}function Rc(e,t){const n=Nc("MODE",t),r=Nc(e,t);return 3===n?!0===r:!1!==r}function Lc(e,t,n,...r){return Rc(e,t)}const Fc=/&(gt|lt|amp|apos|quot);/g,Pc={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},zc={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:s,isPreTag:s,isCustomElement:s,decodeEntities:e=>e.replace(Fc,((e,t)=>Pc[t])),onError:la,onWarn:aa,comments:!1};function $c(e,t,n){const r=tu(n),o=r?r.ns:0,i=[];for(;!lu(e,t,n);){const s=e.source;let l;if(0===t||1===t)if(!e.inVPre&&nu(s,e.options.delimiters[0]))l=Zc(e,t);else if(0===t&&"<"===s[0])if(1===s.length)su(e,5,1);else if("!"===s[1])nu(s,"\x3c!--")?l=Vc(e):nu(s,"<!DOCTYPE")?l=jc(e):nu(s,"<![CDATA[")?0!==o?l=qc(e,n):(su(e,1),l=jc(e)):(su(e,11),l=jc(e));else if("/"===s[1])if(2===s.length)su(e,5,2);else{if(">"===s[2]){su(e,14,2),ru(e,3);continue}if(/[a-z]/i.test(s[2])){su(e,23),Jc(e,Uc.End,r);continue}su(e,12,2),l=jc(e)}else/[a-z]/i.test(s[1])?(l=Hc(e,n),Rc("COMPILER_NATIVE_TEMPLATE",e)&&l&&"template"===l.tag&&!l.props.some((e=>7===e.type&&Wc(e.name)))&&(l=l.children)):"?"===s[1]?(su(e,21,1),l=jc(e)):su(e,12,1);if(l||(l=Yc(e,t)),f(l))for(let e=0;e<l.length;e++)Bc(i,l[e]);else Bc(i,l)}let s=!1;if(2!==t&&1!==t){const t="preserve"!==e.options.whitespace;for(let n=0;n<i.length;n++){const r=i[n];if(2===r.type)if(e.inPre)r.content=r.content.replace(/\r\n/g,"\n");else if(/[^\t\r\n\f ]/.test(r.content))t&&(r.content=r.content.replace(/[\t\r\n\f ]+/g," "));else{const e=i[n-1],o=i[n+1];!e||!o||t&&(3===e.type&&3===o.type||3===e.type&&1===o.type||1===e.type&&3===o.type||1===e.type&&1===o.type&&/[\r\n]/.test(r.content))?(s=!0,i[n]=null):r.content=" "}else 3!==r.type||e.options.comments||(s=!0,i[n]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const e=i[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}}return s?i.filter(Boolean):i}function Bc(e,t){if(2===t.type){const n=tu(e);if(n&&2===n.type&&n.loc.end.offset===t.loc.start.offset)return n.content+=t.content,n.loc.end=t.loc.end,void(n.loc.source+=t.loc.source)}e.push(t)}function qc(e,t){ru(e,9);const n=$c(e,3,t);return 0===e.source.length?su(e,6):ru(e,3),n}function Vc(e){const t=Qc(e);let n;const r=/--(\!)?>/.exec(e.source);if(r){r.index<=3&&su(e,0),r[1]&&su(e,10),n=e.source.slice(4,r.index);const t=e.source.slice(0,r.index);let o=1,i=0;for(;-1!==(i=t.indexOf("\x3c!--",o));)ru(e,i-o+1),i+4<t.length&&su(e,16),o=i+1;ru(e,r.index+r[0].length-o+1)}else n=e.source.slice(4),ru(e,e.source.length),su(e,7);return{type:3,content:n,loc:eu(e,t)}}function jc(e){const t=Qc(e),n="?"===e.source[1]?1:2;let r;const o=e.source.indexOf(">");return-1===o?(r=e.source.slice(n),ru(e,e.source.length)):(r=e.source.slice(n,o),ru(e,o+1)),{type:3,content:r,loc:eu(e,t)}}function Hc(e,t){const n=e.inPre,r=e.inVPre,o=tu(t),i=Jc(e,Uc.Start,o),s=e.inPre&&!n,l=e.inVPre&&!r;if(i.isSelfClosing||e.options.isVoidTag(i.tag))return s&&(e.inPre=!1),l&&(e.inVPre=!1),i;t.push(i);const a=e.options.getTextMode(i,o),c=$c(e,a,t);t.pop();{const t=i.props.find((e=>6===e.type&&"inline-template"===e.name));if(t&&Lc("COMPILER_INLINE_TEMPLATE",e,t.loc)){const n=eu(e,i.loc.end);t.value={type:2,content:n.source,loc:n}}}if(i.children=c,au(e.source,i.tag))Jc(e,Uc.End,o);else if(su(e,24,0,i.loc.start),0===e.source.length&&"script"===i.tag.toLowerCase()){const t=c[0];t&&nu(t.loc.source,"\x3c!--")&&su(e,8)}return i.loc=eu(e,i.loc.start),s&&(e.inPre=!1),l&&(e.inVPre=!1),i}var Uc=(e=>(e[e.Start=0]="Start",e[e.End=1]="End",e))(Uc||{});const Wc=t("if,else,else-if,for,slot");function Jc(e,t,n){const r=Qc(e),o=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),i=o[1],s=e.options.getNamespace(i,n);ru(e,o[0].length),ou(e);const l=Qc(e),a=e.source;e.options.isPreTag(i)&&(e.inPre=!0);let c=Gc(e,t);0===t&&!e.inVPre&&c.some((e=>7===e.type&&"pre"===e.name))&&(e.inVPre=!0,u(e,l),e.source=a,c=Gc(e,t).filter((e=>"v-pre"!==e.name)));let h=!1;if(0===e.source.length?su(e,9):(h=nu(e.source,"/>"),1===t&&h&&su(e,4),ru(e,h?2:1)),1===t)return;let d=0;return e.inVPre||("slot"===i?d=2:"template"===i?c.some((e=>7===e.type&&Wc(e.name)))&&(d=3):function(e,t,n){const r=n.options;if(r.isCustomElement(e))return!1;if("component"===e||/^[A-Z]/.test(e)||hc(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let e=0;e<t.length;e++){const r=t[e];if(6===r.type){if("is"===r.name&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(Lc("COMPILER_IS_ON_ELEMENT",n,r.loc))return!0}}else{if("is"===r.name)return!0;if("bind"===r.name&&_c(r.arg,"is")&&Lc("COMPILER_IS_ON_ELEMENT",n,r.loc))return!0}}}(i,c,e)&&(d=1)),{type:1,ns:s,tag:i,tagType:d,props:c,isSelfClosing:h,children:[],loc:eu(e,r),codegenNode:void 0}}function Gc(e,t){const n=[],r=new Set;for(;e.source.length>0&&!nu(e.source,">")&&!nu(e.source,"/>");){if(nu(e.source,"/")){su(e,22),ru(e,1),ou(e);continue}1===t&&su(e,3);const o=Kc(e,r);6===o.type&&o.value&&"class"===o.name&&(o.value.content=o.value.content.replace(/\s+/g," ").trim()),0===t&&n.push(o),/^[^\t\r\n\f />]/.test(e.source)&&su(e,15),ou(e)}return n}function Kc(e,t){var n;const r=Qc(e),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(o)&&su(e,2),t.add(o),"="===o[0]&&su(e,19);{const t=/["'<]/g;let n;for(;n=t.exec(o);)su(e,17,n.index)}let i;ru(e,o.length),/^[\t\r\n\f ]*=/.test(e.source)&&(ou(e),ru(e,1),ou(e),i=function(e){const t=Qc(e);let n;const r=e.source[0],o='"'===r||"'"===r;if(o){ru(e,1);const t=e.source.indexOf(r);-1===t?n=Xc(e,e.source.length,4):(n=Xc(e,t,4),ru(e,1))}else{const t=/^[^\t\r\n\f >]+/.exec(e.source);if(!t)return;const r=/["'<=`]/g;let o;for(;o=r.exec(t[0]);)su(e,18,o.index);n=Xc(e,t[0].length,4)}return{content:n,isQuoted:o,loc:eu(e,t)}}(e),i||su(e,13));const s=eu(e,r);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const t=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let l,a=nu(o,"."),c=t[1]||(a||nu(o,":")?"bind":nu(o,"@")?"on":"slot");if(t[2]){const i="slot"===c,s=o.lastIndexOf(t[2],o.length-((null==(n=t[3])?void 0:n.length)||0)),a=eu(e,iu(e,r,s),iu(e,r,s+t[2].length+(i&&t[3]||"").length));let u=t[2],h=!0;u.startsWith("[")?(h=!1,u.endsWith("]")?u=u.slice(1,u.length-1):(su(e,27),u=u.slice(1))):i&&(u+=t[3]||""),l={type:4,content:u,isStatic:h,constType:h?3:0,loc:a}}if(i&&i.isQuoted){const e=i.loc;e.start.offset++,e.start.column++,e.end=bc(e.start,i.content),e.source=e.source.slice(1,-1)}const u=t[3]?t[3].slice(1).split("."):[];return a&&u.push("prop"),"bind"===c&&l&&u.includes("sync")&&Lc("COMPILER_V_BIND_SYNC",e,0,l.loc.source)&&(c="model",u.splice(u.indexOf("sync"),1)),{type:7,name:c,exp:i&&{type:4,content:i.content,isStatic:!1,constType:0,loc:i.loc},arg:l,modifiers:u,loc:s}}return!e.inVPre&&nu(o,"v-")&&su(e,26),{type:6,name:o,value:i&&{type:2,content:i.content,loc:i.loc},loc:s}}function Zc(e,t){const[n,r]=e.options.delimiters,o=e.source.indexOf(r,n.length);if(-1===o)return void su(e,25);const i=Qc(e);ru(e,n.length);const s=Qc(e),l=Qc(e),a=o-n.length,c=e.source.slice(0,a),u=Xc(e,a,t),h=u.trim(),d=u.indexOf(h);return d>0&&kc(s,c,d),kc(l,c,a-(u.length-h.length-d)),ru(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:eu(e,s,l)},loc:eu(e,i)}}function Yc(e,t){const n=3===t?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let t=0;t<n.length;t++){const o=e.source.indexOf(n[t],1);-1!==o&&r>o&&(r=o)}const o=Qc(e);return{type:2,content:Xc(e,r,t),loc:eu(e,o)}}function Xc(e,t,n){const r=e.source.slice(0,t);return ru(e,t),2!==n&&3!==n&&r.includes("&")?e.options.decodeEntities(r,4===n):r}function Qc(e){const{column:t,line:n,offset:r}=e;return{column:t,line:n,offset:r}}function eu(e,t,n){return{start:t,end:n=n||Qc(e),source:e.originalSource.slice(t.offset,n.offset)}}function tu(e){return e[e.length-1]}function nu(e,t){return e.startsWith(t)}function ru(e,t){const{source:n}=e;kc(e,n,t),e.source=n.slice(t)}function ou(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&ru(e,t[0].length)}function iu(e,t,n){return bc(t,e.originalSource.slice(t.offset,n),n)}function su(e,t,n,r=Qc(e)){n&&(r.offset+=n,r.column+=n),e.options.onError(ca(t,{start:r,end:r,source:""}))}function lu(e,t,n){const r=e.source;switch(t){case 0:if(nu(r,"</"))for(let e=n.length-1;e>=0;--e)if(au(r,n[e].tag))return!0;break;case 1:case 2:{const e=tu(n);if(e&&au(r,e.tag))return!0;break}case 3:if(nu(r,"]]>"))return!0}return!r}function au(e,t){return nu(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function cu(e,t){hu(e,t,uu(e,e.children[0]))}function uu(e,t){const{children:n}=e;return 1===n.length&&1===t.type&&!Ec(t)}function hu(e,t,n=!1){const{children:r}=e,o=r.length;let i=0;for(let e=0;e<r.length;e++){const o=r[e];if(1===o.type&&0===o.tagType){const e=n?0:du(o,t);if(e>0){if(e>=2){o.codegenNode.patchFlag="-1",o.codegenNode=t.hoist(o.codegenNode),i++;continue}}else{const e=o.codegenNode;if(13===e.type){const n=yu(e);if((!n||512===n||1===n)&&mu(o,t)>=2){const n=gu(o);n&&(e.props=t.hoist(n))}e.dynamicProps&&(e.dynamicProps=t.hoist(e.dynamicProps))}}}if(1===o.type){const e=1===o.tagType;e&&t.scopes.vSlot++,hu(o,t),e&&t.scopes.vSlot--}else if(11===o.type)hu(o,t,1===o.children.length);else if(9===o.type)for(let e=0;e<o.branches.length;e++)hu(o.branches[e],t,1===o.branches[e].children.length)}i&&t.transformHoist&&t.transformHoist(r,t,e),i&&i===o&&1===e.type&&0===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&f(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(Xa(e.codegenNode.children)))}function du(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;const r=n.get(e);if(void 0!==r)return r;const o=e.codegenNode;if(13!==o.type)return 0;if(o.isBlock&&"svg"!==e.tag&&"foreignObject"!==e.tag)return 0;if(yu(o))return n.set(e,0),0;{let r=3;const i=mu(e,t);if(0===i)return n.set(e,0),0;i<r&&(r=i);for(let o=0;o<e.children.length;o++){const i=du(e.children[o],t);if(0===i)return n.set(e,0),0;i<r&&(r=i)}if(r>1)for(let o=0;o<e.props.length;o++){const i=e.props[o];if(7===i.type&&"bind"===i.name&&i.exp){const o=du(i.exp,t);if(0===o)return n.set(e,0),0;o<r&&(r=o)}}if(o.isBlock){for(let t=0;t<e.props.length;t++)if(7===e.props[t].type)return n.set(e,0),0;t.removeHelper(ma),t.removeHelper(lc(t.inSSR,o.isComponent)),o.isBlock=!1,t.helper(sc(t.inSSR,o.isComponent))}return n.set(e,r),r}case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return du(e.content,t);case 4:return e.constType;case 8:let i=3;for(let n=0;n<e.children.length;n++){const r=e.children[n];if(b(r)||k(r))continue;const o=du(r,t);if(0===o)return 0;o<i&&(i=o)}return i}}const pu=new Set([Na,Ra,La,Fa]);function fu(e,t){if(14===e.type&&!b(e.callee)&&pu.has(e.callee)){const n=e.arguments[0];if(4===n.type)return du(n,t);if(14===n.type)return fu(n,t)}return 0}function mu(e,t){let n=3;const r=gu(e);if(r&&15===r.type){const{properties:e}=r;for(let r=0;r<e.length;r++){const{key:o,value:i}=e[r],s=du(o,t);if(0===s)return s;let l;if(s<n&&(n=s),l=4===i.type?du(i,t):14===i.type?fu(i,t):0,0===l)return l;l<n&&(n=l)}}return n}function gu(e){const t=e.codegenNode;if(13===t.type)return t.props}function yu(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function vu(e,t){const n=function(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:o=!1,cacheHandlers:s=!1,nodeTransforms:l=[],directiveTransforms:a={},transformHoist:c=null,isBuiltInComponent:u=i,isCustomElement:h=i,expressionPlugins:d=[],scopeId:p=null,slotted:f=!0,ssr:m=!1,inSSR:g=!1,ssrCssVars:y="",bindingMetadata:v=r,inline:k=!1,isTS:w=!1,onError:x=la,onWarn:_=aa,compatConfig:S}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),D={selfName:C&&L(I(C[1])),prefixIdentifiers:n,hoistStatic:o,cacheHandlers:s,nodeTransforms:l,directiveTransforms:a,transformHoist:c,isBuiltInComponent:u,isCustomElement:h,expressionPlugins:d,scopeId:p,slotted:f,ssr:m,inSSR:g,ssrCssVars:y,bindingMetadata:v,inline:k,isTS:w,onError:x,onWarn:_,compatConfig:S,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){const t=D.helpers.get(e)||0;return D.helpers.set(e,t+1),e},removeHelper(e){const t=D.helpers.get(e);if(t){const n=t-1;n?D.helpers.set(e,n):D.helpers.delete(e)}},helperString:e=>`_${Ka[D.helper(e)]}`,replaceNode(e){D.parent.children[D.childIndex]=D.currentNode=e},removeNode(e){const t=D.parent.children,n=e?t.indexOf(e):D.currentNode?D.childIndex:-1;e&&e!==D.currentNode?D.childIndex>n&&(D.childIndex--,D.onNodeRemoved()):(D.currentNode=null,D.onNodeRemoved()),D.parent.children.splice(n,1)},onNodeRemoved:()=>{},addIdentifiers(e){},removeIdentifiers(e){},hoist(e){b(e)&&(e=tc(e)),D.hoists.push(e);const t=tc(`_hoisted_${D.hoists.length}`,!1,e.loc,2);return t.hoisted=e,t},cache:(e,t=!1)=>function(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:Za}}(D.cached++,e,t)};return D.filters=new Set,D}(e,t);bu(e,n),t.hoistStatic&&cu(e,n),t.ssr||function(e,t){const{helper:n}=t,{children:r}=e;if(1===r.length){const n=r[0];if(uu(e,n)&&n.codegenNode){const r=n.codegenNode;13===r.type&&ac(r,t),e.codegenNode=r}else e.codegenNode=n}else if(r.length>1){let r=64;H[64],e.codegenNode=Ya(t,n(ua),void 0,e.children,r+"",void 0,void 0,!0,void 0,!1)}}(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function bu(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let o=0;o<n.length;o++){const i=n[o](e,t);if(i&&(f(i)?r.push(...i):r.push(i)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(ka);break;case 5:t.ssr||t.helper(Oa);break;case 9:for(let n=0;n<e.branches.length;n++)bu(e.branches[n],t);break;case 10:case 11:case 1:case 0:!function(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const o=e.children[n];b(o)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=r,bu(o,t))}}(e,t)}t.currentNode=e;let o=r.length;for(;o--;)r[o]()}function ku(e,t){const n=b(e)?t=>t===e:t=>e.test(t);return(e,r)=>{if(1===e.type){const{props:o}=e;if(3===e.tagType&&o.some(Cc))return;const i=[];for(let s=0;s<o.length;s++){const l=o[s];if(7===l.type&&n(l.name)){o.splice(s,1),s--;const n=t(e,l,r);n&&i.push(n)}}return i}}}const wu="/*#__PURE__*/",xu=e=>`${Ka[e]}: _${Ka[e]}`;function _u(e,t={}){const n=function(e,{mode:t="function",prefixIdentifiers:n="module"===t,sourceMap:r=!1,filename:o="template.vue.html",scopeId:i=null,optimizeImports:s=!1,runtimeGlobalName:l="Vue",runtimeModuleName:a="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:d=!1}){const p={mode:t,prefixIdentifiers:n,sourceMap:r,filename:o,scopeId:i,optimizeImports:s,runtimeGlobalName:l,runtimeModuleName:a,ssrRuntimeModuleName:c,ssr:u,isTS:h,inSSR:d,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>`_${Ka[e]}`,push(e,t){p.code+=e},indent(){f(++p.indentLevel)},deindent(e=!1){e?--p.indentLevel:f(--p.indentLevel)},newline(){f(p.indentLevel)}};function f(e){p.push("\n"+"  ".repeat(e))}return p}(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:o,prefixIdentifiers:i,indent:s,deindent:l,newline:a,scopeId:c,ssr:u}=n,h=Array.from(e.helpers),d=h.length>0,p=!i&&"module"!==r;if(function(e,t){const{ssr:n,prefixIdentifiers:r,push:o,newline:i,runtimeModuleName:s,runtimeGlobalName:l,ssrRuntimeModuleName:a}=t,c=l,u=Array.from(e.helpers);u.length>0&&(o(`const _Vue = ${c}\n`),e.hoists.length)&&o(`const { ${[va,ba,ka,wa,xa].filter((e=>u.includes(e))).map(xu).join(", ")} } = _Vue\n`),function(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r,helper:o,scopeId:i,mode:s}=t;r();for(let o=0;o<e.length;o++){const i=e[o];i&&(n(`const _hoisted_${o+1} = `),Eu(i,t),r())}t.pure=!1}(e.hoists,t),i(),o("return ")}(e,n),o(`function ${u?"ssrRender":"render"}(${(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),s(),p&&(o("with (_ctx) {"),s(),d&&(o(`const { ${h.map(xu).join(", ")} } = _Vue`),o("\n"),a())),e.components.length&&(Su(e.components,"component",n),(e.directives.length||e.temps>0)&&a()),e.directives.length&&(Su(e.directives,"directive",n),e.temps>0&&a()),e.filters&&e.filters.length&&(a(),Su(e.filters,"filter",n),a()),e.temps>0){o("let ");for(let t=0;t<e.temps;t++)o(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(o("\n"),a()),u||o("return "),e.codegenNode?Eu(e.codegenNode,n):o("null"),p&&(l(),o("}")),l(),o("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function Su(e,t,{helper:n,push:r,newline:o,isTS:i}){const s=n("filter"===t?Da:"component"===t?_a:Ca);for(let n=0;n<e.length;n++){let l=e[n];const a=l.endsWith("__self");a&&(l=l.slice(0,-6)),r(`const ${Ic(l,t)} = ${s}(${JSON.stringify(l)}${a?", true":""})${i?"!":""}`),n<e.length-1&&o()}}function Cu(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),Du(e,t,n),n&&t.deindent(),t.push("]")}function Du(e,t,n=!1,r=!0){const{push:o,newline:i}=t;for(let s=0;s<e.length;s++){const l=e[s];b(l)?o(l):f(l)?Cu(l,t):Eu(l,t),s<e.length-1&&(n?(r&&o(","),i()):r&&o(", "))}}function Eu(e,t){if(b(e))t.push(e);else if(k(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:case 12:Eu(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),e)}(e,t);break;case 4:Tu(e,t);break;case 5:!function(e,t){const{push:n,helper:r,pure:o}=t;o&&n(wu),n(`${r(Oa)}(`),Eu(e.content,t),n(")")}(e,t);break;case 8:Mu(e,t);break;case 3:!function(e,t){const{push:n,helper:r,pure:o}=t;o&&n(wu),n(`${r(ka)}(${JSON.stringify(e.content)})`,e)}(e,t);break;case 13:!function(e,t){const{push:n,helper:r,pure:o}=t,{tag:i,props:s,children:l,patchFlag:a,dynamicProps:c,directives:u,isBlock:h,disableTracking:d,isComponent:p}=e;u&&n(r(Ea)+"("),h&&n(`(${r(ma)}(${d?"true":""}), `),o&&n(wu);n(r(h?lc(t.inSSR,p):sc(t.inSSR,p))+"(",e),Du(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map((e=>e||"null"))}([i,s,l,a,c]),t),n(")"),h&&n(")"),u&&(n(", "),Eu(u,t),n(")"))}(e,t);break;case 14:!function(e,t){const{push:n,helper:r,pure:o}=t,i=b(e.callee)?e.callee:r(e.callee);o&&n(wu),n(i+"(",e),Du(e.arguments,t),n(")")}(e,t);break;case 15:!function(e,t){const{push:n,indent:r,deindent:o,newline:i}=t,{properties:s}=e;if(!s.length)return void n("{}",e);const l=s.length>1||!1;n(l?"{":"{ "),l&&r();for(let e=0;e<s.length;e++){const{key:r,value:o}=s[e];Au(r,t),n(": "),Eu(o,t),e<s.length-1&&(n(","),i())}l&&o(),n(l?"}":" }")}(e,t);break;case 17:!function(e,t){Cu(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:n,indent:r,deindent:o}=t,{params:i,returns:s,body:l,newline:a,isSlot:c}=e;c&&n(`_${Ka[Ha]}(`),n("(",e),f(i)?Du(i,t):i&&Eu(i,t),n(") => "),(a||l)&&(n("{"),r()),s?(a&&n("return "),f(s)?Cu(s,t):Eu(s,t)):l&&Eu(l,t),(a||l)&&(o(),n("}")),c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}(e,t);break;case 19:!function(e,t){const{test:n,consequent:r,alternate:o,newline:i}=e,{push:s,indent:l,deindent:a,newline:c}=t;if(4===n.type){const e=!pc(n.content);e&&s("("),Tu(n,t),e&&s(")")}else s("("),Eu(n,t),s(")");i&&l(),t.indentLevel++,i||s(" "),s("? "),Eu(r,t),t.indentLevel--,i&&c(),i||s(" "),s(": ");const u=19===o.type;u||t.indentLevel++,Eu(o,t),u||t.indentLevel--,i&&a(!0)}(e,t);break;case 20:!function(e,t){const{push:n,helper:r,indent:o,deindent:i,newline:s}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(o(),n(`${r(qa)}(-1),`),s()),n(`_cache[${e.index}] = `),Eu(e.value,t),e.isVNode&&(n(","),s(),n(`${r(qa)}(1),`),s(),n(`_cache[${e.index}]`),i()),n(")")}(e,t);break;case 21:Du(e.body,t,!0,!1)}}function Tu(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,e)}function Mu(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];b(r)?t.push(r):Eu(r,t)}}function Au(e,t){const{push:n}=t;8===e.type?(n("["),Mu(e,t),n("]")):e.isStatic?n(pc(e.content)?e.content:JSON.stringify(e.content),e):n(`[${e.content}]`,e)}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Ou=ku(/^(if|else|else-if)$/,((e,t,n)=>function(e,t,n,r){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const r=t.exp?t.exp.loc:e.loc;n.onError(ca(28,t.loc)),t.exp=tc("true",!1,r)}if("if"===t.name){const o=Iu(e,t),i={type:9,loc:e.loc,branches:[o]};if(n.replaceNode(i),r)return r(i,o,!0)}else{const o=n.parent.children;let i=o.indexOf(e);for(;i-- >=-1;){const s=o[i];if(s&&3===s.type)n.removeNode(s);else{if(!s||2!==s.type||s.content.trim().length){if(s&&9===s.type){"else-if"===t.name&&void 0===s.branches[s.branches.length-1].condition&&n.onError(ca(30,e.loc)),n.removeNode();const o=Iu(e,t);s.branches.push(o);const i=r&&r(s,o,!1);bu(o,n),i&&i(),n.currentNode=null}else n.onError(ca(30,e.loc));break}n.removeNode(s)}}}}(e,t,n,((e,t,r)=>{const o=n.parent.children;let i=o.indexOf(e),s=0;for(;i-- >=0;){const e=o[i];e&&9===e.type&&(s+=e.branches.length)}return()=>{if(r)e.codegenNode=Nu(t,s,n);else{const r=function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode);r.alternate=Nu(t,s+e.branches.length-1,n)}}}))));function Iu(e,t){const n=3===e.tagType;return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:n&&!wc(e,"for")?e.children:[e],userKey:xc(e,"key"),isTemplateIf:n}}function Nu(e,t,n){return e.condition?ic(e.condition,Ru(e,t,n),rc(n.helper(ka),['""',"true"])):Ru(e,t,n)}function Ru(e,t,n){const{helper:r}=n,o=ec("key",tc(`${t}`,!1,Za,2)),{children:i}=e,s=i[0];if(1!==i.length||1!==s.type){if(1===i.length&&11===s.type){const e=s.codegenNode;return Ac(e,o,n),e}{let t=64;return H[64],Ya(n,r(ua),Qa([o]),i,t+"",void 0,void 0,!0,!1,!1,e.loc)}}{const e=s.codegenNode,t=14===(l=e).type&&l.callee===Ja?l.arguments[1].returns:l;return 13===t.type&&ac(t,n),Ac(t,o,n),e}var l}const Lu=ku("for",((e,t,n)=>{const{helper:r,removeHelper:o}=n;return function(e,t,n,r){if(!t.exp)return void n.onError(ca(31,t.loc));const o=$u(t.exp);if(!o)return void n.onError(ca(32,t.loc));const{addIdentifiers:i,removeIdentifiers:s,scopes:l}=n,{source:a,value:c,key:u,index:h}=o,d={type:11,loc:t.loc,source:a,valueAlias:c,keyAlias:u,objectIndexAlias:h,parseResult:o,children:Dc(e)?e.children:[e]};n.replaceNode(d),l.vFor++;const p=r&&r(d);return()=>{l.vFor--,p&&p()}}(e,t,n,(t=>{const i=rc(r(Ta),[t.source]),s=Dc(e),l=wc(e,"memo"),a=xc(e,"key"),c=a&&(6===a.type?tc(a.value.content,!0):a.exp),u=a?ec("key",c):null,h=4===t.source.type&&t.source.constType>0,d=h?64:a?128:256;return t.codegenNode=Ya(n,r(ua),void 0,i,d+"",void 0,void 0,!0,!h,!1,e.loc),()=>{let a;const{children:d}=t,p=1!==d.length||1!==d[0].type,f=Ec(e)?e:s&&1===e.children.length&&Ec(e.children[0])?e.children[0]:null;if(f?(a=f.codegenNode,s&&u&&Ac(a,u,n)):p?a=Ya(n,r(ua),u?Qa([u]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(a=d[0].codegenNode,s&&u&&Ac(a,u,n),a.isBlock!==!h&&(a.isBlock?(o(ma),o(lc(n.inSSR,a.isComponent))):o(sc(n.inSSR,a.isComponent))),a.isBlock=!h,a.isBlock?(r(ma),r(lc(n.inSSR,a.isComponent))):r(sc(n.inSSR,a.isComponent))),l){const e=oc(qu(t.parseResult,[tc("_cached")]));e.body={type:21,body:[nc(["const _memo = (",l.exp,")"]),nc(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${n.helperString(Ga)}(_cached, _memo)) return _cached`]),nc(["const _item = ",a]),tc("_item.memo = _memo"),tc("return _item")],loc:Za},i.arguments.push(e,tc("_cache"),tc(String(n.cached++)))}else i.arguments.push(oc(qu(t.parseResult),a,!0))}}))})),Fu=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Pu=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,zu=/^\(|\)$/g;function $u(e,t){const n=e.loc,r=e.content,o=r.match(Fu);if(!o)return;const[,i,s]=o,l={source:Bu(n,s.trim(),r.indexOf(s,i.length)),value:void 0,key:void 0,index:void 0};let a=i.trim().replace(zu,"").trim();const c=i.indexOf(a),u=a.match(Pu);if(u){a=a.replace(Pu,"").trim();const e=u[1].trim();let t;if(e&&(t=r.indexOf(e,c+a.length),l.key=Bu(n,e,t)),u[2]){const o=u[2].trim();o&&(l.index=Bu(n,o,r.indexOf(o,l.key?t+e.length:c+a.length)))}}return a&&(l.value=Bu(n,a,c)),l}function Bu(e,t,n){return tc(t,!1,vc(e,n,t.length))}function qu({value:e,key:t,index:n},r=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map(((e,t)=>e||tc("_".repeat(t+1),!1)))}([e,t,n,...r])}const Vu=tc("undefined",!1),ju=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const n=wc(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Hu=(e,t,n)=>oc(e,t,!1,!0,t.length?t[0].loc:n);function Uu(e,t,n=Hu){t.helper(Ha);const{children:r,loc:o}=e,i=[],s=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const a=wc(e,"slot",!0);if(a){const{arg:e,exp:t}=a;e&&!cc(e)&&(l=!0),i.push(ec(e||tc("default",!0),n(t,r,o)))}let c=!1,u=!1;const h=[],d=new Set;let p=0;for(let e=0;e<r.length;e++){const o=r[e];let f;if(!Dc(o)||!(f=wc(o,"slot",!0))){3!==o.type&&h.push(o);continue}if(a){t.onError(ca(37,f.loc));break}c=!0;const{children:m,loc:g}=o,{arg:y=tc("default",!0),exp:v,loc:b}=f;let k;cc(y)?k=y?y.content:"default":l=!0;const w=n(v,m,g);let x,_,S;if(x=wc(o,"if"))l=!0,s.push(ic(x.exp,Wu(y,w,p++),Vu));else if(_=wc(o,/^else(-if)?$/,!0)){let n,o=e;for(;o--&&(n=r[o],3===n.type););if(n&&Dc(n)&&wc(n,"if")){r.splice(e,1),e--;let t=s[s.length-1];for(;19===t.alternate.type;)t=t.alternate;t.alternate=_.exp?ic(_.exp,Wu(y,w,p++),Vu):Wu(y,w,p++)}else t.onError(ca(30,_.loc))}else if(S=wc(o,"for")){l=!0;const e=S.parseResult||$u(S.exp);e?s.push(rc(t.helper(Ta),[e.source,oc(qu(e),Wu(y,w),!0)])):t.onError(ca(32,S.loc))}else{if(k){if(d.has(k)){t.onError(ca(38,b));continue}d.add(k),"default"===k&&(u=!0)}i.push(ec(y,w))}}if(!a){const e=(e,r)=>{const i=n(e,r,o);return t.compatConfig&&(i.isNonScopedSlot=!0),ec("default",i)};c?h.length&&h.some((e=>Gu(e)))&&(u?t.onError(ca(39,h[0].loc)):i.push(e(void 0,h))):i.push(e(void 0,r))}const f=l?2:Ju(e.children)?3:1;let m=Qa(i.concat(ec("_",tc(f+"",!1))),o);return s.length&&(m=rc(t.helper(Aa),[m,Xa(s)])),{slots:m,hasDynamicSlots:l}}function Wu(e,t,n){const r=[ec("name",e),ec("fn",t)];return null!=n&&r.push(ec("key",tc(String(n),!0))),Qa(r)}function Ju(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(2===n.tagType||Ju(n.children))return!0;break;case 9:if(Ju(n.branches))return!0;break;case 10:case 11:if(Ju(n.children))return!0}}return!1}function Gu(e){return 2!==e.type&&12!==e.type||(2===e.type?!!e.content.trim():Gu(e.content))}const Ku=new WeakMap,Zu=(e,t)=>function(){if(1!==(e=t.currentNode).type||0!==e.tagType&&1!==e.tagType)return;const{tag:n,props:r}=e,o=1===e.tagType;let i=o?function(e,t,n=!1){let{tag:r}=e;const o=eh(r),i=xc(e,"is");if(i)if(o||Rc("COMPILER_IS_ON_ELEMENT",t)){const e=6===i.type?i.value&&tc(i.value.content,!0):i.exp;if(e)return rc(t.helper(Sa),[e])}else 6===i.type&&i.value.content.startsWith("vue:")&&(r=i.value.content.slice(4));const s=!o&&wc(e,"is");if(s&&s.exp)return rc(t.helper(Sa),[s.exp]);const l=hc(r)||t.isBuiltInComponent(r);return l?(n||t.helper(l),l):(t.helper(_a),t.components.add(r),Ic(r,"component"))}(e,t):`"${n}"`;const s=w(i)&&i.callee===Sa;let l,a,c,u,h,d,p=0,f=s||i===ha||i===da||!o&&("svg"===n||"foreignObject"===n);if(r.length>0){const n=Yu(e,t,void 0,o,s);l=n.props,p=n.patchFlag,h=n.dynamicPropNames;const r=n.directives;d=r&&r.length?Xa(r.map((e=>function(e,t){const n=[],r=Ku.get(e);r?n.push(t.helperString(r)):(t.helper(Ca),t.directives.add(e.name),n.push(Ic(e.name,"directive")));const{loc:o}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const t=tc("true",!1,o);n.push(Qa(e.modifiers.map((e=>ec(e,t))),o))}return Xa(n,e.loc)}(e,t)))):void 0,n.shouldUseBlock&&(f=!0)}if(e.children.length>0)if(i===pa&&(f=!0,p|=1024),o&&i!==ha&&i!==pa){const{slots:n,hasDynamicSlots:r}=Uu(e,t);a=n,r&&(p|=1024)}else if(1===e.children.length&&i!==ha){const n=e.children[0],r=n.type,o=5===r||8===r;o&&0===du(n,t)&&(p|=1),a=o||2===r?n:e.children}else a=e.children;0!==p&&(c=String(p),h&&h.length&&(u=function(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}(h))),e.codegenNode=Ya(t,i,l,a,c,u,d,!!f,!1,o,e.loc)};function Yu(e,t,n=e.props,r,o,i=!1){const{tag:s,loc:l,children:c}=e;let u=[];const h=[],d=[],p=c.length>0;let f=!1,m=0,g=!1,y=!1,v=!1,b=!1,w=!1,x=!1;const _=[],S=e=>{u.length&&(h.push(Qa(Xu(u),l)),u=[]),e&&h.push(e)},C=({key:e,value:n})=>{if(cc(e)){const i=e.content,s=a(i);if(!s||r&&!o||"onclick"===i.toLowerCase()||"onUpdate:modelValue"===i||T(i)||(b=!0),s&&T(i)&&(x=!0),20===n.type||(4===n.type||8===n.type)&&du(n,t)>0)return;"ref"===i?g=!0:"class"===i?y=!0:"style"===i?v=!0:"key"===i||_.includes(i)||_.push(i),!r||"class"!==i&&"style"!==i||_.includes(i)||_.push(i)}else w=!0};for(let o=0;o<n.length;o++){const a=n[o];if(6===a.type){const{loc:e,name:n,value:r}=a;let o=!0;if("ref"===n&&(g=!0,t.scopes.vFor>0&&u.push(ec(tc("ref_for",!0),tc("true")))),"is"===n&&(eh(s)||r&&r.content.startsWith("vue:")||Rc("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(ec(tc(n,!0,vc(e,0,n.length)),tc(r?r.content:"",o,r?r.loc:e)))}else{const{name:n,arg:o,exp:c,loc:m}=a,g="bind"===n,y="on"===n;if("slot"===n){r||t.onError(ca(40,m));continue}if("once"===n||"memo"===n)continue;if("is"===n||g&&_c(o,"is")&&(eh(s)||Rc("COMPILER_IS_ON_ELEMENT",t)))continue;if(y&&i)continue;if((g&&_c(o,"key")||y&&p&&_c(o,"vue:before-update"))&&(f=!0),g&&_c(o,"ref")&&t.scopes.vFor>0&&u.push(ec(tc("ref_for",!0),tc("true"))),!o&&(g||y)){if(w=!0,c)if(g){if(S(),Rc("COMPILER_V_BIND_OBJECT_ORDER",t)){h.unshift(c);continue}h.push(c)}else S({type:14,loc:m,callee:t.helper(Pa),arguments:r?[c]:[c,"true"]});else t.onError(ca(g?34:35,m));continue}const v=t.directiveTransforms[n];if(v){const{props:n,needRuntime:r}=v(a,e,t);!i&&n.forEach(C),y&&o&&!cc(o)?S(Qa(n,l)):u.push(...n),r&&(d.push(a),k(r)&&Ku.set(a,r))}else M(n)||(d.push(a),p&&(f=!0))}}let D;if(h.length?(S(),D=h.length>1?rc(t.helper(Ia),h,l):h[0]):u.length&&(D=Qa(Xu(u),l)),w?m|=16:(y&&!r&&(m|=2),v&&!r&&(m|=4),_.length&&(m|=8),b&&(m|=32)),f||0!==m&&32!==m||!(g||x||d.length>0)||(m|=512),!t.inSSR&&D)switch(D.type){case 15:let e=-1,n=-1,r=!1;for(let t=0;t<D.properties.length;t++){const o=D.properties[t].key;cc(o)?"class"===o.content?e=t:"style"===o.content&&(n=t):o.isHandlerKey||(r=!0)}const o=D.properties[e],i=D.properties[n];r?D=rc(t.helper(La),[D]):(o&&!cc(o.value)&&(o.value=rc(t.helper(Na),[o.value])),i&&(v||4===i.value.type&&"["===i.value.content.trim()[0]||17===i.value.type)&&(i.value=rc(t.helper(Ra),[i.value])));break;case 14:break;default:D=rc(t.helper(La),[rc(t.helper(Fa),[D])])}return{props:D,directives:d,patchFlag:m,dynamicPropNames:_,shouldUseBlock:f}}function Xu(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const o=e[r];if(8===o.key.type||!o.key.isStatic){n.push(o);continue}const i=o.key.content,s=t.get(i);s?("style"===i||"class"===i||a(i))&&Qu(s,o):(t.set(i,o),n.push(o))}return n}function Qu(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=Xa([e.value,t.value],e.loc)}function eh(e){return"component"===e||"Component"===e}const th=(e,t)=>{if(Ec(e)){const{children:n,loc:r}=e,{slotName:o,slotProps:i}=function(e,t){let n,r='"default"';const o=[];for(let t=0;t<e.props.length;t++){const n=e.props[t];6===n.type?n.value&&("name"===n.name?r=JSON.stringify(n.value.content):(n.name=I(n.name),o.push(n))):"bind"===n.name&&_c(n.arg,"name")?n.exp&&(r=n.exp):("bind"===n.name&&n.arg&&cc(n.arg)&&(n.arg.content=I(n.arg.content)),o.push(n))}if(o.length>0){const{props:r,directives:i}=Yu(e,t,o,!1,!1);n=r,i.length&&t.onError(ca(36,i[0].loc))}return{slotName:r,slotProps:n}}(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let l=2;i&&(s[2]=i,l=3),n.length&&(s[3]=oc([],n,!1,!1,r),l=4),t.scopeId&&!t.slotted&&(l=5),s.splice(l),e.codegenNode=rc(t.helper(Ma),s,r)}},nh=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,rh=(e,t,n,r)=>{const{loc:o,modifiers:i,arg:s}=e;let l;if(e.exp||i.length||n.onError(ca(35,o)),4===s.type)if(s.isStatic){let e=s.content;e.startsWith("vue:")&&(e=`vnode-${e.slice(4)}`),l=tc(0!==t.tagType||e.startsWith("vnode")||!/[A-Z]/.test(e)?F(I(e)):`on:${e}`,!0,s.loc)}else l=nc([`${n.helperString(Ba)}(`,s,")"]);else l=s,l.children.unshift(`${n.helperString(Ba)}(`),l.children.push(")");let a=e.exp;a&&!a.content.trim()&&(a=void 0);let c=n.cacheHandlers&&!a&&!n.inVOnce;if(a){const e=yc(a.content),t=!(e||nh.test(a.content)),n=a.content.includes(";");(t||c&&e)&&(a=nc([`${t?"$event":"(...args)"} => ${n?"{":"("}`,a,n?"}":")"]))}let u={props:[ec(l,a||tc("() => {}",!1,o))]};return r&&(u=r(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach((e=>e.key.isHandlerKey=!0)),u},oh=(e,t,n)=>{const{exp:r,modifiers:o,loc:i}=e,s=e.arg;return 4!==s.type?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),o.includes("camel")&&(4===s.type?s.isStatic?s.content=I(s.content):s.content=`${n.helperString(za)}(${s.content})`:(s.children.unshift(`${n.helperString(za)}(`),s.children.push(")"))),n.inSSR||(o.includes("prop")&&ih(s,"."),o.includes("attr")&&ih(s,"^")),!r||4===r.type&&!r.content.trim()?(n.onError(ca(34,i)),{props:[ec(s,tc("",!0,i))]}):{props:[ec(s,r)]}},ih=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},sh=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const n=e.children;let r,o=!1;for(let e=0;e<n.length;e++){const t=n[e];if(Sc(t)){o=!0;for(let o=e+1;o<n.length;o++){const i=n[o];if(!Sc(i)){r=void 0;break}r||(r=n[e]=nc([t],t.loc)),r.children.push(" + ",i),n.splice(o,1),o--}}}if(o&&(1!==n.length||0!==e.type&&(1!==e.type||0!==e.tagType||e.props.find((e=>7===e.type&&!t.directiveTransforms[e.name]))||"template"===e.tag)))for(let e=0;e<n.length;e++){const r=n[e];if(Sc(r)||8===r.type){const o=[];2===r.type&&" "===r.content||o.push(r),t.ssr||0!==du(r,t)||o.push("1"),n[e]={type:12,content:r,loc:r.loc,codegenNode:rc(t.helper(wa),o)}}}}},lh=new WeakSet,ah=(e,t)=>{if(1===e.type&&wc(e,"once",!0)){if(lh.has(e)||t.inVOnce||t.inSSR)return;return lh.add(e),t.inVOnce=!0,t.helper(qa),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0))}}},ch=(e,t,n)=>{const{exp:r,arg:o}=e;if(!r)return n.onError(ca(41,e.loc)),uh();const i=r.loc.source,s=4===r.type?r.content:i,l=n.bindingMetadata[i];if("props"===l||"props-aliased"===l)return n.onError(ca(44,r.loc)),uh();if(!s.trim()||!yc(s))return n.onError(ca(42,r.loc)),uh();const a=o||tc("modelValue",!0),c=o?cc(o)?`onUpdate:${I(o.content)}`:nc(['"onUpdate:" + ',o]):"onUpdate:modelValue";let u;u=nc([(n.isTS?"($event: any)":"$event")+" => ((",r,") = $event)"]);const h=[ec(a,e.exp),ec(c,u)];if(e.modifiers.length&&1===t.tagType){const t=e.modifiers.map((e=>(pc(e)?e:JSON.stringify(e))+": true")).join(", "),n=o?cc(o)?`${o.content}Modifiers`:nc([o,' + "Modifiers"']):"modelModifiers";h.push(ec(n,tc(`{ ${t} }`,!1,e.loc,2)))}return uh(h)};function uh(e=[]){return{props:e}}const hh=/[\w).+\-_$\]]/,dh=(e,t)=>{Rc("COMPILER_FILTER",t)&&(5===e.type&&ph(e.content,t),1===e.type&&e.props.forEach((e=>{7===e.type&&"for"!==e.name&&e.exp&&ph(e.exp,t)})))};function ph(e,t){if(4===e.type)fh(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];"object"==typeof r&&(4===r.type?fh(r,t):8===r.type?ph(e,t):5===r.type&&ph(r.content,t))}}function fh(e,t){const n=e.content;let r,o,i,s,l=!1,a=!1,c=!1,u=!1,h=0,d=0,p=0,f=0,m=[];for(i=0;i<n.length;i++)if(o=r,r=n.charCodeAt(i),l)39===r&&92!==o&&(l=!1);else if(a)34===r&&92!==o&&(a=!1);else if(c)96===r&&92!==o&&(c=!1);else if(u)47===r&&92!==o&&(u=!1);else if(124!==r||124===n.charCodeAt(i+1)||124===n.charCodeAt(i-1)||h||d||p){switch(r){case 34:a=!0;break;case 39:l=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:d++;break;case 93:d--;break;case 123:h++;break;case 125:h--}if(47===r){let e,t=i-1;for(;t>=0&&(e=n.charAt(t)," "===e);t--);e&&hh.test(e)||(u=!0)}}else void 0===s?(f=i+1,s=n.slice(0,i).trim()):g();function g(){m.push(n.slice(f,i).trim()),f=i+1}if(void 0===s?s=n.slice(0,i).trim():0!==f&&g(),m.length){for(i=0;i<m.length;i++)s=mh(s,m[i],t);e.content=s}}function mh(e,t,n){n.helper(Da);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${Ic(t,"filter")}(${e})`;{const o=t.slice(0,r),i=t.slice(r+1);return n.filters.add(o),`${Ic(o,"filter")}(${e}${")"!==i?","+i:i}`}}const gh=new WeakSet,yh=(e,t)=>{if(1===e.type){const n=wc(e,"memo");if(!n||gh.has(e))return;return gh.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&13===r.type&&(1!==e.tagType&&ac(r,t),e.codegenNode=rc(t.helper(Ja),[n.exp,oc(void 0,r),"_cache",String(t.cached++)]))}}};function vh(e,t={}){const n=t.onError||la,r="module"===t.mode;!0===t.prefixIdentifiers?n(ca(47)):r&&n(ca(48)),t.cacheHandlers&&n(ca(49)),t.scopeId&&!r&&n(ca(50));const o=b(e)?function(e,t={}){const n=function(e,t){const n=u({},zc);let r;for(r in t)n[r]=void 0===t[r]?zc[r]:t[r];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}(e,t),r=Qc(n);return function(e,t=Za){return{type:0,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}($c(n,0,[]),eu(n,r))}(e,t):e,[i,s]=[[ah,Ou,yh,Lu,dh,th,Zu,ju,sh],{on:rh,bind:oh,model:ch}];return vu(o,u({},t,{prefixIdentifiers:!1,nodeTransforms:[...i,...t.nodeTransforms||[]],directiveTransforms:u({},s,t.directiveTransforms||{})})),_u(o,u({},t,{prefixIdentifiers:!1}))}const bh=Symbol(""),kh=Symbol(""),wh=Symbol(""),xh=Symbol(""),_h=Symbol(""),Sh=Symbol(""),Ch=Symbol(""),Dh=Symbol(""),Eh=Symbol(""),Th=Symbol("");var Mh;let Ah;Mh={[bh]:"vModelRadio",[kh]:"vModelCheckbox",[wh]:"vModelText",[xh]:"vModelSelect",[_h]:"vModelDynamic",[Sh]:"withModifiers",[Ch]:"withKeys",[Dh]:"vShow",[Eh]:"Transition",[Th]:"TransitionGroup"},Object.getOwnPropertySymbols(Mh).forEach((e=>{Ka[e]=Mh[e]}));const Oh=t("style,iframe,script,noscript",!0),Ih={isVoidTag:te,isNativeTag:e=>Q(e)||ee(e),isPreTag:e=>"pre"===e,decodeEntities:function(e,t=!1){return Ah||(Ah=document.createElement("div")),t?(Ah.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Ah.children[0].getAttribute("foo")):(Ah.innerHTML=e,Ah.textContent)},isBuiltInComponent:e=>uc(e,"Transition")?Eh:uc(e,"TransitionGroup")?Th:void 0,getNamespace(e,t){let n=t?t.ns:0;if(t&&2===n)if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some((e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content)))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(n=0);else t&&1===n&&("foreignObject"!==t.tag&&"desc"!==t.tag&&"title"!==t.tag||(n=0));if(0===n){if("svg"===e)return 1;if("math"===e)return 2}return n},getTextMode({tag:e,ns:t}){if(0===t){if("textarea"===e||"title"===e)return 1;if(Oh(e))return 2}return 0}},Nh=(e,t)=>{const n=Z(e);return tc(JSON.stringify(n),!1,t,3)};function Rh(e,t){return ca(e,t)}const Lh=t("passive,once,capture"),Fh=t("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Ph=t("left,right"),zh=t("onkeyup,onkeydown,onkeypress",!0),$h=(e,t)=>cc(e)&&"onclick"===e.content.toLowerCase()?tc(t,!0):4!==e.type?nc(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Bh=(e,t)=>{1!==e.type||0!==e.tagType||"script"!==e.tag&&"style"!==e.tag||t.removeNode()},qh=[e=>{1===e.type&&e.props.forEach(((t,n)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[n]={type:7,name:"bind",arg:tc("style",!0,t.loc),exp:Nh(t.value.content,t.loc),modifiers:[],loc:t.loc})}))}],Vh={cloak:()=>({props:[]}),html:(e,t,n)=>{const{exp:r,loc:o}=e;return r||n.onError(Rh(53,o)),t.children.length&&(n.onError(Rh(54,o)),t.children.length=0),{props:[ec(tc("innerHTML",!0,o),r||tc("",!0))]}},text:(e,t,n)=>{const{exp:r,loc:o}=e;return r||n.onError(Rh(55,o)),t.children.length&&(n.onError(Rh(56,o)),t.children.length=0),{props:[ec(tc("textContent",!0),r?du(r,n)>0?r:rc(n.helperString(Oa),[r],o):tc("",!0))]}},model:(e,t,n)=>{const r=ch(e,t,n);if(!r.props.length||1===t.tagType)return r;e.arg&&n.onError(Rh(58,e.arg.loc));const{tag:o}=t,i=n.isCustomElement(o);if("input"===o||"textarea"===o||"select"===o||i){let s=wh,l=!1;if("input"===o||i){const r=xc(t,"type");if(r){if(7===r.type)s=_h;else if(r.value)switch(r.value.content){case"radio":s=bh;break;case"checkbox":s=kh;break;case"file":l=!0,n.onError(Rh(59,e.loc))}}else(function(e){return e.props.some((e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic)))})(t)&&(s=_h)}else"select"===o&&(s=xh);l||(r.needRuntime=n.helper(s))}else n.onError(Rh(57,e.loc));return r.props=r.props.filter((e=>!(4===e.key.type&&"modelValue"===e.key.content))),r},on:(e,t,n)=>rh(e,t,n,(t=>{const{modifiers:r}=e;if(!r.length)return t;let{key:o,value:i}=t.props[0];const{keyModifiers:s,nonKeyModifiers:l,eventOptionModifiers:a}=((e,t,n,r)=>{const o=[],i=[],s=[];for(let r=0;r<t.length;r++){const l=t[r];"native"===l&&Lc("COMPILER_V_ON_NATIVE",n)||Lh(l)?s.push(l):Ph(l)?cc(e)?zh(e.content)?o.push(l):i.push(l):(o.push(l),i.push(l)):Fh(l)?i.push(l):o.push(l)}return{keyModifiers:o,nonKeyModifiers:i,eventOptionModifiers:s}})(o,r,n,e.loc);if(l.includes("right")&&(o=$h(o,"onContextmenu")),l.includes("middle")&&(o=$h(o,"onMouseup")),l.length&&(i=rc(n.helper(Sh),[i,JSON.stringify(l)])),!s.length||cc(o)&&!zh(o.content)||(i=rc(n.helper(Ch),[i,JSON.stringify(s)])),a.length){const e=a.map(L).join("");o=cc(o)?tc(`${o.content}${e}`,!0):nc(["(",o,`) + "${e}"`])}return{props:[ec(o,i)]}})),show:(e,t,n)=>{const{exp:r,loc:o}=e;return r||n.onError(Rh(61,o)),{props:[],needRuntime:n.helper(Dh)}}},jh=Object.create(null);vs((function(t,n){if(!b(t)){if(!t.nodeType)return i;t=t.innerHTML}const r=t,o=jh[r];if(o)return o;if("#"===t[0]){const e=document.querySelector(t);t=e?e.innerHTML:""}const s=u({hoistStatic:!0,onError:void 0,onWarn:i},n);s.isCustomElement||"undefined"==typeof customElements||(s.isCustomElement=e=>!!customElements.get(e));const{code:l}=function(e,t={}){return vh(e,u({},Ih,t,{nodeTransforms:[Bh,...qh,...t.nodeTransforms||[]],directiveTransforms:u({},Vh,t.directiveTransforms||{}),transformHoist:null}))}(t,s),a=new Function("Vue",l)(e);return a._rc=!0,jh[r]=a}));let Hh={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};function Uh(e){Hh=e}const Wh=/[&<>"']/,Jh=new RegExp(Wh.source,"g"),Gh=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Kh=new RegExp(Gh.source,"g"),Zh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yh=e=>Zh[e];function Xh(e,t){if(t){if(Wh.test(e))return e.replace(Jh,Yh)}else if(Gh.test(e))return e.replace(Kh,Yh);return e}const Qh=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ed(e){return e.replace(Qh,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const td=/(^|[^\[])\^/g;function nd(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,r)=>(r=(r="object"==typeof r&&"source"in r?r.source:r).replace(td,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}const rd=/[^\w:]/g,od=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function id(e,t,n){if(e){let e;try{e=decodeURIComponent(ed(n)).replace(rd,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!od.test(n)&&(n=function(e,t){sd[" "+e]||(ld.test(e)?sd[" "+e]=e+"/":sd[" "+e]=dd(e,"/",!0));const n=-1===(e=sd[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(ad,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(cd,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const sd={},ld=/^[^:]+:\/*[^/]*$/,ad=/^([^:]+:)[\s\S]*$/,cd=/^([^:]+:\/*[^/]*)[\s\S]*$/,ud={exec:()=>null};function hd(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function dd(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r;){const i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function pd(e,t,n,r){const o=t.href,i=t.title?Xh(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:i,text:Xh(s)}}class fd{options;rules;lexer;constructor(e){this.options=e||Hh}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:dd(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=dd(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let s="",l="",a=!1;for(;e;){let n=!1;if(!(t=i.exec(e)))break;if(this.rules.block.hr.test(e))break;s=t[0],e=e.substring(s.length);let r=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=0;this.options.pedantic?(u=2,l=r.trimLeft()):(u=t[2].search(/[^ ]/),u=u>4?1:u,l=r.slice(u),u+=t[1].length);let h=!1;if(!r&&/^ *$/.test(c)&&(s+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),o=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),i=new RegExp(`^ {0,${Math.min(3,u-1)}}#`);for(;e;){const a=e.split("\n",1)[0];if(c=a,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),o.test(c))break;if(i.test(c))break;if(t.test(c))break;if(n.test(e))break;if(c.search(/[^ ]/)>=u||!c.trim())l+="\n"+c.slice(u);else{if(h)break;if(r.search(/[^ ]/)>=4)break;if(o.test(r))break;if(i.test(r))break;if(n.test(r))break;l+="\n"+c}h||c.trim()||(h=!0),s+=a+"\n",e=e.substring(a.length+1),r=c.slice(u)}}o.loose||(a?o.loose=!0:/\n *\n *$/.test(s)&&(a=!0));let d,p=null;this.options.gfm&&(p=/^\[[ xX]\] /.exec(l),p&&(d="[ ] "!==p[0],l=l.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:s,task:!!p,checked:d,loose:!1,text:l,tokens:[]}),o.raw+=s}o.items[o.items.length-1].raw=s.trimRight(),o.items[o.items.length-1].text=l.trimRight(),o.raw=o.raw.trimRight();for(let e=0;e<o.items.length;e++)if(this.lexer.state.top=!1,o.items[e].tokens=this.lexer.blockTokens(o.items[e].text,[]),!o.loose){const t=o.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));o.loose=n}if(o.loose)for(let e=0;e<o.items.length;e++)o.items[e].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):Xh(t[0]),r=e;r.type="paragraph",r.text=n,r.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",raw:t[0],header:hd(t[1]).map((e=>({text:e,tokens:[]}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){let t,n,r,o,i=e.align.length;for(t=0;t<i;t++){const n=e.align[t];n&&(/^ *-+: *$/.test(n)?e.align[t]="right":/^ *:-+: *$/.test(n)?e.align[t]="center":/^ *:-+ *$/.test(n)?e.align[t]="left":e.align[t]=null)}for(i=e.rows.length,t=0;t<i;t++)e.rows[t]=hd(e.rows[t],e.header.length).map((e=>({text:e,tokens:[]})));for(i=e.header.length,n=0;n<i;n++)e.header[n].tokens=this.lexer.inline(e.header[n].text);for(i=e.rows.length,n=0;n<i;n++)for(o=e.rows[n],r=0;r<o.length;r++)o[r].tokens=this.lexer.inline(o[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Xh(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Xh(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=dd(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),pd(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return pd(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let o,i,s=n,l=0;const a="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(a.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=a.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(i=[...o].length,r[3]||r[4]){s+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){l+=i;continue}if(s-=i,s>0)continue;i=Math.min(i,i+s+l);const t=[...e].slice(0,n+r.index+i+1).join("");if(Math.min(n,i)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const a=t.slice(2,-2);return{type:"strong",raw:t,text:a,tokens:this.lexer.inlineTokens(a)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=Xh(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=Xh(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=Xh(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=Xh(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=Xh(n[0]),r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Xh(n[0]):n[0]:Xh(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const md={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ud,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};md.def=nd(md.def).replace("label",md._label).replace("title",md._title).getRegex(),md.bullet=/(?:[*+-]|\d{1,9}[.)])/,md.listItemStart=nd(/^( *)(bull) */).replace("bull",md.bullet).getRegex(),md.list=nd(md.list).replace(/bull/g,md.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+md.def.source+")").getRegex(),md._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",md._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,md.html=nd(md.html,"i").replace("comment",md._comment).replace("tag",md._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),md.lheading=nd(md.lheading).replace(/bull/g,md.bullet).getRegex(),md.paragraph=nd(md._paragraph).replace("hr",md.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",md._tag).getRegex(),md.blockquote=nd(md.blockquote).replace("paragraph",md.paragraph).getRegex(),md.normal={...md},md.gfm={...md.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},md.gfm.table=nd(md.gfm.table).replace("hr",md.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",md._tag).getRegex(),md.gfm.paragraph=nd(md._paragraph).replace("hr",md.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",md.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",md._tag).getRegex(),md.pedantic={...md.normal,html:nd("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",md._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ud,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:nd(md.normal._paragraph).replace("hr",md.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",md.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const gd={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ud,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ud,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};function yd(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function vd(e){let t="";for(let n=0;n<e.length;n++)t+="&#"+(Math.random()>.5?"x"+e.charCodeAt(n).toString(16):e.charCodeAt(n).toString())+";";return t}gd._punctuation="\\p{P}$+<=>`^|~",gd.punctuation=nd(gd.punctuation,"u").replace(/punctuation/g,gd._punctuation).getRegex(),gd.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,gd.anyPunctuation=/\\[punct]/g,gd._escapes=/\\([punct])/g,gd._comment=nd(md._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),gd.emStrong.lDelim=nd(gd.emStrong.lDelim,"u").replace(/punct/g,gd._punctuation).getRegex(),gd.emStrong.rDelimAst=nd(gd.emStrong.rDelimAst,"gu").replace(/punct/g,gd._punctuation).getRegex(),gd.emStrong.rDelimUnd=nd(gd.emStrong.rDelimUnd,"gu").replace(/punct/g,gd._punctuation).getRegex(),gd.anyPunctuation=nd(gd.anyPunctuation,"gu").replace(/punct/g,gd._punctuation).getRegex(),gd._escapes=nd(gd._escapes,"gu").replace(/punct/g,gd._punctuation).getRegex(),gd._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,gd._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,gd.autolink=nd(gd.autolink).replace("scheme",gd._scheme).replace("email",gd._email).getRegex(),gd._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,gd.tag=nd(gd.tag).replace("comment",gd._comment).replace("attribute",gd._attribute).getRegex(),gd._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,gd._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,gd._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,gd.link=nd(gd.link).replace("label",gd._label).replace("href",gd._href).replace("title",gd._title).getRegex(),gd.reflink=nd(gd.reflink).replace("label",gd._label).replace("ref",md._label).getRegex(),gd.nolink=nd(gd.nolink).replace("ref",md._label).getRegex(),gd.reflinkSearch=nd(gd.reflinkSearch,"g").replace("reflink",gd.reflink).replace("nolink",gd.nolink).getRegex(),gd.normal={...gd},gd.pedantic={...gd.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:nd(/^!?\[(label)\]\((.*?)\)/).replace("label",gd._label).getRegex(),reflink:nd(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",gd._label).getRegex()},gd.gfm={...gd.normal,escape:nd(gd.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},gd.gfm.url=nd(gd.gfm.url,"i").replace("email",gd.gfm._extended_email).getRegex(),gd.breaks={...gd.gfm,br:nd(gd.br).replace("{2,}","*").getRegex(),text:nd(gd.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class bd{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Hh,this.options.tokenizer=this.options.tokenizer||new fd,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:md.normal,inline:gd.normal};this.options.pedantic?(t.block=md.pedantic,t.inline=gd.pedantic):this.options.gfm&&(t.block=md.gfm,this.options.breaks?t.inline=gd.breaks:t.inline=gd.gfm),this.tokenizer.rules=t}static get rules(){return{block:md,inline:gd}}static lex(e,t){return new bd(t).lex(e)}static lexInline(e,t){return new bd(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,o,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o)))r=t[t.length-1],i&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),i=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,o,i,s,l,a=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(a));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(a));)a=a.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(a));)a=a.slice(0,i.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(s||(l=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,a,l))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,vd))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,vd))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(o,yd))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),s=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class kd{options;constructor(e){this.options=e||Hh}code(e,t,n){const r=(t||"").match(/^\S*/)?.[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+Xh(r)+'">'+(n?e:Xh(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Xh(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n,r){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+r.slug(n)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const r=id(this.options.sanitize,this.options.baseUrl,e);if(null===r)return n;let o='<a href="'+(e=r)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){const r=id(this.options.sanitize,this.options.baseUrl,e);if(null===r)return n;let o=`<img src="${e=r}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class wd{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class xd{seen;constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class _d{options;renderer;textRenderer;slugger;constructor(e){this.options=e||Hh,this.options.renderer=this.options.renderer||new kd,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new wd,this.slugger=new xd}static parse(e,t){return new _d(t).parse(e)}static parseInline(e,t){return new _d(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}switch(o.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const e=o;n+=this.renderer.heading(this.parseInline(e.tokens),e.depth,ed(this.parseInline(e.tokens,this.textRenderer)),this.slugger);continue}case"code":{const e=o;n+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=o;let t="",r="";for(let t=0;t<e.header.length;t++)r+=this.renderer.tablecell(this.parseInline(e.header[t].tokens),{header:!0,align:e.align[t]});t+=this.renderer.tablerow(r);let i="";for(let t=0;t<e.rows.length;t++){const n=e.rows[t];r="";for(let t=0;t<n.length;t++)r+=this.renderer.tablecell(this.parseInline(n[t].tokens),{header:!1,align:e.align[t]});i+=this.renderer.tablerow(r)}n+=this.renderer.table(t,i);continue}case"blockquote":{const e=o,t=this.parse(e.tokens);n+=this.renderer.blockquote(t);continue}case"list":{const e=o,t=e.ordered,r=e.start,i=e.loose;let s="";for(let t=0;t<e.items.length;t++){const n=e.items[t],r=n.checked,o=n.task;let l="";if(n.task){const e=this.renderer.checkbox(!!r);i?n.tokens.length>0&&"paragraph"===n.tokens[0].type?(n.tokens[0].text=e+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=e+" "+n.tokens[0].tokens[0].text)):n.tokens.unshift({type:"text",text:e}):l+=e}l+=this.parse(n.tokens,i),s+=this.renderer.listitem(l,o,!!r)}n+=this.renderer.list(s,t,r);continue}case"html":{const e=o;n+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=o;n+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let i=o,s=i.tokens?this.parseInline(i.tokens):i.text;for(;r+1<e.length&&"text"===e[r+1].type;)i=e[++r],s+="\n"+(i.tokens?this.parseInline(i.tokens):i.text);n+=t?this.renderer.paragraph(s):s;continue}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=e||"";continue}}switch(o.type){case"escape":{const e=o;n+=t.text(e.text);break}case"html":{const e=o;n+=t.html(e.text);break}case"link":{const e=o;n+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=o;n+=t.image(e.href,e.title,e.text);break}case"strong":{const e=o;n+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=o;n+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=o;n+=t.codespan(e.text);break}case"br":n+=t.br();break;case"del":{const e=o;n+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=o;n+=t.text(e.text);break}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class Sd{options;constructor(e){this.options=e||Hh}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}const Cd=new class{defaults={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};options=this.setOptions;parse=this.#e(bd.lex,_d.parse);parseInline=this.#e(bd.lexInline,_d.parseInline);Parser=_d;parser=_d.parse;Renderer=kd;TextRenderer=wd;Lexer=bd;lexer=bd.lex;Tokenizer=fd;Slugger=xd;Hooks=Sd;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{n=n.concat(this.walkTokens(e[r],t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new kd(this.defaults);for(const n in e.renderer){const r=e.renderer[n],o=n,i=t[o];t[o]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=i.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new fd(this.defaults);for(const n in e.tokenizer){const r=e.tokenizer[n],o=n,i=t[o];t[o]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new Sd;for(const n in e.hooks){const r=e.hooks[n],o=n,i=t[o];Sd.passThroughHooks.has(n)?t[o]=e=>{if(this.defaults.async)return Promise.resolve(r.call(t,e)).then((e=>i.call(t,e)));const n=r.call(t,e);return i.call(t,n)}:t[o]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}#e(e,t){return(n,r,o)=>{"function"==typeof r&&(o=r,r=null);const i={...r},s={...this.defaults,...i};!0===this.defaults.async&&!1===i.async&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const l=this.#t(!!s.silent,!!s.async,o);if(null==n)return l(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e,t){e&&!e.silent&&(t&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(e.sanitize||e.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(e.highlight||"language-"!==e.langPrefix)&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),e.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),e.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),e.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),e.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(e.headerIds||e.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}(s,o),s.hooks&&(s.hooks.options=s),o){const r=o,i=s.highlight;let a;try{s.hooks&&(n=s.hooks.preprocess(n)),a=e(n,s)}catch(e){return l(e)}const c=e=>{let n;if(!e)try{s.walkTokens&&this.walkTokens(a,s.walkTokens),n=t(a,s),s.hooks&&(n=s.hooks.postprocess(n))}catch(t){e=t}return s.highlight=i,e?l(e):r(null,n)};if(!i||i.length<3)return c();if(delete s.highlight,!a.length)return c();let u=0;return this.walkTokens(a,(e=>{"code"===e.type&&(u++,setTimeout((()=>{i(e.text,e.lang,((t,n)=>{if(t)return c(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),u--,0===u&&c()}))}),0))})),void(0===u&&c())}if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then((t=>e(t,s))).then((e=>s.walkTokens?Promise.all(this.walkTokens(e,s.walkTokens)).then((()=>e)):e)).then((e=>t(e,s))).then((e=>s.hooks?s.hooks.postprocess(e):e)).catch(l);try{s.hooks&&(n=s.hooks.preprocess(n));const r=e(n,s);s.walkTokens&&this.walkTokens(r,s.walkTokens);let o=t(r,s);return s.hooks&&(o=s.hooks.postprocess(o)),o}catch(e){return l(e)}}}#t(e,t,n){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+Xh(r.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(r);if(!n)throw r;n(r)}}};function Dd(e,t,n){return Cd.parse(e,t,n)}function Ed(e){return Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(e)}function Td(){Td=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,s=Object.create(i.prototype),l=new C(o||[]);return r(s,"_invoke",{value:w(e,n,l)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function p(){}function f(){}var m={};a(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(D([])));y&&y!==t&&n.call(y,i)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,i,s,l){var a=u(e[r],e,i);if("throw"!==a.type){var c=a.arg,h=c.value;return h&&"object"==Ed(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(a.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=x(s,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=u(e,t,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===h)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=f,r(v,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=a(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(k.prototype),a(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new k(c(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(v),a(v,l,"Generator"),a(v,i,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(l&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Md(e,t,n,r,o,i,s){try{var l=e[i](s),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(r,o)}function Ad(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Md(i,r,o,s,l,"next",e)}function l(e){Md(i,r,o,s,l,"throw",e)}s(void 0)}))}}Dd.options=Dd.setOptions=function(e){return Cd.setOptions(e),Dd.defaults=Cd.defaults,Uh(Dd.defaults),Dd},Dd.getDefaults=function(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Dd.defaults=Hh,Dd.use=function(...e){return Cd.use(...e),Dd.defaults=Cd.defaults,Uh(Dd.defaults),Dd},Dd.walkTokens=function(e,t){return Cd.walkTokens(e,t)},Dd.parseInline=Cd.parseInline,Dd.Parser=_d,Dd.parser=_d.parse,Dd.Renderer=kd,Dd.TextRenderer=wd,Dd.Lexer=bd,Dd.lexer=bd.lex,Dd.Tokenizer=fd,Dd.Slugger=xd,Dd.Hooks=Sd,Dd.parse=Dd,Dd.options,Dd.setOptions,Dd.use,Dd.walkTokens,Dd.parseInline;const Od={data:function(){return{CSRFToken,APIroot,rootPath:"../",libsPath,orgchartPath,userID,allDesignData:null,designSettings:null,customizableViews:["homepage"],currentDesignID:null,currentDesignName:null,appIsGettingData:!0,appIsUpdating:!1,isEditingMode:!0,iconList:[],dialogTitle:"",dialogFormContent:"",dialogButtonText:{confirm:"Save",cancel:"Cancel"},formSaveFunction:"",showFormDialog:!1}},provide:function(){var e=this;return{iconList:Ss((function(){return e.iconList})),appIsGettingData:Ss((function(){return e.appIsGettingData})),appIsUpdating:Ss((function(){return e.appIsUpdating})),isEditingMode:Ss((function(){return e.isEditingMode})),currentViewEnabledDesignID:Ss((function(){return e.currentViewEnabledDesignID})),currentView:Ss((function(){return e.currentView})),currentViewDesigns:Ss((function(){return e.currentViewDesigns})),currentDesignID:Ss((function(){return e.currentDesignID})),selectedDesign:Ss((function(){return e.selectedDesign})),CSRFToken:this.CSRFToken,APIroot:this.APIroot,rootPath:this.rootPath,libsPath:this.libsPath,orgchartPath:this.orgchartPath,userID:this.userID,truncateText:this.truncateText,markdownToHTML:this.markdownToHTML,publishTemplate:this.publishTemplate,newDesign:this.newDesign,deleteDesign:this.deleteDesign,postDesignContent:this.postDesignContent,generateID:this.generateID,openDesignCardDialog:this.openDesignCardDialog,openHistoryDialog:this.openHistoryDialog,closeFormDialog:this.closeFormDialog,setDialogTitleHTML:this.setDialogTitleHTML,setDialogButtonText:this.setDialogButtonText,setDialogContent:this.setDialogContent,setDialogSaveFunction:this.setDialogSaveFunction,showFormDialog:Ss((function(){return e.showFormDialog})),dialogTitle:Ss((function(){return e.dialogTitle})),dialogFormContent:Ss((function(){return e.dialogFormContent})),dialogButtonText:Ss((function(){return e.dialogButtonText})),formSaveFunction:Ss((function(){return e.formSaveFunction}))}},created:function(){this.getIconList(),this.getDesignData()},computed:{currentView:function(){return this.$route.name},currentViewDesigns:function(){var e=this;return(this.allDesignData||[]).filter((function(t){return t.templateName===e.currentView})).sort((function(e,t){return e.designID-t.designID}))},selectedDesign:function(){var e=this;return(this.currentViewDesigns||[]).find((function(t){return+t.designID==+e.currentDesignID}))||null},selectedMenuValid:function(){var e,t,n=(null===(e=this.selectedDesign)||void 0===e?void 0:e.designContent)||"{}",r=JSON.parse(n);return((null==r||null===(t=r.menu)||void 0===t?void 0:t.menuCards)||[]).filter((function(e){return 1==+e.enabled&&""!==e.link})).length>0},enabled:function(){var e;return 0!==this.currentDesignID&&parseInt((null===(e=this.designSettings)||void 0===e?void 0:e["".concat(this.currentView,"_enabled")])||0)===this.currentDesignID},currentViewEnabledDesignID:function(){return null===this.designSettings?null:+this.designSettings["".concat(this.currentView,"_enabled")]}},methods:{truncateText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.length<=t?e:e.slice(0,t)+n},markdownToHTML:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Dd.parse(e)},setView:function(e){this.$router.push({name:e.target.value})},showLastUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(new Date).toLocaleString(),n=document.getElementById(e);null!==n&&(n.innerText="last modified: ".concat(t),n.style.display="flex",n.style.border="2px solid #20a0f0",setTimeout((function(){n.style.border="2px solid transparent"}),750))},generateID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n="";do{for(var r=0;r<5;r++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()))}while(this.idExistsInList(e,t,n));return n},idExistsInList:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((function(n){return(null==n?void 0:n[e])===t}))},setEditMode:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isEditingMode=e},getIconList:function(){var e=this;return Ad(Td().mark((function t(){var n,r;return Td().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.APIroot,"iconPicker/list"));case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,e.iconList=r||[],t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("error getting icons: ".concat(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},postDesignContent:function(){var e=arguments,t=this;return Ad(Td().mark((function n(){var r,o,i,s,l,a,c;return Td().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:"{}",o=e.length>1&&void 0!==e[1]?e[1]:"",t.appIsUpdating=!0,n.prev=3,(s=new FormData).append("CSRFToken",t.CSRFToken),s.append("inputJSON",r),s.append("templateName",t.currentView),l=t.currentDesignID,n.next=11,fetch("".concat(t.APIroot,"design/").concat(l,"/content"),{method:"POST",body:s});case 11:return a=n.sent,n.next=14,a.json();case 14:if(2!=+(null==(c=n.sent)||null===(i=c.status)||void 0===i?void 0:i.code)){n.next=27;break}t.allDesignData.find((function(e){return+e.designID==+l})).designContent=r,n.t0=o,n.next="menuCardList"===n.t0||"menuDirection"===n.t0?20:"searchHeaders"===n.t0?22:23;break;case 20:return t.showLastUpdate("custom_menu_last_update"),n.abrupt("break",25);case 22:t.showLastUpdate("custom_search_last_update");case 23:return t.showLastUpdate("custom_".concat(o,"_last_update")),n.abrupt("break",25);case 25:n.next=28;break;case 27:console.log("unexpected response returned:",c);case 28:n.next=33;break;case 30:n.prev=30,n.t1=n.catch(3),console.log(n.t1);case 33:return n.prev=33,t.appIsUpdating=!1,n.finish(33);case 36:case"end":return n.stop()}}),n,null,[[3,30,33,36]])})))()},publishTemplate:function(){var e=arguments,t=this;return Ad(Td().mark((function n(){var r,o,i,s,l,a,c,u;return Td().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.length>0&&void 0!==e[0]&&e[0],o=t.currentView,!(t.customizableViews.includes(o)&&t.currentDesignID>0)){n.next=33;break}if(!0!==r){n.next=30;break}return t.appIsUpdating=!0,n.prev=5,s=t.currentDesignID===t.currentViewEnabledDesignID?0:t.currentDesignID,l=t.currentViewEnabledDesignID||0,(a=new FormData).append("CSRFToken",t.CSRFToken),a.append("designID",s),a.append("currentEnabledID",l),a.append("templateName",o),n.next=15,fetch("".concat(t.APIroot,"design/publish"),{method:"POST",body:a});case 15:return c=n.sent,n.next=18,c.json();case 18:2==+(null==(u=n.sent)||null===(i=u.status)||void 0===i?void 0:i.code)?t.designSettings["".concat(o,"_enabled")]=s:console.log("unexpected response returned:",u),n.next=25;break;case 22:n.prev=22,n.t0=n.catch(5),console.log(n.t0);case 25:return n.prev=25,t.appIsUpdating=!1,n.finish(25);case 28:n.next=31;break;case 30:t.openConfirmPublishDialog();case 31:n.next=34;break;case 33:console.log("this page cannot be published");case 34:case"end":return n.stop()}}),n,null,[[5,22,25,28]])})))()},getDesignData:function(){var e=this;return Ad(Td().mark((function t(){var n,r,o;return Td().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appIsGettingData=!0,t.prev=1,t.next=4,fetch("".concat(e.APIroot,"system/settings"));case 4:return n=t.sent,t.next=7,n.json();case 7:return r=t.sent,e.designSettings={},e.customizableViews.forEach((function(t){e.designSettings["".concat(t,"_enabled")]=+r["".concat(t,"_enabled")]||0})),t.next=12,fetch("".concat(e.APIroot,"design/designList"));case 12:return o=t.sent,t.next=15,o.json();case 15:e.allDesignData=t.sent,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),console.error("error getting settings: ".concat(t.t0.message));case 21:return t.prev=21,e.appIsGettingData=!1,t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[1,18,21,24]])})))()},updateDesignName:function(){var e=this;return Ad(Td().mark((function t(){var n,r,o,i,s,l;return Td().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appIsUpdating=!0,n=e.currentDesignID,r=e.currentDesignName,t.prev=3,(i=new FormData).append("CSRFToken",e.CSRFToken),i.append("designName",r),t.next=9,fetch("".concat(e.APIroot,"design/").concat(n,"/name"),{method:"POST",body:i});case 9:return s=t.sent,t.next=12,s.json();case 12:2==+(null==(l=t.sent)||null===(o=l.status)||void 0===o?void 0:o.code)&&Number.isInteger(null==l?void 0:l.data)?e.allDesignData.find((function(e){return+e.designID==+n})).designName=e.currentDesignName:console.log("unexpected response returned:",l),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),console.log(t.t0);case 19:return t.prev=19,e.appIsUpdating=!1,t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})))()},newDesign:function(){var e=arguments,t=this;return Ad(Td().mark((function n(){var r,o,i,s,l;return Td().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:"",t.appIsUpdating=!0,n.prev=2,(i=new FormData).append("CSRFToken",t.CSRFToken),i.append("templateName",t.currentView),i.append("designName",r),n.next=9,fetch("".concat(t.APIroot,"design/new"),{method:"POST",body:i});case 9:return s=n.sent,n.next=12,s.json();case 12:2==+(null==(l=n.sent)||null===(o=l.status)||void 0===o?void 0:o.code)&&Number.isInteger(null==l?void 0:l.data)?(t.allDesignData.push({designID:l.data,templateName:t.currentView,designName:r,designContent:"{}"}),t.currentDesignID=l.data,t.isEditingMode=!0):console.log("unexpected response returned:",l),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(2),console.log(n.t0);case 19:return n.prev=19,t.appIsUpdating=!1,n.finish(19);case 22:case"end":return n.stop()}}),n,null,[[2,16,19,22]])})))()},deleteDesign:function(){var e=arguments,t=this;return Ad(Td().mark((function n(){var r,o,i,s,l;return Td().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:0,o=e.length>1&&void 0!==e[1]?e[1]:"",t.appIsUpdating=!0,n.prev=3,n.next=6,fetch("".concat(t.APIroot,"design/delete/").concat(r,"/_").concat(o,"?CSRFToken=").concat(t.CSRFToken),{method:"DELETE"});case 6:return s=n.sent,n.next=9,s.json();case 9:2==+(null==(l=n.sent)||null===(i=l.status)||void 0===i?void 0:i.code)?(t.currentDesignID=0,t.allDesignData=t.allDesignData.filter((function(e){return+e.designID!=+r})),t.isEditingMode=!0):console.log("unexpected response returned:",l),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),console.log(n.t0);case 16:return n.prev=16,t.appIsUpdating=!1,n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[3,13,16,19]])})))()},openNewDesignDialog:function(){this.setDialogTitleHTML("<h2>Creating a new item for the ".concat(this.currentView,"</h2>")),this.setDialogContent("new-design-dialog"),this.showFormDialog=!0},openDeleteDesignDialog:function(){this.setDialogTitleHTML("<h2>Please Confirm</h2>"),this.dialogButtonText={confirm:"Delete",cancel:"Cancel"},this.setDialogContent("confirm-delete-dialog"),this.showFormDialog=!0},openConfirmPublishDialog:function(){this.setDialogTitleHTML("<h2>Please Confirm</h2>"),this.dialogButtonText={confirm:"Confirm",cancel:"Cancel"},this.setDialogContent("confirm-publish-dialog"),this.showFormDialog=!0},openDesignCardDialog:function(){this.setDialogTitleHTML("<h2>Menu Editor</h2>"),this.setDialogContent("design-card-dialog"),this.showFormDialog=!0},openHistoryDialog:function(){this.setDialogTitleHTML("<h2>Showing ".concat(this.currentView," History</h2>")),this.setDialogContent("history-dialog"),this.showFormDialog=!0},closeFormDialog:function(){this.showFormDialog=!1,this.dialogTitle="",this.dialogFormContent="",this.dialogButtonText={confirm:"Save",cancel:"Cancel"},this.formSaveFunction=""},setDialogTitleHTML:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dialogTitle=e},setDialogButtonText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.confirm,n=void 0===t?"":t,r=e.cancel,o=void 0===r?"":r;this.dialogButtonText={confirm:n,cancel:o}},setDialogContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dialogFormContent=e},setDialogSaveFunction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"function"==typeof e&&(this.formSaveFunction=e)}},watch:{currentView:function(e,t){this.customizableViews.includes(e)&&(this.currentDesignID=this.currentViewEnabledDesignID||0)},designSettings:function(e,t){null===t&&(this.currentDesignID=this.currentViewEnabledDesignID||0)},selectedDesign:function(e,t){this.currentDesignName=null===this.selectedDesign?null:this.selectedDesign.designName},currentDesignName:function(e,t){var n;null!==e&&e!==(null===(n=this.selectedDesign)||void 0===n?void 0:n.designName)&&this.updateDesignName()}}},Id="undefined"!=typeof window;const Nd=Object.assign;function Rd(e,t){const n={};for(const r in t){const o=t[r];n[r]=Fd(o)?o.map(e):e(o)}return n}const Ld=()=>{},Fd=Array.isArray,Pd=/\/$/,zd=e=>e.replace(Pd,"");function $d(e,t,n="/"){let r,o={},i="",s="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(r=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),o=e(i)),l>-1&&(r=r||t.slice(0,l),s=t.slice(l,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];".."!==o&&"."!==o||r.push("");let i,s,l=n.length-1;for(i=0;i<r.length;i++)if(s=r[i],"."!==s){if(".."!==s)break;l>1&&l--}return n.slice(0,l).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:s}}function Bd(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function qd(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Vd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!jd(e[n],t[n]))return!1;return!0}function jd(e,t){return Fd(e)?Hd(e,t):Fd(t)?Hd(t,e):e===t}function Hd(e,t){return Fd(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var Ud,Wd;!function(e){e.pop="pop",e.push="push"}(Ud||(Ud={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(Wd||(Wd={}));const Jd=/^[^#]+#/;function Gd(e,t){return e.replace(Jd,"#")+t}const Kd=()=>({left:window.pageXOffset,top:window.pageYOffset});function Zd(e,t){return(history.state?history.state.position-t:-1)+e}const Yd=new Map;let Xd=()=>location.protocol+"//"+location.host;function Qd(e,t){const{pathname:n,search:r,hash:o}=t,i=e.indexOf("#");if(i>-1){let t=o.includes(e.slice(i))?e.slice(i).length:1,n=o.slice(t);return"/"!==n[0]&&(n="/"+n),Bd(n,"")}return Bd(n,e)+r+o}function ep(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Kd():null}}function tp(e){const t=function(e){const{history:t,location:n}=window,r={value:Qd(e,n)},o={value:t.state};function i(r,i,s){const l=e.indexOf("#"),a=l>-1?(n.host&&document.querySelector("base")?e:e.slice(l))+r:Xd()+e+r;try{t[s?"replaceState":"pushState"](i,"",a),o.value=i}catch(e){console.error(e),n[s?"replace":"assign"](a)}}return o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:function(e,n){const s=Nd({},o.value,t.state,{forward:e,scroll:Kd()});i(s.current,s,!0),i(e,Nd({},ep(r.value,e,null),{position:s.position+1},n),!1),r.value=e},replace:function(e,n){i(e,Nd({},t.state,ep(o.value.back,e,o.value.forward,!0),n,{position:o.value.position}),!0),r.value=e}}}(e=function(e){if(!e)if(Id){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),zd(e)}(e)),n=function(e,t,n,r){let o=[],i=[],s=null;const l=({state:i})=>{const l=Qd(e,location),a=n.value,c=t.value;let u=0;if(i){if(n.value=l,t.value=i,s&&s===a)return void(s=null);u=c?i.position-c.position:0}else r(l);o.forEach((e=>{e(n.value,a,{delta:u,type:Ud.pop,direction:u?u>0?Wd.forward:Wd.back:Wd.unknown})}))};function a(){const{history:e}=window;e.state&&e.replaceState(Nd({},e.state,{scroll:Kd()}),"")}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",a,{passive:!0}),{pauseListeners:function(){s=n.value},listen:function(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return i.push(t),t},destroy:function(){for(const e of i)e();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",a)}}}(e,t.state,t.location,t.replace),r=Nd({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:Gd.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function np(e){return"string"==typeof e||"symbol"==typeof e}const rp={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},op=Symbol("");var ip;function sp(e,t){return Nd(new Error,{type:e,[op]:!0},t)}function lp(e,t){return e instanceof Error&&op in e&&(null==t||!!(e.type&t))}!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(ip||(ip={}));const ap="[^/]+?",cp={sensitive:!1,strict:!1,start:!0,end:!0},up=/[.+*?^${}()[\]/\\]/g;function hp(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function dp(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const e=hp(r[n],o[n]);if(e)return e;n++}if(1===Math.abs(o.length-r.length)){if(pp(r))return 1;if(pp(o))return-1}return o.length-r.length}function pp(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const fp={type:0,value:""},mp=/[a-zA-Z0-9_]/;function gp(e,t,n){const r=function(e,t){const n=Nd({},cp,t),r=[];let o=n.start?"^":"";const i=[];for(const t of e){const e=t.length?[]:[90];n.strict&&!t.length&&(o+="/");for(let r=0;r<t.length;r++){const s=t[r];let l=40+(n.sensitive?.25:0);if(0===s.type)r||(o+="/"),o+=s.value.replace(up,"\\$&"),l+=40;else if(1===s.type){const{value:e,repeatable:n,optional:a,regexp:c}=s;i.push({name:e,repeatable:n,optional:a});const u=c||ap;if(u!==ap){l+=10;try{new RegExp(`(${u})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let h=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;r||(h=a&&t.length<2?`(?:/${h})`:"/"+h),a&&(h+="?"),o+=h,l+=20,a&&(l+=-8),n&&(l+=-20),".*"===u&&(l+=-50)}e.push(l)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");return{re:s,score:r,keys:i,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let e=1;e<t.length;e++){const r=t[e]||"",o=i[e-1];n[o.name]=r&&o.repeatable?r.split("/"):r}return n},stringify:function(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:s,optional:l}=e,a=i in t?t[i]:"";if(Fd(a)&&!s)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=Fd(a)?a.join("/"):a;if(!c){if(!l)throw new Error(`Missing required param "${i}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[fp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let l,a=0,c="",u="";function h(){c&&(0===n?i.push({type:0,value:c}):1===n||2===n||3===n?(i.length>1&&("*"===l||"+"===l)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:"*"===l||"+"===l,optional:"*"===l||"?"===l})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;)if(l=e[a++],"\\"!==l||2===n)switch(n){case 0:"/"===l?(c&&h(),s()):":"===l?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===l?n=2:mp.test(l)?d():(h(),n=0,"*"!==l&&"?"!==l&&"+"!==l&&a--);break;case 2:")"===l?"\\"==u[u.length-1]?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,"*"!==l&&"?"!==l&&"+"!==l&&a--,u="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),h(),s(),o}(e.path),n),o=Nd(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function yp(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function vp(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"==typeof n?n[r]:n;return t}function bp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function kp(e){return e.reduce(((e,t)=>Nd(e,t.meta)),{})}function wp(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function xp(e,t){return t.children.some((t=>t===e||xp(e,t)))}const _p=/#/g,Sp=/&/g,Cp=/\//g,Dp=/=/g,Ep=/\?/g,Tp=/\+/g,Mp=/%5B/g,Ap=/%5D/g,Op=/%5E/g,Ip=/%60/g,Np=/%7B/g,Rp=/%7C/g,Lp=/%7D/g,Fp=/%20/g;function Pp(e){return encodeURI(""+e).replace(Rp,"|").replace(Mp,"[").replace(Ap,"]")}function zp(e){return Pp(e).replace(Tp,"%2B").replace(Fp,"+").replace(_p,"%23").replace(Sp,"%26").replace(Ip,"`").replace(Np,"{").replace(Lp,"}").replace(Op,"^")}function $p(e){return null==e?"":function(e){return Pp(e).replace(_p,"%23").replace(Ep,"%3F")}(e).replace(Cp,"%2F")}function Bp(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function qp(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){const r=n[e].replace(Tp," "),o=r.indexOf("="),i=Bp(o<0?r:r.slice(0,o)),s=o<0?null:Bp(r.slice(o+1));if(i in t){let e=t[i];Fd(e)||(e=t[i]=[e]),e.push(s)}else t[i]=s}return t}function Vp(e){let t="";for(let n in e){const r=e[n];(n=zp(n).replace(Dp,"%3D"),null!=r)?(Fd(r)?r.map((e=>e&&zp(e))):[r&&zp(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})):void 0!==r&&(t+=(t.length?"&":"")+n)}return t}function jp(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Fd(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Hp=Symbol(""),Up=Symbol(""),Wp=Symbol(""),Jp=Symbol(""),Gp=Symbol("");function Kp(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function Zp(e,t,n,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((s,l)=>{const a=e=>{var a;!1===e?l(sp(4,{from:n,to:t})):e instanceof Error?l(e):"string"==typeof(a=e)||a&&"object"==typeof a?l(sp(2,{from:t,to:e})):(i&&r.enterCallbacks[o]===i&&"function"==typeof e&&i.push(e),s())},c=e.call(r&&r.instances[o],t,n,a);let u=Promise.resolve(c);e.length<3&&(u=u.then(a)),u.catch((e=>l(e)))}))}function Yp(e,t,n,r){const o=[];for(const s of e)for(const e in s.components){let l=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(i=l)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(l.__vccOpts||l)[t];i&&o.push(Zp(i,n,r,s,e))}else{let i=l();o.push((()=>i.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const i=(l=o).__esModule||"Module"===l[Symbol.toStringTag]?o.default:o;var l;s.components[e]=i;const a=(i.__vccOpts||i)[t];return a&&Zp(a,n,r,s,e)()}))))}}var i;return o}function Xp(e){const t=jo(Wp),n=jo(Jp),r=Ss((()=>t.resolve(Ut(e.to)))),o=Ss((()=>{const{matched:e}=r.value,{length:t}=e,o=e[t-1],i=n.matched;if(!o||!i.length)return-1;const s=i.findIndex(qd.bind(null,o));if(s>-1)return s;const l=ef(e[t-2]);return t>1&&ef(o)===l&&i[i.length-1].path!==l?i.findIndex(qd.bind(null,e[t-2])):s})),i=Ss((()=>o.value>-1&&function(e,t){for(const n in t){const r=t[n],o=e[n];if("string"==typeof r){if(r!==o)return!1}else if(!Fd(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}(n.params,r.value.params))),s=Ss((()=>o.value>-1&&o.value===n.matched.length-1&&Vd(n.params,r.value.params)));return{route:r,href:Ss((()=>r.value.href)),isActive:i,isExactActive:s,navigate:function(n={}){return function(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}(n)?t[Ut(e.replace)?"replace":"push"](Ut(e.to)).catch(Ld):Promise.resolve()}}}const Qp=kr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Xp,setup(e,{slots:t}){const n=St(Xp(e)),{options:r}=jo(Wp),o=Ss((()=>({[tf(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[tf(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:Cs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}});function ef(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const tf=(e,t,n)=>null!=e?e:null!=t?t:n,nf=kr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=jo(Gp),o=Ss((()=>e.route||r.value)),i=jo(Up,0),s=Ss((()=>{let e=Ut(i);const{matched:t}=o.value;let n;for(;(n=t[e])&&!n.components;)e++;return e})),l=Ss((()=>o.value.matched[s.value]));Vo(Up,Ss((()=>s.value+1))),Vo(Hp,l),Vo(Gp,o);const a=Bt();return rr((()=>[a.value,l.value,e.name]),(([e,t,n],[r,o,i])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&qd(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,i=e.name,s=l.value,c=s&&s.components[i];if(!c)return rf(n.default,{Component:c,route:r});const u=s.props[i],h=u?!0===u?r.params:"function"==typeof u?u(r):u:null,d=Cs(c,Nd({},h,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(s.instances[i]=null)},ref:a}));return rf(n.default,{Component:d,route:r})||d}}});function rf(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const of=nf,sf={data:function(){return{scrollY:window.scrollY,initialTop:15,modalElementID:"leaf_dialog_content",modalBackgroundID:"leaf-vue-dialog-background",elBody:null,elModal:null,elBackground:null}},props:{hasDevConsoleAccess:{type:Number,default:0}},inject:["dialogTitle","closeFormDialog","formSaveFunction","dialogButtonText"],provide:function(){return{hasDevConsoleAccess:this.hasDevConsoleAccess}},mounted:function(){this.elBody=document.querySelector("body"),this.elModal=document.getElementById(this.modalElementID),this.elBackground=document.getElementById(this.modalBackgroundID);var e=this.elModal.clientWidth>this.elBody.clientWidth?this.elModal.clientWidth:this.elBody.clientWidth;this.elBackground.style.minHeight=200+this.elBody.clientHeight+"px",this.elBackground.style.minWidth=e+"px",this.makeDraggable(this.elModal),window.addEventListener("resize",this.checkSizes)},beforeUnmount:function(){window.removeEventListener("resize",this.checkSizes)},methods:{checkSizes:function(){var e=this.elModal.clientWidth>this.elBody.clientWidth?this.elModal.clientWidth:this.elBody.clientWidth;this.elBackground.style.minWidth=e+"px",this.elBackground.style.minHeight=this.elModal.offsetTop+this.elBody.clientHeight+"px"},makeDraggable:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=0,r=0,o=0,i=0,s=function(e){(e=e||window.event).preventDefault(),n=o-e.clientX,r=i-e.clientY,o=e.clientX,i=e.clientY,t.style.top=t.offsetTop-r+"px",t.style.left=t.offsetLeft-n+"px",a()},l=function(){document.onmouseup=null,document.onmousemove=null},a=function(){t.offsetTop<window.scrollY&&(t.style.top=window.scrollY+"px"),t.offsetLeft<window.scrollX&&(t.style.left=window.scrollX+"px"),t.offsetLeft+t.clientWidth+18>window.innerWidth+window.scrollX&&(t.style.left=window.innerWidth+window.scrollX-t.clientWidth-18+"px"),e.elBackground.style.minWidth=e.elBody.clientWidth+"px",e.elBackground.style.minHeight=e.elModal.offsetTop+e.elBody.clientHeight+"px"};document.getElementById(this.modalElementID+"_drag_handle")&&(document.getElementById(this.modalElementID+"_drag_handle").onmousedown=function(e){(e=e||window.event).preventDefault(),o=e.clientX,i=e.clientY,document.onmouseup=l,document.onmousemove=s})}},template:'<Teleport to="body">\n        <div id="leaf-vue-dialog-background">\n            <div :id="modalElementID" class="leaf-vue-dialog" role="dialog" :style="{top: scrollY + initialTop + \'px\'}">\n                <div v-html="dialogTitle" :id="modalElementID + \'_drag_handle\'" class="leaf-vue-dialog-title"></div>\n                <div tabindex=0 @click="closeFormDialog" @keypress.enter="closeFormDialog" id="leaf-vue-dialog-close">&#10005;</div>\n                <div id="record">\n                    <div role="document" style="position: relative;">\n                        <main id="xhr" class="leaf-vue-dialog-content" role="main">\n                            <slot name="dialog-content-slot"></slot>\n                        </main>\n                    </div>\n                    <div id="leaf-vue-dialog-cancel-save">\n                        <button type="button" style="width: 90px;"\n                            id="button_save" class="btn-confirm" :title="dialogButtonText.confirm"\n                            @click="formSaveFunction">\n                            {{dialogButtonText.confirm}}\n                        </button>\n                        <button type="button" style="width: 90px;"\n                            id="button_cancelchange" class="btn-general" :title="dialogButtonText.cancel"\n                            @click="closeFormDialog">\n                            {{dialogButtonText.cancel}}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </Teleport>'},lf={name:"custom-menu-item",data:function(){return{dyniconsPath:this.libsPath+"dynicons/svg/"}},props:{menuItem:{type:Object,required:!0}},inject:["libsPath","rootPath","builtInIDs","isEditingMode"],computed:{baseCardStyles:function(){return{backgroundColor:this.menuItem.bgColor}},anchorClasses:function(){var e;return"custom_menu_card"+(null!==(e=this.menuItem)&&void 0!==e&&e.link&&!1===this.isEditingMode?"":" disableClick")},href:function(){return this.builtInIDs.includes(this.menuItem.id)?this.rootPath+this.menuItem.link:this.menuItem.link}},template:'<a :class="anchorClasses" :style="baseCardStyles" :href="href" target="_blank">\n        <img v-if="menuItem.icon" :src="dyniconsPath + menuItem.icon" alt="" class="icon_choice "/>\n        <div class="card_text">\n            <h2 :style="{color: menuItem.titleColor}">{{ menuItem.title }}</h2>\n            <div :style="{color: menuItem.subtitleColor}">{{ menuItem.subtitle }}</div>\n        </div>\n    </a>'},af={name:"design-card-dialog",data:function(){var e,t,n,r,o,i,s,l,a,c,u,h;return{id:this.menuItem.id,order:(null===(e=this.menuItem)||void 0===e?void 0:e.order)||0,title:XSSHelpers.stripAllTags((null===(t=this.menuItem)||void 0===t?void 0:t.title)||""),titleColor:(null===(n=this.menuItem)||void 0===n?void 0:n.titleColor)||"#000000",subtitle:XSSHelpers.stripAllTags((null===(r=this.menuItem)||void 0===r?void 0:r.subtitle)||""),subtitleColor:(null===(o=this.menuItem)||void 0===o?void 0:o.subtitleColor)||"#000000",bgColor:(null===(i=this.menuItem)||void 0===i?void 0:i.bgColor)||"#ffffff",icon:(null===(s=this.menuItem)||void 0===s?void 0:s.icon)||"",link:XSSHelpers.stripAllTags((null===(l=this.menuItem)||void 0===l?void 0:l.link)||""),enabled:1==+(null===(a=this.menuItem)||void 0===a?void 0:a.enabled),iconPreviewSize:"28px",useTitleColor:(null===(c=this.menuItem)||void 0===c?void 0:c.titleColor)===(null===(u=this.menuItem)||void 0===u?void 0:u.subtitleColor),useAnIcon:""!==(null===(h=this.menuItem)||void 0===h?void 0:h.icon),markedForDeletion:!1}},mounted:function(){this.setDialogSaveFunction(this.onSave)},components:{CustomMenuItem:lf},inject:["libsPath","menuItem","builtInIDs","updateMenuItemList","iconList","closeFormDialog","setDialogSaveFunction","setDialogButtonText"],computed:{menuItemOBJ:function(){return{id:this.id,order:this.order,title:XSSHelpers.stripAllTags(this.title),titleColor:this.titleColor,subtitle:XSSHelpers.stripAllTags(this.subtitle),subtitleColor:this.useTitleColor?this.titleColor:this.subtitleColor,bgColor:this.bgColor,icon:!0===this.useAnIcon?this.icon:"",link:XSSHelpers.stripAllTags(this.link),enabled:+this.enabled}},isBuiltInCard:function(){return this.builtInIDs.includes(this.id)},linkNotSet:function(){return!this.isBuiltInCard&&1==+this.enabled&&0!==this.link.indexOf("https://")},linkAttentionStyle:function(){return this.linkNotSet?"border: 2px solid #c00000":""}},methods:{getIconSrc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.indexOf("dynicons/");return this.libsPath+e.slice(t)},setIcon:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target.id,t=e.indexOf("svg/");t>-1&&(this.icon=e.slice(t+4))},onSave:function(){this.updateMenuItemList(this.menuItemOBJ,this.markedForDeletion),this.closeFormDialog()}},watch:{markedForDeletion:function(e,t){var n=document.getElementById("button_save");!0===e?(this.setDialogButtonText({confirm:"Delete",cancel:"Cancel"}),n.setAttribute("title","Delete"),n.style.backgroundColor="#b00000"):(this.setDialogButtonText({confirm:"Save",cancel:"Cancel"}),n.setAttribute("title","Save"),n.style.backgroundColor="#005EA2")}},template:'<div style="max-width: 600px;" id="design_card_modal">\n        <h3>Card Preview</h3>\n        <div class="designer_inputs" style="margin-bottom:1rem;">\n            <custom-menu-item :menuItem="menuItemOBJ"></custom-menu-item>\n            <div>\n                <label for="bg_color">Background</label>\n                <input type="color" id="bg_color" v-model="bgColor" />\n            </div>\n            <div class="enable_del">\n                <label class="checkable leaf_check" for="button_enabled"\n                     :style="{color: +enabled === 1 ? \'#008060\' : \'#b00000\'}"\n                     :title="+enabled === 1 ? \'uncheck to hide\' : \'check to enable\'">\n                    <input type="checkbox" id="button_enabled" v-model="enabled" class="icheck leaf_check"/>\n                    <span class="leaf_check"></span>{{ +enabled === 1 ? \'enabled\' : \'check to enable\'}}\n                </label>\n                <label class="checkable leaf_check" for="button_delete"\n                    :style="{color: +markedForDeletion === 1 ? \'#b00000\' : \'inherit\'}">\n                    <input type="checkbox" id="button_delete" v-model="markedForDeletion" class="icheck leaf_check" />\n                    <span class="leaf_check"></span>{{ +markedForDeletion === 1 ? \'delete to confirm\' : \'mark for deletion\'}}\n                </label>\n            </div>\n        </div>\n        <div class="designer_inputs">\n            <div>\n                <label for="menu_title">Card Title</label>\n                <textarea id="menu_title" v-model="title"></textarea>\n            </div>\n            <div>\n                <label for="title_color">Font Color</label>\n                <input type="color" id="title_color" v-model="titleColor" />\n            </div>\n        </div>\n        <div class="designer_inputs">\n            <div>\n                <label for="menu_subtitle">Card Subtitle</label>\n                <textarea id="menu_subtitle" v-model="subtitle"></textarea>\n            </div>\n            <div>\n                <div v-show="!useTitleColor" style="margin-bottom: 0.5rem;">\n                    <label for="subtitle_color" style="margin-right: 0.5rem;">Font Color</label>\n                    <input type="color" id="subtitle_color" v-model="subtitleColor"/>\n                </div>\n                <label class="checkable leaf_check" for="title_color_confirm">\n                    <input type="checkbox" id="title_color_confirm" v-model="useTitleColor" class="icheck leaf_check" />\n                    <span class="leaf_check"></span>title color\n                </label>\n            </div>\n        </div>\n        <div v-if="!isBuiltInCard" style="margin-bottom: 1rem;">\n            <label for="card_link">Card Link (full URL)</label>\n            <input type="text" id="card_link" :style="\'width: 475px;\'+ linkAttentionStyle" v-model="link" />\n        </div>\n        <div class="designer_inputs">\n            <label class="checkable leaf_check" for="use_icon_confirm">\n                <input type="checkbox" id="use_icon_confirm" v-model="useAnIcon" class="icheck leaf_check" />\n                <span class="leaf_check"></span>Use an Icon\n            </label>\n        </div>\n        <fieldset v-if="useAnIcon" style="margin: 0; padding-right: 0;">\n            <legend>Icon Selections</legend>\n            <div class="designer_inputs wrap" style="height:150px; max-width: 540px; overflow:auto;" @click="setIcon($event)">\n                <img v-for="icon in iconList" :key="icon.name"\n                    :style="{width: iconPreviewSize, height: iconPreviewSize}" style="cursor: pointer;"\n                    :id="icon.src" class="icon_choice"\n                    :src="getIconSrc(icon.src)" :alt="icon.name" />\n            </div>\n        </fieldset>\n    </div>'},cf={name:"confirm-publish-dialog",mounted:function(){this.setDialogSaveFunction(this.onSave)},inject:["closeFormDialog","setDialogSaveFunction","publishTemplate","currentDesignID","currentView","currentViewEnabledDesignID"],methods:{onSave:function(){this.publishTemplate(!0),this.closeFormDialog()}},template:'<div style="min-height: 60px; max-width: 500px;">\n        \x3c!-- warn if activating and another page is already active --\x3e\n        <div v-if="currentViewEnabledDesignID !== 0 && currentViewEnabledDesignID !== currentDesignID">\n            <div role="img" aria="" style="display: flex; justify-content: center; margin-bottom: 0.5rem;">⚠️</div>\n            Another setting is active. &nbsp;Choose confirm to replace it.\n        </div>\n        \x3c!-- warn if disabling an active page --\x3e\n        <div v-else-if="currentViewEnabledDesignID === currentDesignID">\n            <div role="img" aria="" style="display: flex; justify-content: center; margin-bottom: 0.5rem;">⚠️</div>\n            <p>Disabling this page will show the normal LEAF {{ currentView }}.</p>\n        </div>\n        <div v-else>This page will be shown instead of the normal LEAF {{ currentView }}.</div>\n    </div>'},uf={name:"confirm-delete-dialog",mounted:function(){document.getElementById("button_save").style.backgroundColor="#AA0000",document.getElementById("button_save").style.border="2px solid #000000",this.setDialogSaveFunction(this.onSave)},inject:["closeFormDialog","setDialogSaveFunction","selectedDesign","currentView","deleteDesign"],methods:{onSave:function(){this.deleteDesign(this.selectedDesign.designID,this.currentView),this.closeFormDialog()}},template:'<div style="min-height: 60px; max-width: 500px;">\n        <div role="img" aria="" style="display: flex; justify-content: center; margin-bottom: 0.5rem;">⚠️</div>\n        <div>Please confirm deletion of {{selectedDesign.designName}}(#{{selectedDesign.designID}})</div>  \n    </div>'},hf={name:"new-design-dialog",data:function(){return{designName:""}},mounted:function(){this.setDialogSaveFunction(this.onSave)},inject:["closeFormDialog","setDialogSaveFunction","currentView","newDesign"],methods:{onSave:function(){this.newDesign(this.designName),this.closeFormDialog()}},template:'<div style="min-height: 60px; max-width: 600px;">\n        <label for="design_name_input" style="margin: 1rem 0;">Title <span style="font-size:80%"> (up to 50 characters)</span>\n            <input id="design_name_input" type="text" maxlength="50" v-model="designName" />\n        </label>\n    </div>'};function df(e){return df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(e)}function pf(){pf=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,s=Object.create(i.prototype),l=new C(o||[]);return r(s,"_invoke",{value:w(e,n,l)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function p(){}function f(){}var m={};a(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(D([])));y&&y!==t&&n.call(y,i)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,i,s,l){var a=u(e[r],e,i);if("throw"!==a.type){var c=a.arg,h=c.value;return h&&"object"==df(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(a.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=x(s,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=u(e,t,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===h)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=f,r(v,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=a(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(k.prototype),a(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new k(c(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(v),a(v,l,"Generator"),a(v,i,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(l&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function ff(e,t,n,r,o,i,s){try{var l=e[i](s),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(r,o)}const mf={name:"history-dialog",data:function(){return{divSaveCancelID:"leaf-vue-dialog-cancel-save",page:1,ajaxRes:""}},props:{historyType:{type:String,required:!0},historyID:{type:[String,Number],required:!0}},mounted:function(){document.getElementById(this.divSaveCancelID).style.display="none",this.getPage()},computed:{showNext:function(){return-1===this.ajaxRes.indexOf("No history to show")},showPrev:function(){return this.page>1}},methods:{getNext:function(){this.page++,this.getPage()},getPrev:function(){this.page--,this.getPage()},getPage:function(){var e,t=this;return(e=pf().mark((function e(){var n,r;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="ajaxIndex.php?a=gethistory&type=".concat(t.historyType,"&gethistoryslice=1&page=").concat(t.page,"&id=").concat(t.historyID),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.text();case 7:t.ajaxRes=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error getting history",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){ff(i,r,o,s,l,"next",e)}function l(e){ff(i,r,o,s,l,"throw",e)}s(void 0)}))})()}},template:'<div>\n        <div id="history-slice" v-html="ajaxRes" style="min-height: 100px; min-width: 300px;"></div>\n        <div id="history-page-buttons" style="display: flex; justify-content: space-between;">\n            <button v-if="showPrev" id="prev" type="button"\n                class="btn-general"\n                style="width: 125px;"\n                @click="getPrev" title="get previous page">\n                Previous page\n            </button>\n            <button v-if="showNext" id="next" type="button"\n                class="btn-general"\n                style="width: 125px; margin-left: auto;"\n                @click="getNext" title="get next page">\n                Next page\n            </button>\n        </div>\n    </div>'},gf={name:"markdown-table",data:function(){return{entries:[{effect:"Italics. <br/>Surround with * or _",example:"*LEAF*, _LEAF_"},{effect:"Bold. <br/>Surround with ** or __",example:"**LEAF**, __LEAF__"},{effect:"Headings. <br/>1-5 # and a space before text (1 is largest)",example:"### LEAF"},{effect:"ordered and unordered lists",example:"1. item A\n2. item B\n* item A\n* item B",html:"1. item A<br/>2. item B<br/><br/>* item A<br/>* item B"},{effect:"Add a link. <br/>[link text] (link address)",example:"[LEAF](https://".concat(window.location.host,"/")+"".concat("localhost"===window.location.host?"LEAF_Request_Portal":"launchpad",")")},{effect:"Add an image. <br/>![alt text] (image address 'optional title')",example:"![LEAF logo](https://".concat(window.location.host,"/libs/dynicons/svg/LEAF-thumbprint.svg 'Welcome to LEAF')")}]}},inject:["markdownToHTML"],methods:{rowColor:function(e){return e%2==0?"#ffffff":"#fbfbfd"}},template:'<div id="markdown_tips">\n        <p style="padding-bottom: 0.5em">\n            Markdown can be used within the text editing area.  Below are some common examples.\n        </p>\n        <table>\n            <tr>\n                <th>Effect</th><th>Example</th><th>Outcome</th>\n            </tr>\n            <tr v-for="ele, i in entries" :key="ele.effect" :style="{backgroundColor: rowColor(i)}">\n                <td v-html="ele.effect"></td>\n\n                <td v-if="ele.html !== undefined" v-html="ele.html"></td>\n                <td v-else>{{ ele.example }}</td>\n\n                <td v-html="markdownToHTML(ele.example)"></td>\n            </tr>\n        </table>\n    </div>'};function yf(e){this.content=e}yf.prototype={constructor:yf,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new yf(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new yf(n)},addToStart:function(e,t){return new yf([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new yf(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new yf(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=yf.from(e)).size?new yf(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=yf.from(e)).size?new yf(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=yf.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},yf.from=function(e){if(e instanceof yf)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new yf(t)};const vf=yf;function bf(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let e=0;o.text[e]==i.text[e];e++)n++;return n}if(o.content.size||i.content.size){let e=bf(o.content,i.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function kf(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let s=e.child(--o),l=t.child(--i),a=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let e=0,t=Math.min(s.text.length,l.text.length);for(;e<t&&s.text[s.text.length-e-1]==l.text[l.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let e=kf(s.content,l.content,n-1,r-1);if(e)return e}n-=a,r-=a}else n-=a,r-=a}}class wf{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,o){for(let i=0,s=0;s<t;i++){let l=this.content[i],a=s+l.nodeSize;if(a>e&&!1!==n(l,r+s,o||null,i)&&l.content.size){let o=s+1;l.nodesBetween(Math.max(0,e-o),Math.min(l.content.size,t-o),n,r+o)}s=a}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",i=!0;return this.nodesBetween(e,t,((s,l)=>{s.isText?(o+=s.text.slice(Math.max(e,l)-l,t-l),i=!n):s.isLeaf?(r?o+="function"==typeof r?r(s):r:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new wf(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,i=0;i<t;o++){let s=this.content[o],l=i+s.nodeSize;l>e&&((i<e||l>t)&&(s=s.isText?s.cut(Math.max(0,e-i),Math.min(s.text.length,t-i)):s.cut(Math.max(0,e-i-1),Math.min(s.content.size,t-i-1))),n.push(s),r+=s.nodeSize),i=l}return new wf(n,r)}cutByIndex(e,t){return e==t?wf.empty:0==e&&t==this.content.length?this:new wf(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new wf(r,o)}addToStart(e){return new wf([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new wf(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return bf(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return kf(this,e,t,n)}findIndex(e,t=-1){if(0==e)return _f(0,e);if(e==this.size)return _f(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?_f(n+1,o):_f(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return wf.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new wf(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return wf.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new wf(t||e,n)}static from(e){if(!e)return wf.empty;if(e instanceof wf)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new wf([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}wf.empty=new wf([],0);const xf={index:0,offset:0};function _f(e,t){return xf.index=e,xf.offset=t,xf}function Sf(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Sf(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!Sf(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class Cf{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Sf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return Cf.none;if(e instanceof Cf)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}Cf.none=[];class Df extends Error{}class Ef{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=Mf(this.content,e+this.openStart,t);return n&&new Ef(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Ef(Tf(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Ef.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Ef(wf.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new Ef(e,n,r)}}function Tf(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:l}=e.findIndex(n);if(o==t||i.isText){if(l!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(Tf(i.content,t-o-1,n-o-1)))}function Mf(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=Mf(s.content,t-i-1,n);return l&&e.replaceChild(o,s.copy(l))}function Af(e,t,n){if(n.openStart>e.depth)throw new Df("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Df("Inconsistent open depths");return Of(e,t,n,0)}function Of(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=Of(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:s}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(wf.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return Ff(i,Pf(e,o,s,t,r))}{let r=e.parent,o=r.content;return Ff(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return Ff(i,zf(e,t,r))}function If(e,t){if(!t.type.compatibleContent(e.type))throw new Df("Cannot join "+t.type.name+" onto "+e.type.name)}function Nf(e,t,n){let r=e.node(n);return If(r,t.node(n)),r}function Rf(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Lf(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Rf(e.nodeAfter,r),i++));for(let e=i;e<s;e++)Rf(o.child(e),r);t&&t.depth==n&&t.textOffset&&Rf(t.nodeBefore,r)}function Ff(e,t){return e.type.checkContent(t),e.copy(t)}function Pf(e,t,n,r,o){let i=e.depth>o&&Nf(e,t,o+1),s=r.depth>o&&Nf(n,r,o+1),l=[];return Lf(null,e,o,l),i&&s&&t.index(o)==n.index(o)?(If(i,s),Rf(Ff(i,Pf(e,t,n,r,o+1)),l)):(i&&Rf(Ff(i,zf(e,t,o+1)),l),Lf(t,n,o,l),s&&Rf(Ff(s,zf(n,r,o+1)),l)),Lf(r,null,o,l),new wf(l)}function zf(e,t,n){let r=[];return Lf(null,e,n,r),e.depth>n&&Rf(Ff(Nf(e,t,n+1),zf(e,t,n+1)),r),Lf(t,null,n,r),new wf(r)}Ef.empty=new Ef(wf.empty,0,0);class $f{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return Cf.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new jf(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let t=e;;){let{index:e,offset:i}=t.content.findIndex(o),s=o-i;if(n.push(t,e,r+i),!s)break;if(t=t.child(e),t.isText)break;o=s-1,r+=i+1}return new $f(t,n,o)}static resolveCached(e,t){for(let n=0;n<Bf.length;n++){let r=Bf[n];if(r.pos==t&&r.doc==e)return r}let n=Bf[qf]=$f.resolve(e,t);return qf=(qf+1)%Vf,n}}let Bf=[],qf=0,Vf=12;class jf{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Hf=Object.create(null);class Uf{constructor(e,t,n,r=Cf.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||wf.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&Sf(this.attrs,t||e.defaultAttrs||Hf)&&Cf.sameSet(this.marks,n||Cf.none)}copy(e=null){return e==this.content?this:new Uf(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Uf(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Ef.empty;let r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),s=r.start(i),l=r.node(i).content.cut(r.pos-s,o.pos-s);return new Ef(l,r.depth-i,o.depth-i)}replace(e,t,n){return Af(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return $f.resolveCached(this,e)}resolveNoCache(e){return $f.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Jf(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=wf.empty,r=0,o=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let e=r;e<o;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Cf.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!Cf.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=wf.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}Uf.prototype.text=void 0;class Wf extends Uf{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Jf(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Wf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Wf(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Jf(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Gf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Kf(e,t);if(null==n.next)return Gf.empty;let r=Zf(n);n.next&&n.err("Unexpected trailing text");let o=function(e){let t=Object.create(null);return function n(r){let o=[];r.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<o.length;e++)o[e][0]==t&&(r=o[e][1]);nm(e,n).forEach((e=>{r||o.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)}))}))}));let i=t[r.join(",")]=new Gf(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort(tm);i.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return i}(nm(e,0))}(function(e){let t=[[]];return o(function e(t,i){if("choice"==t.type)return t.exprs.reduce(((t,n)=>t.concat(e(n,i))),[]);if("seq"!=t.type){if("star"==t.type){let s=n();return r(i,s),o(e(t.expr,s),s),[r(s)]}if("plus"==t.type){let s=n();return o(e(t.expr,i),s),o(e(t.expr,s),s),[r(s)]}if("opt"==t.type)return[r(i)].concat(e(t.expr,i));if("range"==t.type){let s=i;for(let r=0;r<t.min;r++){let r=n();o(e(t.expr,s),r),s=r}if(-1==t.max)o(e(t.expr,s),s);else for(let i=t.min;i<t.max;i++){let i=n();r(s,i),o(e(t.expr,s),i),s=i}return[r(s)]}if("name"==t.type)return[r(i,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=e(t.exprs[r],i);if(r==t.exprs.length-1)return s;o(s,i=n())}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((e=>e.to=t))}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(s)&&r.push(s)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function o(i,s){let l=i.matchFragment(e,n);if(l&&(!t||l.validEnd))return wf.from(s.map((e=>e.createAndFill())));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:i,next:s}=o.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!s.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r})).join("\n")}}Gf.empty=new Gf(!0);class Kf{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Zf(e){let t=[];do{t.push(Yf(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Yf(e){let t=[];do{t.push(Xf(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function Xf(e){let t=function(e){if(e.eat("(")){let t=Zf(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let e in n){let r=n[e];r.groups.indexOf(t)>-1&&o.push(r)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=em(e,t)}return t}function Qf(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function em(e,t){let n=Qf(e),r=n;return e.eat(",")&&(r="}"!=e.next?Qf(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function tm(e,t){return t-e}function nm(e,t){let n=[];return function t(r){let o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(let e=0;e<o.length;e++){let{term:r,to:i}=o[e];r||-1!=n.indexOf(i)||t(i)}}(t),n.sort(tm)}function rm(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function om(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function im(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new lm(e[n]);return t}class sm{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=im(n.attrs),this.defaultAttrs=rm(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Gf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:om(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Uf(this,this.computeAttrs(e),wf.from(t),Cf.setFrom(n))}createChecked(e=null,t,n){return t=wf.from(t),this.checkContent(t),new Uf(this,this.computeAttrs(e),t,Cf.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=wf.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(wf.empty,!0);return o?new Uf(this,e,t.append(o),Cf.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Cf.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new sm(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class lm{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class am{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=im(r.attrs),this.excluded=null;let o=rm(this.attrs);this.instance=o?new Cf(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Cf(this,om(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,o)=>n[e]=new am(e,r++,t,o))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}function cm(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class um{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new gm(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new gm(this,t,!0);return n.addAll(e,t.from,t.to),Ef.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(ym(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach((e=>{n(e=vm(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)}))}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach((e=>{n(e=vm(e)),e.node||e.ignore||e.mark||(e.node=t)}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new um(e,um.schemaRules(e)))}}const hm={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},dm={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},pm={ol:!0,ul:!0};function fm(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class mm{constructor(e,t,n,r,o,i,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=Cf.none,this.stashMarks=[],this.match=i||(4&s?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(wf.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=wf.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(wf.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):bm(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!hm.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class gm{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,o=t.topNode,i=fm(null,t.preserveWhitespace,0)|(n?4:0);r=o?new mm(o.type,o.attrs,Cf.none,Cf.none,!0,t.topMatch||o.type.contentMatch,i):new mm(n?null:e.schema.topNodeType,null,Cf.none,Cf.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){3==e.nodeType?this.addTextNode(e):1==e.nodeType&&this.addElement(e)}withStyleRules(e,t){let n=e.getAttribute("style");if(!n)return t();let r=this.readStyles(function(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(n));if(!r)return;let[o,i]=r,s=this.top;for(let e=0;e<i.length;e++)this.removePendingMark(i[e],s);for(let e=0;e<o.length;e++)this.addPendingMark(o[e]);t();for(let e=0;e<o.length;e++)this.removePendingMark(o[e],s);for(let e=0;e<i.length;e++)this.addPendingMark(i[e])}addTextNode(e){let t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();pm.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&pm.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:dm.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let t,n=this.top,i=this.needsBlock;if(hm.hasOwnProperty(r))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);o&&o.skip?this.addAll(e):this.withStyleRules(e,(()=>this.addAll(e))),t&&this.sync(n),this.needsBlock=i}else this.withStyleRules(e,(()=>{this.addElementByRule(e,o,!1===o.consuming?n:void 0)}))}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=Cf.none,n=Cf.none;for(let r=0;r<e.length;r+=2)for(let o;;){let i=this.parser.matchStyle(e[r],e[r+1],this,o);if(!i)break;if(i.ignore)return null;if(i.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach((e=>{i.clearMark(e)&&(n=e.addToSet(n))})):t=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(t),!1!==i.consuming)break;o=i}return[t,n]}addElementByRule(e,t,n){let r,o,i;t.node?(o=this.parser.schema.nodes[t.node],o.isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs||null,t.preserveWhitespace)):(i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i));let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,i&&this.removePendingMark(i,s)}addAll(e,t,n){let r=t||0;for(let o=t?e.childNodes[t]:e.firstChild,i=null==n?null:e.childNodes[n];o!=i;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(let e=0;e<t.length;e++)this.enterInner(t[e],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let i=fm(e,r,o.options);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new mm(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(e,s)=>{for(;e>=0;e--){let l=t[e];if(""==l){if(e==t.length-1||0==e)continue;for(;s>=o;s--)if(i(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=o?n.node(s-o).type:null;if(!e||e.name!=l&&-1==e.groups.indexOf(l))return!1;s--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(e){let t=function(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function ym(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function vm(e){let t={};for(let n in e)t[n]=e[n];return t}function bm(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(i.indexOf(o)<0&&s(o))return!0}};if(s(o.contentMatch))return!0}}class km{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=xm(t).createDocumentFragment());let r=n,o=[];return e.forEach((e=>{if(o.length||e.marks.length){let n=0,i=0;for(;n<o.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<o.length;)r=o.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],s=this.serializeMark(n,e.isInline,t);s&&(o.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=km.renderSpec(xm(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&km.renderSpec(xm(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,o=t[0],i=o.indexOf(" ");i>0&&(n=o.slice(0,i),o=o.slice(i+1));let s=n?e.createElementNS(n,o):e.createElement(o),l=t[1],a=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l)){a=2;for(let e in l)if(null!=l[e]){let t=e.indexOf(" ");t>0?s.setAttributeNS(e.slice(0,t),e.slice(t+1),l[e]):s.setAttribute(e,l[e])}}for(let o=a;o<t.length;o++){let i=t[o];if(0===i){if(o<t.length-1||o>a)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:t,contentDOM:o}=km.renderSpec(e,i,n);if(s.appendChild(t),o){if(r)throw new RangeError("Multiple content holes");r=o}}}return{dom:s,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new km(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=wm(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return wm(e.marks)}}function wm(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function xm(e){return e.document||window.document}const _m=Math.pow(2,16);function Sm(e){return 65535&e}class Cm{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Dm{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Dm.empty)return Dm.empty}recover(e){let t=0,n=Sm(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/_m}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>e)break;let a=this.ranges[s+o],c=this.ranges[s+i],u=l+a;if(e<=u){let o=l+r+((a?e==l?-1:e==u?1:t:t)<0?0:c);if(n)return o;let i=e==l?2:e==u?1:4;return(t<0?e!=l:e!=u)&&(i|=8),new Cm(o,i,e==(t<0?l:u)?null:s/3+(e-l)*_m)}r+=c-a}return n?e+r:new Cm(e+r,0,null)}touches(e,t){let n=0,r=Sm(t),o=this.inverted?2:1,i=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let s=this.ranges[t]-(this.inverted?n:0);if(s>e)break;let l=this.ranges[t+o];if(e<=s+l&&t==3*r)return!0;n+=this.ranges[t+i]-l}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],s=i-(this.inverted?o:0),l=i+(this.inverted?0:o),a=this.ranges[r+t],c=this.ranges[r+n];e(s,s+a,l,l+c),o+=c-a}}invert(){return new Dm(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?Dm.empty:new Dm(e<0?[0,-e,0]:[0,0,e])}}Dm.empty=new Dm([]);class Em{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new Em(this.maps,this.mirror,e,t)}copy(){return new Em(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new Em;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let o=this.maps[n].mapResult(e,t);if(null!=o.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this.maps[t].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return n?e:new Cm(e,r,null)}}const Tm=Object.create(null);class Mm{getMap(){return Dm.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Tm[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Tm)throw new RangeError("Duplicate use of step JSON ID "+e);return Tm[e]=t,t.prototype.jsonID=e,t}}class Am{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Am(e,null)}static fail(e){return new Am(null,e)}static fromReplace(e,t,n,r){try{return Am.ok(e.replace(t,n,r))}catch(e){if(e instanceof Df)return Am.fail(e.message);throw e}}}function Om(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(Om(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return wf.fromArray(r)}class Im extends Mm{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new Ef(Om(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),r),t.openStart,t.openEnd);return Am.fromReplace(e,this.from,this.to,o)}invert(){return new Nm(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Im(t.pos,n.pos,this.mark)}merge(e){return e instanceof Im&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Im(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Im(t.from,t.to,e.markFromJSON(t.mark))}}Mm.jsonID("addMark",Im);class Nm extends Mm{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Ef(Om(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return Am.fromReplace(e,this.from,this.to,n)}invert(){return new Im(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Nm(t.pos,n.pos,this.mark)}merge(e){return e instanceof Nm&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Nm(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Nm(t.from,t.to,e.markFromJSON(t.mark))}}Mm.jsonID("removeMark",Nm);class Rm extends Mm{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Am.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Am.fromReplace(e,this.pos,this.pos+1,new Ef(wf.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new Rm(this.pos,t.marks[n]);return new Rm(this.pos,this.mark)}}return new Lm(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Rm(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Rm(t.pos,e.markFromJSON(t.mark))}}Mm.jsonID("addNodeMark",Rm);class Lm extends Mm{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Am.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Am.fromReplace(e,this.pos,this.pos+1,new Ef(wf.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new Rm(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Lm(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Lm(t.pos,e.markFromJSON(t.mark))}}Mm.jsonID("removeNodeMark",Lm);class Fm extends Mm{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&zm(e,this.from,this.to)?Am.fail("Structure replace would overwrite content"):Am.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Dm([this.from,this.to-this.from,this.slice.size])}invert(e){return new Fm(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Fm(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Fm)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?Ef.empty:new Ef(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Fm(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?Ef.empty:new Ef(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Fm(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Fm(t.from,t.to,Ef.fromJSON(e,t.slice),!!t.structure)}}Mm.jsonID("replace",Fm);class Pm extends Mm{constructor(e,t,n,r,o,i,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=s}apply(e){if(this.structure&&(zm(e,this.from,this.gapFrom)||zm(e,this.gapTo,this.to)))return Am.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Am.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Am.fromReplace(e,this.from,this.to,n):Am.fail("Content does not fit in gap")}getMap(){return new Dm([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Pm(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new Pm(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Pm(t.from,t.to,t.gapFrom,t.gapTo,Ef.fromJSON(e,t.slice),t.insert,!!t.structure)}}function zm(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let e=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function $m(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Bm(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!$m(r,o,i))break}return null}function qm(e,t,n=null,r=e){let o=function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(r,o,s)?i:null}(e,t),i=o&&function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let e=r;l&&e<o;e++)l=l.matchType(n.child(e).type);return l&&l.validEnd?s:null}(r,t);return i?o.map(Vm).concat({type:t,attrs:n}).concat(i.map(Vm)):null}function Vm(e){return{type:e,attrs:null}}function jm(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let e=o.depth-1,t=n-2;e>i;e--,t--){let n=o.node(e),i=o.index(e);if(n.type.spec.isolating)return!1;let s=n.content.cutByIndex(i,n.childCount),l=r&&r[t+1];l&&(s=s.replaceChild(0,l.type.create(l.attrs)));let a=r&&r[t]||n;if(!n.canReplace(i+1,n.childCount)||!a.type.validContent(s))return!1}let l=o.indexAfter(i),a=r&&r[0];return o.node(i).canReplaceWith(l,l,a?a.type:o.node(i+1).type)}function Hm(e,t){let n=e.resolve(t),r=n.index();return Um(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Um(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function Wm(e,t,n=-1){let r=e.resolve(t);for(let e=r.depth;;e--){let o,i,s=r.index(e);if(e==r.depth?(o=r.nodeBefore,i=r.nodeAfter):n>0?(o=r.node(e+1),s++,i=r.node(e).maybeChild(s)):(o=r.node(e).maybeChild(s-1),i=r.node(e+1)),o&&!o.isTextblock&&Um(o,i)&&r.node(e).canReplace(s,s+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function Jm(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let e=0;e<n.openStart;e++)o=o.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,i=r.index(t)+(n>0?1:0),s=r.node(t),l=!1;if(1==e)l=s.canReplace(i,i,o);else{let e=s.contentMatchAt(i).findWrapping(o.firstChild.type);l=e&&s.canReplaceWith(i,i,e[0])}if(l)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function Gm(e,t,n=t,r=Ef.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return Km(o,i,r)?new Fm(t,n,r):new Zm(o,i,r).fit()}function Km(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Mm.jsonID("replaceAround",Pm);class Zm{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=wf.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=wf.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let o=this.placed,i=n.depth,s=r.depth;for(;i&&s&&1==o.childCount;)o=o.firstChild.content,i--,s--;let l=new Ef(o,i,s);return e>-1?new Pm(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new Fm(n.pos,r.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){e=n;break}t=o.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=Qm(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let o=e.firstChild;for(let e=this.depth;e>=0;e--){let i,{type:s,match:l}=this.frontier[e],a=null;if(1==t&&(o?l.matchType(o.type)||(a=l.fillBefore(wf.from(o),!1)):r&&s.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:e,parent:r,inject:a};if(2==t&&o&&(i=l.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:e,parent:r,wrap:i};if(r&&l.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Qm(e,t);return!(!r.childCount||r.firstChild.isLeaf||(this.unplaced=new Ef(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),0))}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Qm(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new Ef(Ym(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new Ef(Ym(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let e=0;e<o.length;e++)this.openFrontierNode(o[e]);let i=this.unplaced,s=n?n.content:i.content,l=i.openStart-e,a=0,c=[],{match:u,type:h}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));u=u.matchFragment(r)}let d=s.size+e-(i.content.size-i.openEnd);for(;a<s.childCount;){let e=s.child(a),t=u.matchType(e.type);if(!t)break;a++,(a>1||0==l||e.content.size)&&(u=t,c.push(eg(e.mark(h.allowedMarks(e.marks)),1==a?l:0,a==s.childCount?d:-1)))}let p=a==s.childCount;p||(d=-1),this.placed=Xm(this.placed,t,wf.from(c)),this.frontier[t].match=u,p&&d<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=s;e<d;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=p?0==e?Ef.empty:new Ef(Ym(i.content,e-1,1),e-1,d<0?i.openEnd:e-1):new Ef(Ym(i.content,e,a),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!tg(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=tg(e,t,r,n,o);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=tg(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:i,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Xm(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Xm(this.placed,this.depth,wf.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(wf.empty,!0);e.childCount&&(this.placed=Xm(this.placed,this.frontier.length,e))}}function Ym(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Ym(e.firstChild.content,t-1,n)))}function Xm(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Xm(e.lastChild.content,t-1,n)))}function Qm(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function eg(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,eg(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(wf.empty,!0)))),e.copy(r)}function tg(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,s);return l&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,s)?l:null}function ng(e,t,n,r,o){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(ng(o.content,t+1,n,r,o)))}if(t>r){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(wf.empty,!0))}return e}function rg(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}class og extends Mm{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Am.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Am.fromReplace(e,this.pos,this.pos+1,new Ef(wf.from(r),0,t.isLeaf?0:1))}getMap(){return Dm.empty}invert(e){return new og(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new og(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new og(t.pos,t.attr,t.value)}}Mm.jsonID("attr",og);let ig=class extends Error{};ig=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(ig.prototype=Object.create(Error.prototype)).constructor=ig,ig.prototype.name="TransformError";class sg{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Em}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new ig(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Ef.empty){let r=Gm(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new Ef(wf.from(n),0,0))}delete(e,t){return this.replace(e,t,Ef.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(Km(o,i,r))return e.step(new Fm(t,n,r));let s=rg(o,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let e=o.depth,t=o.pos-1;e>0;e--,t--){let n=o.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;s.indexOf(e)>-1?l=e:o.before(e)==t&&s.splice(1,0,-e)}let a=s.indexOf(l),c=[],u=r.openStart;for(let e=r.content,t=0;;t++){let n=e.firstChild;if(c.push(n),t==r.openStart)break;e=n.content}for(let e=u-1;e>=0;e--){let t=c[e],n=(h=t.type).spec.defining||h.spec.definingForContent;if(n&&!t.sameMarkup(o.node(Math.abs(l)-1)))u=e;else if(n||!t.type.isTextblock)break}var h;for(let t=r.openStart;t>=0;t--){let l=(t+u+1)%(r.openStart+1),h=c[l];if(h)for(let t=0;t<s.length;t++){let c=s[(t+a)%s.length],u=!0;c<0&&(u=!1,c=-c);let d=o.node(c-1),p=o.index(c-1);if(d.canReplaceWith(p,p,h.type,h.marks))return e.replace(o.before(c),u?i.after(c):n,new Ef(ng(r.content,0,r.openStart,l),l,r.openEnd))}}let d=e.steps.length;for(let l=s.length-1;l>=0&&(e.replace(t,n,r),!(e.steps.length>d));l--){let e=s[l];e<0||(t=o.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)return null}return null}(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new Ef(wf.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=rg(r,o);for(let t=0;t<i.length;t++){let n=i[t],s=t==i.length-1;if(s&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),o.end(n));if(n>0&&(s||r.node(n-1).canReplace(r.index(n-1),o.indexAfter(n-1))))return e.delete(r.before(n),o.after(n))}for(let i=1;i<=r.depth&&i<=o.depth;i++)if(t-r.start(i)==r.depth-i&&n>r.end(i)&&o.end(i)-n!=o.depth-i)return e.delete(r.before(i),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:o,depth:i}=t,s=r.before(i+1),l=o.after(i+1),a=s,c=l,u=wf.empty,h=0;for(let e=i,t=!1;e>n;e--)t||r.index(e)>0?(t=!0,u=wf.from(r.node(e).copy(u)),h++):a--;let d=wf.empty,p=0;for(let e=i,t=!1;e>n;e--)t||o.after(e+1)<o.end(e)?(t=!0,d=wf.from(o.node(e).copy(d)),p++):c++;e.step(new Pm(a,c,s,l,new Ef(u.append(d),h,p),u.size-h,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let r=new Fm(t-n,t+n,Ef.empty,!0);e.step(r)}(this,e,t),this}wrap(e,t){return function(e,t,n){let r=wf.empty;for(let e=n.length-1;e>=0;e--){if(r.size){let t=n[e].type.contentMatch.matchFragment(r);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=wf.from(n[e].type.create(n[e].attrs,r))}let o=t.start,i=t.end;e.step(new Pm(o,i,o,i,new Ef(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,r=null){return function(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(r,o)&&function(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){e.clearIncompatible(e.mapping.slice(i).map(n,1),r);let s=e.mapping.slice(i),l=s.map(n,1),a=s.map(n+t.nodeSize,1);return e.step(new Pm(l,a,l+1,a-1,new Ef(wf.from(r.create(o,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return function(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Pm(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Ef(wf.from(s),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new og(e,t,n)),this}addNodeMark(e,t){return this.step(new Rm(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Cf)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new Lm(e,t)),this}split(e,t=1,n){return function(e,t,n=1,r){let o=e.doc.resolve(t),i=wf.empty,s=wf.empty;for(let e=o.depth,t=o.depth-n,l=n-1;e>t;e--,l--){i=wf.from(o.node(e).copy(i));let t=r&&r[l];s=wf.from(t?t.type.create(t.attrs,s):o.node(e).copy(s))}e.step(new Fm(t,t,new Ef(i.append(s),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let o,i,s=[],l=[];e.doc.nodesBetween(t,n,((e,a,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(a,t),h=Math.min(a+e.nodeSize,n),d=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(d)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=h:s.push(o=new Nm(c,h,u[e])));i&&i.to==c?i.to=h:l.push(i=new Im(c,h,r))}})),s.forEach((t=>e.step(t))),l.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,((e,s)=>{if(!e.isInline)return;i++;let l=null;if(r instanceof am){let t,n=e.marks;for(;t=r.isInSet(n);)(l||(l=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(l=[r]):l=e.marks;if(l&&l.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<l.length;e++){let n,a=l[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==i-1&&a.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=i):o.push({style:a,from:Math.max(s,t),to:r,step:i})}}})),o.forEach((t=>e.step(new Nm(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return function(e,t,n,r=n.contentMatch){let o=e.doc.nodeAt(t),i=[],s=t+1;for(let t=0;t<o.childCount;t++){let l=o.child(t),a=s+l.nodeSize,c=r.matchType(l.type);if(c){r=c;for(let t=0;t<l.marks.length;t++)n.allowsMarkType(l.marks[t].type)||e.step(new Nm(s,a,l.marks[t]));if(l.isText&&!n.spec.code){let e,t,r=/\r?\n|\r/g;for(;e=r.exec(l.text);)t||(t=new Ef(wf.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),i.push(new Fm(s+e.index,s+e.index+e[0].length,t))}}else i.push(new Fm(s,a,Ef.empty));s=a}if(!r.validEnd){let t=r.fillBefore(wf.empty,!0);e.replace(s,s,new Ef(t,0,0))}for(let t=i.length-1;t>=0;t--)e.step(i[t])}(this,e,t,n),this}}const lg=Object.create(null);class ag{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new cg(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Ef.empty){let n=t.content.lastChild,r=null;for(let e=0;e<t.openEnd;e++)r=n,n=n.lastChild;let o=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:a}=i[s],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(a.pos),s?Ef.empty:t),0==s&&bg(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:s}=r[o],l=e.mapping.slice(n),a=l.map(i.pos),c=l.map(s.pos);o?e.deleteRange(a,c):(e.replaceRangeWith(a,c,t),bg(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new dg(e):vg(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let o=t<0?vg(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):vg(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new gg(e.node(0))}static atStart(e){return vg(e,e,0,0,1)||new gg(e)}static atEnd(e){return vg(e,e,e.content.size,e.childCount,-1)||new gg(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=lg[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in lg)throw new RangeError("Duplicate use of selection JSON ID "+e);return lg[e]=t,t.prototype.jsonID=e,t}getBookmark(){return dg.between(this.$anchor,this.$head).getBookmark()}}ag.prototype.visible=!0;class cg{constructor(e,t){this.$from=e,this.$to=t}}let ug=!1;function hg(e){ug||e.parent.inlineContent||(ug=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class dg extends ag{constructor(e,t=e){hg(e),hg(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return ag.near(n);let r=e.resolve(t.map(this.anchor));return new dg(r.parent.inlineContent?r:n,n)}replace(e,t=Ef.empty){if(super.replace(e,t),t==Ef.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof dg&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new pg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new dg(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=ag.findFrom(t,n,!0)||ag.findFrom(t,-n,!0);if(!e)return ag.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(ag.findFrom(e,-n,!0)||ag.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new dg(e,t)}}ag.jsonID("text",dg);class pg{constructor(e,t){this.anchor=e,this.head=t}map(e){return new pg(e.map(this.anchor),e.map(this.head))}resolve(e){return dg.between(e.resolve(this.anchor),e.resolve(this.head))}}class fg extends ag{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?ag.near(o):new fg(o)}content(){return new Ef(wf.from(this.node),0,0)}eq(e){return e instanceof fg&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new mg(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new fg(e.resolve(t.anchor))}static create(e,t){return new fg(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}fg.prototype.visible=!1,ag.jsonID("node",fg);class mg{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new pg(n,n):new mg(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&fg.isSelectable(n)?new fg(t):ag.near(t)}}class gg extends ag{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Ef.empty){if(t==Ef.empty){e.delete(0,e.doc.content.size);let t=ag.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new gg(e)}map(e){return new gg(e)}eq(e){return e instanceof gg}getBookmark(){return yg}}ag.jsonID("all",gg);const yg={map(){return this},resolve:e=>new gg(e)};function vg(e,t,n,r,o,i=!1){if(t.inlineContent)return dg.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let r=t.child(s);if(r.isAtom){if(!i&&fg.isSelectable(r))return fg.create(e,n-(o<0?r.nodeSize:0))}else{let t=vg(e,r,n+o,o<0?r.childCount:0,o,i);if(t)return t}n+=r.nodeSize*o}return null}function bg(e,t,n){let r=e.steps.length-1;if(r<t)return;let o,i=e.steps[r];(i instanceof Fm||i instanceof Pm)&&(e.mapping.maps[r].forEach(((e,t,n,r)=>{null==o&&(o=r)})),e.setSelection(ag.near(e.doc.resolve(o),n)))}class kg extends sg{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return Cf.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Cf.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(ag.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function wg(e,t){return t&&e?e.bind(t):e}class xg{constructor(e,t,n){this.name=e,this.init=wg(t.init,n),this.apply=wg(t.apply,n)}}const _g=[new xg("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new xg("selection",{init:(e,t)=>e.selection||ag.atStart(t.doc),apply:e=>e.selection}),new xg("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new xg("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class Sg{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_g.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new xg(e.key,e.spec.state,e))}))}}class Cg{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let s=this.config.plugins[i];if(s.spec.appendTransaction){let l=r?r[i].n:0,a=r?r[i].state:this,c=l<t.length&&s.spec.appendTransaction.call(s,l?t.slice(l):t,a,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Cg(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new kg(this)}static create(e){let t=new Sg(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Cg(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new Sg(this.schema,e.plugins),n=t.fields,r=new Cg(t);for(let t=0;t<n.length;t++){let o=n[t].name;r[o]=this.hasOwnProperty(o)?this[o]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Sg(e.schema,e.plugins),o=new Cg(r);return r.fields.forEach((r=>{if("doc"==r.name)o.doc=Uf.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=ag.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let s=n[i],l=s.spec.state;if(s.key==r.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=l.fromJSON.call(s,e,t[i],o))}o[r.name]=r.init(e,o)}})),o}}function Dg(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=Dg(o,t,{})),n[r]=o}return n}class Eg{constructor(e){this.spec=e,this.props={},e.props&&Dg(e.props,this,this.props),this.key=e.key?e.key.key:Mg("plugin")}getState(e){return e[this.key]}}const Tg=Object.create(null);function Mg(e){return e in Tg?e+"$"+ ++Tg[e]:(Tg[e]=0,e+"$")}class Ag{constructor(e="key"){this.key=Mg(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Og=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},Ig=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let Ng=null;const Rg=function(e,t,n){let r=Ng||(Ng=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},Lg=function(e,t,n,r){return n&&(Pg(e,t,n,r,-1)||Pg(e,t,n,r,1))},Fg=/^(img|br|input|textarea|hr)$/i;function Pg(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:zg(e))){let n=e.parentNode;if(!n||1!=n.nodeType||$g(e)||Fg.test(e.nodeName)||"false"==e.contentEditable)return!1;t=Og(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?zg(e):0}}}function zg(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function $g(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Bg=function(e){return e.focusNode&&Lg(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function qg(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const Vg="undefined"!=typeof navigator?navigator:null,jg="undefined"!=typeof document?document:null,Hg=Vg&&Vg.userAgent||"",Ug=/Edge\/(\d+)/.exec(Hg),Wg=/MSIE \d/.exec(Hg),Jg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Hg),Gg=!!(Wg||Jg||Ug),Kg=Wg?document.documentMode:Jg?+Jg[1]:Ug?+Ug[1]:0,Zg=!Gg&&/gecko\/(\d+)/i.test(Hg);Zg&&(/Firefox\/(\d+)/.exec(Hg)||[0,0])[1];const Yg=!Gg&&/Chrome\/(\d+)/.exec(Hg),Xg=!!Yg,Qg=Yg?+Yg[1]:0,ey=!Gg&&!!Vg&&/Apple Computer/.test(Vg.vendor),ty=ey&&(/Mobile\/\w+/.test(Hg)||!!Vg&&Vg.maxTouchPoints>2),ny=ty||!!Vg&&/Mac/.test(Vg.platform),ry=!!Vg&&/Win/.test(Vg.platform),oy=/Android \d/.test(Hg),iy=!!jg&&"webkitFontSmoothing"in jg.documentElement.style,sy=iy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ly(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ay(e,t){return"number"==typeof e?e:e[t]}function cy(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function uy(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;s=Ig(s)){if(1!=s.nodeType)continue;let e=s,n=e==i.body,l=n?ly(i):cy(e),a=0,c=0;if(t.top<l.top+ay(r,"top")?c=-(l.top-t.top+ay(o,"top")):t.bottom>l.bottom-ay(r,"bottom")&&(c=t.bottom-t.top>l.bottom-l.top?t.top+ay(o,"top")-l.top:t.bottom-l.bottom+ay(o,"bottom")),t.left<l.left+ay(r,"left")?a=-(l.left-t.left+ay(o,"left")):t.right>l.right-ay(r,"right")&&(a=t.right-l.right+ay(o,"right")),a||c)if(n)i.defaultView.scrollBy(a,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),a&&(e.scrollLeft+=a);let o=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-o,top:t.top-i,right:t.right-o,bottom:t.bottom-i}}if(n||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function hy(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Ig(r));return t}function dy(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let py=null;function fy(e,t){let n,r,o,i,s=2e8,l=0,a=t.top,c=t.top;for(let u=e.firstChild,h=0;u;u=u.nextSibling,h++){let e;if(1==u.nodeType)e=u.getClientRects();else{if(3!=u.nodeType)continue;e=Rg(u).getClientRects()}for(let d=0;d<e.length;d++){let p=e[d];if(p.top<=a&&p.bottom>=c){a=Math.max(p.bottom,a),c=Math.min(p.top,c);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<s){n=u,s=e,r=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==u.nodeType&&e&&(l=h+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!o&&p.left<=t.left&&p.right>=t.left&&(o=u,i={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(l=h+1)}}return!n&&o&&(n=o,r=i,s=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=by(r,1);if(n.top!=n.bottom&&my(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||s&&1==n.nodeType?{node:e,offset:l}:fy(n,r)}function my(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function gy(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(my(t,o))return gy(n,t,o)}}if((i=(i+1)%r)==o)break}return e}function yy(e,t){let n,r=e.dom.ownerDocument,o=0,i=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(e){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}(r,t.left,t.top);i&&({node:n,offset:o}=i);let s,l=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!l||!e.dom.contains(1!=l.nodeType?l.parentNode:l)){let n=e.dom.getBoundingClientRect();if(!my(t,n))return null;if(l=gy(e.dom,t,n),!l)return null}if(ey)for(let e=l;n&&e;e=Ig(e))e.draggable&&(n=void 0);if(l=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(l,t),n){if(Zg&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(s=function(e,t,n,r){let o=-1;for(let n=t,i=!1;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(1==t.dom.nodeType&&(t.node.isBlock&&t.parent&&!i||!t.contentDOM)){let e=t.dom.getBoundingClientRect();if(t.node.isBlock&&t.parent&&!i&&(i=!0,e.left>r.left||e.top>r.top?o=t.posBefore:(e.right<r.left||e.bottom<r.top)&&(o=t.posAfter)),!t.contentDOM&&o<0&&!t.node.isText)return(t.node.isBlock?r.top<(e.top+e.bottom)/2:r.left<(e.left+e.right)/2)?t.posBefore:t.posAfter}n=t.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}(e,n,o,t))}null==s&&(s=function(e,t,n){let{node:r,offset:o}=fy(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}(e,l,t));let a=e.docView.nearestDesc(l,!0);return{pos:s,inside:a?a.posAtStart-a.border:-1}}function vy(e){return e.top<e.bottom||e.left<e.right}function by(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(vy(e))return e}return Array.prototype.find.call(n,vy)||e.getBoundingClientRect()}const ky=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function wy(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=iy||Zg;if(3==r.nodeType){if(!s||!ky.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,i=n<0?1:-1;return n<0&&!o?(t++,i=-1):n>=0&&o==r.nodeValue.length?(e--,i=1):n<0?e--:t++,xy(by(Rg(r,e,t),i),i<0)}{let e=by(Rg(r,o,o),n);if(Zg&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=by(Rg(r,o-1,o-1),-1);if(t.top==e.top){let n=by(Rg(r,o,o+1),-1);if(n.top!=e.top)return xy(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(null==i&&o&&(n<0||o==zg(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return _y(e.getBoundingClientRect(),!1)}if(null==i&&o<zg(r)){let e=r.childNodes[o];if(1==e.nodeType)return _y(e.getBoundingClientRect(),!0)}return _y(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==zg(r))){let e=r.childNodes[o-1],t=3==e.nodeType?Rg(e,zg(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return xy(by(t,1),!1)}if(null==i&&o<zg(r)){let e=r.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?Rg(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return xy(by(t,-1),!0)}return xy(by(3==r.nodeType?Rg(r):r,-n),n>=0)}function xy(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function _y(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Sy(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}const Cy=/[\u0590-\u08ac]/;let Dy=null,Ey=null,Ty=!1;class My{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>Og(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let t=0;n<this.children.length;n++){let o=this.children[n],i=t+o.size;if(i>e||o instanceof Fy){r=e-t;break}t=i}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let e;n&&!(e=this.children[n-1]).size&&e instanceof Ay&&e.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?Og(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?Og(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,s=0;;s++){let n=this.children[s],l=i+n.size;if(-1==r&&e<=l){let o=i+n.border;if(e>=o&&t<=l-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=i;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=Og(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(l>t||s==this.children.length-1)){t=l;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=Og(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let o=Math.min(e,t),i=Math.max(e,t);for(let s=0,l=0;s<this.children.length;s++){let a=this.children[s],c=l+a.size;if(o>l&&i<c)return a.setSelection(e-l-a.border,t-l-a.border,n,r);l=c}let s=this.domFromPos(e,e?-1:1),l=t==e?s:this.domFromPos(t,t?-1:1),a=n.getSelection(),c=!1;if((Zg||ey)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(c=!(!t||"\n"!=e.nodeValue[t-1]),c&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(s=l={node:t.parentNode,offset:Og(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Zg&&a.focusNode&&a.focusNode!=l.node&&1==a.focusNode.nodeType){let e=a.focusNode.childNodes[a.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&ey)&&Lg(s.node,s.offset,a.anchorNode,a.anchorOffset)&&Lg(l.node,l.offset,a.focusNode,a.focusOffset))return;let u=!1;if((a.extend||e==t)&&!c){a.collapse(s.node,s.offset);try{e!=t&&a.extend(l.node,l.offset),u=!0}catch(e){}}if(!u){if(e>t){let e=s;s=l,l=e}let n=document.createRange();n.setEnd(l.node,l.offset),n.setStart(s.node,s.offset),a.removeAllRanges(),a.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+o.border,s=i-o.border;if(e>=r&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=r||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Ay extends My{constructor(e,t,n,r){let o,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,(()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r))),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Oy extends My{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class Iy extends My{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let o=r.nodeViews[t.type.name],i=o&&o(t,r,n);return i&&i.dom||(i=km.renderSpec(document,t.type.spec.toDOM(t,n))),new Iy(e,t,i.dom,i.contentDOM||i.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=Iy.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=Ky(o,t,i,n)),e>0&&(o=Ky(o,0,e,n));for(let e=0;e<o.length;e++)o[e].parent=r;return r.children=o,r}}class Ny extends My{constructor(e,t,n,r,o,i,s,l,a){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(e,t,n,r,o,i){let s,l=o.nodeViews[t.type.name],a=l&&l(t,o,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i),n,r),c=a&&a.dom,u=a&&a.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:u}=km.renderSpec(document,t.type.spec.toDOM(t)));u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let h=c;return c=Hy(c,n,t),a?s=new Py(e,t,n,r,c,u||null,h,a,o,i+1):t.isText?new Ly(e,t,n,r,c,h,o):new Ny(e,t,n,r,c,u||null,h,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>wf.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Uy(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,i=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new Jy(this,i&&i.node,e);!function(e,t,n,r){let o=t.locals(e),i=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,o,t.forChild(i,s),n),i+=s.nodeSize}return}let s=0,l=[],a=null;for(let c=0;;){if(s<o.length&&o[s].to==i){let e,t=o[s++];for(;s<o.length&&o[s].to==i;)(e||(e=[t])).push(o[s++]);if(e){e.sort(Gy);for(let t=0;t<e.length;t++)n(e[t],c,!!a)}else n(t,c,!!a)}let u,h;if(a)h=-1,u=a,a=null;else{if(!(c<e.childCount))break;h=c,u=e.child(c++)}for(let e=0;e<l.length;e++)l[e].to<=i&&l.splice(e--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)l.push(o[s++]);let d=i+u.nodeSize;if(u.isText){let e=d;s<o.length&&o[s].from<e&&(e=o[s].from);for(let t=0;t<l.length;t++)l[t].to<e&&(e=l[t].to);e<d&&(a=u.cut(e-i),u=u.cut(0,e-i),d=e,h=-1)}r(u,u.isInline&&!u.isLeaf?l.filter((e=>!e.inline)):l.slice(),t.forChild(i,u),h),i=d}}(this.node,this.innerDeco,((t,o,i)=>{t.spec.marks?l.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&l.syncToMarks(o==this.node.childCount?Cf.none:this.node.child(o).marks,n,e),l.placeWidget(t,e,r)}),((t,i,a,c)=>{let u;l.syncToMarks(t.marks,n,e),l.findNodeMatch(t,i,a,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(t,i,a,u,e)||l.updateNextNode(t,i,a,e,c,r)||l.addNode(t,i,a,e,r),r+=t.nodeSize})),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),zy(this.contentDOM,this.children,e),ty&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof dg)||n<t||r>t+this.node.content.size)return null;let o=e.domSelectionRange(),i=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=zg(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(o.focusNode,o.focusOffset);if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let e=i.nodeValue,o=function(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),l=i;if(i+=s.nodeSize,!s.isText)continue;let a=s.text;for(;o<e.childCount;){let t=e.child(o++);if(i+=t.nodeSize,!t.isText)break;a+=t.text}if(i>=n){let e=l<r?a.lastIndexOf(t,r-l-1):-1;if(e>=0&&e+t.length+l>=n)return l+e;if(n==r&&a.length>=r+t.length-l&&a.slice(r-l,r-l+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return o<0?null:{node:i,pos:o,text:e}}return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new Oy(this,o,t,r);e.input.compositionNodes.push(i),this.children=Ky(this.children,n,n+r.length,e,i)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,r),0))}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(Uy(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Vy(this.dom,this.nodeDOM,qy(this.outerDeco,this.node,t),qy(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Ry(e,t,n,r,o){Hy(r,t,e);let i=new Ny(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class Ly extends Ny{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o,null,i,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new Ly(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class Fy extends My{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Py extends Ny{constructor(e,t,n,r,o,i,s,l,a,c){super(e,t,n,r,o,i,s,a,c),this.spec=l}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function zy(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],l=s.dom;if(l.parentNode==e){for(;l!=r;)r=Wy(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(l,r);if(s instanceof Iy){let t=r?r.previousSibling:e.lastChild;zy(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=Wy(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const $y=function(e){e&&(this.nodeName=e)};$y.prototype=Object.create(null);const By=[new $y];function qy(e,t,n){if(0==e.length)return By;let r=n?By[0]:new $y,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new $y(s.nodeName));for(let e in s){let i=s[e];null!=i&&(n&&1==o.length&&o.push(r=new $y(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return o}function Vy(e,t,n,r){if(n==By&&r==By)return t;let o=t;for(let t=0;t<r.length;t++){let i=r[t],s=n[t];if(t){let t;s&&s.nodeName==i.nodeName&&o!=e&&(t=o.parentNode)&&t.nodeName.toLowerCase()==i.nodeName||(t=document.createElement(i.nodeName),t.pmIsDeco=!0,t.appendChild(o),s=By[0]),o=t}jy(o,s||By[0],i)}return o}function jy(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function Hy(e,t,n){return Vy(e,e,By,qy(t,n,1!=e.nodeType))}function Uy(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Wy(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Jy{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:for(;o>0;){let l;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof Iy)){l=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=e.child(o-1))break;--o,i.set(l,o),s.push(l)}}return{index:o,matched:i,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,i=Math.min(o,e.length);for(;r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[o])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=Iy.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let r=this.index,o=Math.min(this.top.children.length,r+5);r<o;r++){let o=this.top.children[r];if(o.matchesNode(e,t,n)&&!this.preMatch.matched.has(o)){i=r;break}}return!(i<0||(this.destroyBetween(this.index,i),this.index++,0))}updateNodeAt(e,t,n,r,o){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o,i){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Ny){let a=this.preMatch.matched.get(l);if(null!=a&&a!=o)return!1;let c,u=l.dom,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&3!=l.dirty&&Uy(t,l.outerDeco));if(!h&&l.update(e,t,n,r))return this.destroyBetween(this.index,s),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(c=this.recreateWrapper(l,e,t,n,r,i)))return this.top.children[this.index]=c,c.dirty=2,c.updateChildren(r,i+1),c.dirty=0,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,o,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;let s=Ny.create(this.top,t,n,r,o,i);if(!s.contentDOM)return null;s.children=e.children,e.children=[],e.destroy();for(let e of s.children)e.parent=s;return s}addNode(e,t,n,r,o){let i=Ny.create(this.top,e,t,n,r,o);i.contentDOM&&i.updateChildren(r,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new Ay(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Iy;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Ly)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ey||Xg)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new Fy(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function Gy(e,t){return e.type.side-t.type.side}function Ky(e,t,n,r,o){let i=[];for(let s=0,l=0;s<e.length;s++){let a=e[s],c=l,u=l+=a.size;c>=n||u<=t?i.push(a):(c<t&&i.push(a.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(a.slice(n-c,a.size,r)))}return i}function Zy(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l,a,c=r.resolve(s);if(Bg(n)){for(l=c;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&fg.isSelectable(e)&&o.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,o=t==zg(e);r||o;){if(e==n)return!0;let t=Og(e);if(!(e=e.parentNode))return!1;r=r&&0==t,o=o&&t==zg(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;a=new fg(s==e?c:r.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;l=r.resolve(t)}return a||(a=iv(e,l,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)),a}function Yy(e){return e.editable?e.hasFocus():lv(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Xy(e,t=!1){let n=e.state.selection;if(rv(e,n),Yy(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Xg){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&Lg(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,Og(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&Gg&&Kg<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{let r,o,{anchor:i,head:s}=n;!Qy||n instanceof dg||(n.$from.parent.inlineContent||(r=ev(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=ev(e,n.to))),e.docView.setSelection(i,s,e.root,t),Qy&&(r&&nv(r),o&&nv(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{Yy(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Qy=ey||Xg&&Qg<63;function ev(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(ey&&o&&"false"==o.contentEditable)return tv(o);if(!(o&&"false"!=o.contentEditable||i&&"false"!=i.contentEditable)){if(o)return tv(o);if(i)return tv(i)}}function tv(e){return e.contentEditable="true",ey&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function nv(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function rv(e,t){if(t instanceof fg){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(ov(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else ov(e)}function ov(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function iv(e,t,n,r){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||dg.between(t,n,r)}function sv(e){return!(e.editable&&!e.hasFocus())&&lv(e)}function lv(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function av(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&ag.findFrom(i,t)}function cv(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function uv(e,t,n){let r=e.state.selection;if(!(r instanceof dg)){if(r instanceof fg&&r.node.isInline)return cv(e,new dg(t>0?r.$to:r.$from));{let n=av(e.state,t);return!!n&&cv(e,n)}}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=av(e.state,t);return!!(n&&n instanceof fg)&&cv(e,n)}if(!(ny&&n.indexOf("m")>-1)){let n,o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText)return!1;let s=t<0?o.pos-i.nodeSize:o.pos;return!!(i.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(fg.isSelectable(i)?cv(e,new fg(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):!!iy&&cv(e,new dg(e.state.doc.resolve(t<0?s:s+i.nodeSize))))}}function hv(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function dv(e){if("false"==e.contentEditable)return!0;let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function pv(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=!1;for(Zg&&1==n.nodeType&&r<hv(n)&&dv(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(dv(e))o=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(mv(n))break;{let t=n.previousSibling;for(;t&&dv(t);)o=n.parentNode,i=Og(t),t=t.previousSibling;if(t)n=t,r=hv(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?gv(e,n,r):o&&gv(e,o,i)}(e):fv(e)}function fv(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=hv(n);for(;;)if(r<s){if(1!=n.nodeType)break;if(!dv(n.childNodes[r]))break;o=n,i=++r}else{if(mv(n))break;{let t=n.nextSibling;for(;t&&dv(t);)o=t.parentNode,i=Og(t)+1,t=t.nextSibling;if(t)n=t,r=0,s=hv(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}o&&gv(e,o,i)}function mv(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function gv(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!$g(e);)t=Og(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){if(3==(e=e.childNodes[t]).nodeType)return e;t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!$g(e);)t=Og(e),e=e.parentNode;for(;e&&t;){if(3==(e=e.childNodes[t-1]).nodeType)return e;t=e.childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(Bg(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout((()=>{e.state==o&&Xy(e)}),50)}function yv(e,t){let n=e.state.doc.resolve(t);if(!Xg&&!ry&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function vv(e,t,n){let r=e.state.selection;if(r instanceof dg&&!r.empty||n.indexOf("s")>-1)return!1;if(ny&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=av(e.state,t);if(n&&n instanceof fg)return cv(e,n)}if(!o.parent.inlineContent){let n=t<0?o:i,s=r instanceof gg?ag.near(n,t):ag.findFrom(n,t);return!!s&&cv(e,s)}return!1}function bv(e,t){if(!(e.state.selection instanceof dg))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function kv(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function wv(e,t){e.someProp("transformCopied",(n=>{t=n(t,e)}));let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||km.fromSchema(e.state.schema),l=Ov(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let c,u=a.firstChild,h=0;for(;u&&1==u.nodeType&&(c=Mv[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=l.createElement(c[e]);for(;a.firstChild;)t.appendChild(a.firstChild);a.appendChild(t),h++}u=a.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${o} ${i}${h?` -${h}`:""} ${JSON.stringify(n)}`),{dom:a,text:e.someProp("clipboardTextSerializer",(n=>n(t,e)))||t.content.textBetween(0,t.content.size,"\n\n")}}function xv(e,t,n,r,o){let i,s,l=o.parent.type.spec.code;if(!n&&!t)return null;let a=t&&(r||l||!n);if(a){if(e.someProp("transformPastedText",(n=>{t=n(t,l||r,e)})),l)return t?new Ef(wf.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):Ef.empty;let n=e.someProp("clipboardTextParser",(n=>n(t,o,r,e)));if(n)s=n;else{let n=o.marks(),{schema:r}=e.state,s=km.fromSchema(r);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(t=>{n=t(n,e)})),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=Ov().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);if((n=o&&Mv[o[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join("")),r.innerHTML=e,n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}(n),iy&&function(e){let t=e.querySelectorAll(Xg?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let e=+u[3];e>0;e--){let e=i.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;i=e}if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||um.fromSchema(e.state.schema);s=t.parseSlice(i,{preserveWhitespace:!(!a&&!u),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||_v.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)s=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:o,openStart:i,openEnd:s}=e;for(let e=n.length-2;e>=0;e-=2){let t=r.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;o=wf.from(t.create(n[e+1],o)),i++,s++}return new Ef(o,i,s)}(Tv(s,+u[1],+u[2]),u[4]);else if(s=Ef.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach((e=>{if(!i)return;let t,n=o.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&r.length&&Cv(n,r,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=Dv(i[i.length-1],r.length));let t=Sv(e,n);i.push(t),o=o.matchType(t.type),r=n}})),i)return wf.from(i)}return e}(s.content,o),!0),s.openStart||s.openEnd){let e=0,t=0;for(let t=s.content.firstChild;e<s.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=s.content.lastChild;t<s.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);s=Tv(s,e,t)}return e.someProp("transformPasted",(t=>{s=t(s,e)})),s}const _v=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Sv(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,wf.from(e));return e}function Cv(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=Cv(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(wf.from(Sv(n,e,o+1))))}}function Dv(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,Dv(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(wf.empty,!0);return e.copy(n.append(r))}function Ev(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,l=s.content;return e.childCount>1&&(i=0),o<r-1&&(l=Ev(l,t,n,r,o+1,i)),o>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,i<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(wf.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}function Tv(e,t,n){return t<e.openStart&&(e=new Ef(Ev(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Ef(Ev(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Mv={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Av=null;function Ov(){return Av||(Av=document.implementation.createHTMLDocument("title"))}const Iv={},Nv={},Rv={touchstart:!0,touchmove:!0};class Lv{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Fv(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Pv(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>zv(e,t))}))}function zv(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function $v(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Bv(e){return{left:e.clientX,top:e.clientY}}function qv(e,t,n,r,o){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let r=i.depth+1;r>0;r--)if(e.someProp(t,(t=>r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1))))return!0;return!1}function Vv(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function jv(e,t,n,r){return qv(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function Hv(e,t,n,r){return qv(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(n=>n(e,t,r)))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Vv(e,dg.create(r,0,r.content.size),"pointer"),!0);let o=r.resolve(t);for(let t=o.depth+1;t>0;t--){let n=t>o.depth?o.nodeAfter:o.node(t),i=o.before(t);if(n.inlineContent)Vv(e,dg.create(r,i+1,i+1+n.content.size),"pointer");else{if(!fg.isSelectable(n))continue;Vv(e,fg.create(r,i),"pointer")}return!0}}(e,n,r)}function Uv(e){return Xv(e)}Nv.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!Gv(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!oy||!Xg||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!ty||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||function(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||ny&&72==n&&"c"==r)return bv(e,-1)||pv(e,-1);if(46==n&&!t.shiftKey||ny&&68==n&&"c"==r)return bv(e,1)||pv(e,1);if(13==n||27==n)return!0;if(37==n||ny&&66==n&&"c"==r){let t=37==n?"ltr"==yv(e,e.state.selection.from)?-1:1:-1;return uv(e,t,r)||pv(e,t)}if(39==n||ny&&70==n&&"c"==r){let t=39==n?"ltr"==yv(e,e.state.selection.from)?1:-1:1;return uv(e,t,r)||pv(e,t)}return 38==n||ny&&80==n&&"c"==r?vv(e,-1,r)||pv(e,-1):40==n||ny&&78==n&&"c"==r?function(e){if(!ey||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;kv(e,n,"true"),setTimeout((()=>kv(e,n,"false")),20)}return!1}(e)||vv(e,1,r)||fv(e):r==(ny?"m":"c")&&(66==n||73==n||89==n||90==n)}(e,n)?n.preventDefault():Fv(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,qg(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},Nv.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},Nv.keypress=(e,t)=>{let n=t;if(Gv(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||ny&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof dg&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode);/[\r\n]/.test(t)||e.someProp("handleTextInput",(n=>n(e,r.$from.pos,r.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const Wv=ny?"metaKey":"ctrlKey";Iv.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Uv(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[Wv]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let s=e.posAtCoords(Bv(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Jv(e,s,n,!!r)):("doubleClick"==i?jv:Hv)(e,s.pos,s.inside,n)?n.preventDefault():Fv(e,"pointer"))};class Jv{constructor(e,t,n,r){let o,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Wv],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,i=n.depth?n.before():0}const s=r?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:a}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||a instanceof fg&&a.from<=i&&a.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Zg||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fv(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Xy(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Bv(e))),this.updateAllowDefault(e),this.allowDefault||!t?Fv(this.view,"pointer"):function(e,t,n,r,o){return qv(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(n=>n(e,t,r)))||(o?function(e,t){if(-1==t)return!1;let n,r,o=e.state.selection;o instanceof fg&&(n=o.node);let i=e.state.doc.resolve(t);for(let e=i.depth+1;e>0;e--){let t=e>i.depth?i.nodeAfter:i.node(e);if(fg.isSelectable(t)){r=n&&o.$from.depth>0&&e>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(e);break}}return null!=r&&(Vv(e,fg.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&fg.isSelectable(r))&&(Vv(e,new fg(n),"pointer"),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||ey&&this.mightDrag&&!this.mightDrag.node.isAtom||Xg&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Vv(this.view,ag.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Fv(this.view,"pointer")}move(e){this.updateAllowDefault(e),Fv(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function Gv(e,t){return!!e.composing||!!(ey&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}Iv.touchstart=e=>{e.input.lastTouch=Date.now(),Uv(e),Fv(e,"pointer")},Iv.touchmove=e=>{e.input.lastTouch=Date.now(),Fv(e,"pointer")},Iv.contextmenu=e=>Uv(e);const Kv=oy?5e3:-1;function Zv(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>Xv(e)),t))}function Yv(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Xv(e,t=!1){if(!(oy&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Yv(e),t||e.docView&&e.docView.dirty){let t=Zy(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}Nv.compositionstart=Nv.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),Xv(e,!0),e.markCursor=null;else if(Xv(e),Zg&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){e.domSelection().collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}Zv(e,Kv)},Nv.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionPendingChanges&&Promise.resolve().then((()=>e.domObserver.flush())),e.input.compositionID++,Zv(e,20))};const Qv=Gg&&Kg<15||ty&&sy<604;function eb(e,t,n,r,o){let i=xv(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,o,i||Ef.empty))))return!0;if(!i)return!1;let s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),l=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Iv.copy=Nv.cut=(e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let i=Qv?null:n.clipboardData,s=r.content(),{dom:l,text:a}=wv(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,l),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Nv.paste=(e,t)=>{let n=t;if(e.composing&&!oy)return;let r=Qv?null:n.clipboardData,o=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&eb(e,r.getData("text/plain"),r.getData("text/html"),o,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?eb(e,r.value,null,o,t):eb(e,r.textContent,r.innerHTML,o,t)}),50)}(e,n)};class tb{constructor(e,t){this.slice=e,this.move=t}}const nb=ny?"altKey":"ctrlKey";Iv.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,i=o.empty?null:e.posAtCoords(Bv(n));if(i&&i.pos>=o.from&&i.pos<=(o instanceof fg?o.to-1:o.to));else if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(fg.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(fg.create(e.state.doc,t.posBefore)))}let s=e.state.selection.content(),{dom:l,text:a}=wv(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Qv?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Qv||n.dataTransfer.setData("text/plain",a),e.dragging=new tb(s,!n[nb])},Iv.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},Nv.dragover=Nv.dragenter=(e,t)=>t.preventDefault(),Nv.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(Bv(n));if(!o)return;let i=e.state.doc.resolve(o.pos),s=r&&r.slice;s?e.someProp("transformPasted",(t=>{s=t(s,e)})):s=xv(e,n.dataTransfer.getData(Qv?"Text":"text/plain"),Qv?null:n.dataTransfer.getData("text/html"),!1,i);let l=!(!r||n[nb]);if(e.someProp("handleDrop",(t=>t(e,n,s||Ef.empty,l))))return void n.preventDefault();if(!s)return;n.preventDefault();let a=s?Jm(e.state.doc,i.pos,s):i.pos;null==a&&(a=i.pos);let c=e.state.tr;l&&c.deleteSelection();let u=c.mapping.map(a),h=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,d=c.doc;if(h?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(d))return;let p=c.doc.resolve(u);if(h&&fg.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new fg(p));else{let t=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,r,o)=>t=o)),c.setSelection(iv(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},Iv.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Xy(e)}),20))},Iv.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},Iv.beforeinput=(e,t)=>{if(Xg&&oy&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,qg(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in Nv)Iv[e]=Nv[e];function rb(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class ob{constructor(e,t){this.toDOM=e,this.spec=t||cb,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new lb(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof ob&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&rb(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ib{constructor(e,t){this.attrs=e,this.spec=t||cb}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new lb(o,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ib&&rb(this.attrs,e.attrs)&&rb(this.spec,e.spec)}static is(e){return e.type instanceof ib}destroy(){}}class sb{constructor(e,t){this.attrs=e,this.spec=t||cb}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new lb(o.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof sb&&rb(this.attrs,e.attrs)&&rb(this.spec,e.spec)}destroy(){}}class lb{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new lb(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new lb(e,e,new ob(t,n))}static inline(e,t,n,r){return new lb(e,t,new ib(n,r))}static node(e,t,n,r){return new lb(e,t,new sb(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof ib}}const ab=[],cb={};class ub{constructor(e,t){this.local=e.length?e:ab,this.children=t.length?t:ab}static create(e,t){return t.length?gb(t,e,0,cb):hb}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let s=this.children[i]+1;this.children[i+2].findInner(e-s,t-s,n,r+s,o)}}map(e,t,n){return this==hb||0==e.maps.length?this:this.mapInner(e,t,0,0,n||cb)}mapInner(e,t,n,r,o){let i;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,r);l&&l.type.valid(t,l)?(i||(i=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,r,o,i,s){let l=e.slice();for(let e=0,t=i;e<n.maps.length;e++){let r=0;n.maps[e].forEach(((e,n,i,s)=>{let a=s-i-(n-e);for(let s=0;s<l.length;s+=3){let c=l[s+1];if(c<0||e>c+t-r)continue;let u=l[s]+t-r;n>=u?l[s+1]=e<=u?-2:-1:i>=o&&a&&(l[s]+=a,l[s+1]+=a)}r+=a})),t=n.maps[e].map(t,-1)}let a=!1;for(let t=0;t<l.length;t+=3)if(l[t+1]<0){if(-2==l[t+1]){a=!0,l[t+1]=-1;continue}let c=n.map(e[t]+i),u=c-o;if(u<0||u>=r.content.size){a=!0;continue}let h=n.map(e[t+1]+i,-1)-o,{index:d,offset:p}=r.content.findIndex(u),f=r.maybeChild(d);if(f&&p==u&&p+f.nodeSize==h){let r=l[t+2].mapInner(n,f,c+1,e[t]+i+1,s);r!=hb?(l[t]=u,l[t+1]=h,l[t+2]=r):(l[t+1]=-2,a=!0)}else a=!0}if(a){let a=function(e,t,n,r,o,i,s){function l(e,t){for(let i=0;i<e.local.length;i++){let l=e.local[i].map(r,o,t);l?n.push(l):s.onRemove&&s.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)l(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&l(e[n+2],t[n]+i+1);return n}(l,e,t,n,o,i,s),c=gb(a,r,0,s);t=c.local;for(let e=0;e<l.length;e+=3)l[e+1]<0&&(l.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<l.length&&l[t]<n;)t+=3;l.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new ub(t.sort(yb),l)}(this.children,i||[],e,t,n,r,o):i?new ub(i.sort(yb),ab):hb}add(e,t){return t.length?this==hb?ub.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach(((e,i)=>{let s,l=i+n;if(s=fb(t,e,l)){for(r||(r=this.children.slice());o<r.length&&r[o]<i;)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(e,s,l+1):r.splice(o,0,i,i+e.nodeSize,gb(s,e,l+1,cb)),o+=3}}));let i=pb(o?mb(t):t,-n);for(let t=0;t<i.length;t++)i[t].type.valid(e,i[t])||i.splice(t--,1);return new ub(i.length?this.local.concat(i).sort(yb):this.local,r||this.children)}remove(e){return 0==e.length||this==hb?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let o,i=n[r]+t,s=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<s&&(e[n]=null,(o||(o=[])).push(t));if(!o)continue;n==this.children&&(n=this.children.slice());let l=n[r+2].removeInner(o,i+1);l!=hb?n[r+2]=l:(n.splice(r,3),r-=3)}if(r.length)for(let n,o=0;o<e.length;o++)if(n=e[o])for(let e=0;e<r.length;e++)r[e].eq(n,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new ub(r,n):hb}forChild(e,t){if(this==hb)return this;if(t.isLeaf)return ub.empty;let n,r;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let o=e+1,i=o+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<i&&t.to>o&&t.type instanceof ib){let e=Math.max(o,t.from)-o,n=Math.min(i,t.to)-o;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new ub(r.sort(yb),ab);return n?new db([e,n]):e}return n||hb}eq(e){if(this==e)return!0;if(!(e instanceof ub)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return vb(this.localsInner(e))}localsInner(e){if(this==hb)return ab;if(e.inlineContent||!this.local.some(ib.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof ib||t.push(this.local[e]);return t}}ub.empty=new ub([],[]),ub.removeOverlap=vb;const hb=ub.empty;class db{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,cb)));return db.from(n)}forChild(e,t){if(t.isLeaf)return ub.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=hb&&(o instanceof db?n=n.concat(o.members):n.push(o))}return db.from(n)}eq(e){if(!(e instanceof db)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?vb(n?t:t.sort(yb)):ab}static from(e){switch(e.length){case 0:return hb;case 1:return e[0];default:return new db(e.every((e=>e instanceof ub))?e:e.reduce(((e,t)=>e.concat(t instanceof ub?t:t.members)),[]))}}}function pb(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new lb(o.from+t,o.to+t,o.type))}return n}function fb(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let t,i=0;i<e.length;i++)(t=e[i])&&t.from>n&&t.to<r&&((o||(o=[])).push(t),e[i]=null);return o}function mb(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function gb(e,t,n,r){let o=[],i=!1;t.forEach(((t,s)=>{let l=fb(e,t,s+n);if(l){i=!0;let e=gb(l,t,n+s+1,r);e!=hb&&o.push(s,s+t.nodeSize,e)}}));let s=pb(i?mb(e):e,-n).sort(yb);for(let e=0;e<s.length;e++)s[e].type.valid(t,s[e])||(r.onRemove&&r.onRemove(s[e].spec),s.splice(e--,1));return s.length||o.length?new ub(s,o):hb}function yb(e,t){return e.from-t.from||e.to-t.to}function vb(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),bb(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),bb(t,o+1,i.copy(r.to,i.to)))}}return t}function bb(e,t,n){for(;t<e.length&&yb(n,e[t])>0;)t++;e.splice(t,0,n)}function kb(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=hb&&t.push(r)})),e.cursorWrapper&&t.push(ub.create(e.state.doc,[e.cursorWrapper.deco])),db.from(t)}const wb={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},xb=Gg&&Kg<=11;class _b{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Sb{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _b,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);Gg&&Kg<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),xb&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,wb)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(sv(this.view)){if(this.suppressingSelectionUpdates)return Xy(this.view);if(Gg&&Kg<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Lg(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let t=e.focusNode;t;t=Ig(t))n.add(t);for(let r=e.anchorNode;r;r=Ig(r))if(n.has(r)){t=r;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&sv(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,s=!1,l=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],l);n&&(o=o<0?n.from:Math.min(n.from,o),i=i<0?n.to:Math.max(n.to,i),n.typeOver&&(s=!0))}if(Zg&&l.length>1){let e=l.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}let a=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Bg(n)&&(a=Zy(e))&&a.eq(ag.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Xy(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),function(e){if(!Cb.has(e)&&(Cb.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))){if(e.requiresGeckoHackNode=Zg,Db)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Db=!0}}(e)),this.handleDOMChange(o,i,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Xy(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(Gg&&Kg<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==e.target?Og(r)+1:0,s=n.localPosFromDOM(e.target,i,-1),l=o&&o.parentNode==e.target?Og(o):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,l,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Cb=new WeakMap,Db=!1;function Eb(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(ey&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||ey&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Tb=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Mb(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:iv(e,t.resolve(n.anchor),t.resolve(n.head))}function Ab(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}class Ob{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Lv,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Fb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Rb(this),Nb(this),this.nodeViews=Lb(this),this.docView=Ry(this.state.doc,Ib(this),kb(this),this.dom,this),this.domObserver=new Sb(this,((e,t,n,r)=>function(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Zy(e,t);if(n&&!e.state.selection.eq(n)){if(Xg&&oy&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",(t=>t(e,qg(13,"Enter")))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),i&&r.setMeta("composition",i),e.dispatch(r)}return}let s=e.state.doc.resolve(t),l=s.sharedDepth(n);t=s.before(l+1),n=e.state.doc.resolve(n).after(l+1);let a,c,u=e.state.selection,h=function(e,t,n){let r,{node:o,fromOffset:i,toOffset:s,from:l,to:a}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],Bg(c)||r.push({node:c.focusNode,offset:c.focusOffset})),Xg&&8===e.input.lastKeyCode)for(let e=s;e>i;e--){let t=o.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){s=e;break}if(!n||n.size)break}let h=e.state.doc,d=e.someProp("domParser")||um.fromSchema(e.state.schema),p=h.resolve(l),f=null,m=d.parse(o,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:Eb,context:p});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),f={anchor:e+l,head:t+l}}return{doc:m,sel:f,from:l,to:a}}(e,t,n),d=e.state.doc,p=d.slice(h.from,h.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(a=e.state.selection.to,c="end"):(a=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let f=function(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:s,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);return"end"==o&&(r-=s+Math.max(0,i-Math.min(s,l))-i),s<i&&e.size<t.size?(i-=r<=i&&r>=s?i-r:0,l=i+(l-s),s=i):l<i&&(i-=r<=i&&r>=l?i-r:0,s=i+(s-l),l=i),{start:i,endA:s,endB:l}}(p.content,h.doc.content,h.from,a,c);if((ty&&e.input.lastIOSEnter>Date.now()-225||oy)&&o.some((e=>1==e.nodeType&&!Tb.test(e.nodeName)))&&(!f||f.endA>=f.endB)&&e.someProp("handleKeyDown",(t=>t(e,qg(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!f){if(!(r&&u instanceof dg&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||h.sel&&h.sel.anchor!=h.sel.head){if(h.sel){let t=Mb(e,e.state.doc,h.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);i&&n.setMeta("composition",i),e.dispatch(n)}}return}f={start:u.from,endA:u.to,endB:u.to}}if(Xg&&e.cursorWrapper&&h.sel&&h.sel.anchor==e.cursorWrapper.deco.from&&h.sel.head==h.sel.anchor){let e=f.endB-f.start;h.sel={anchor:h.sel.anchor+e,head:h.sel.anchor+e}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&f.start==f.endB&&e.state.selection instanceof dg&&(f.start>e.state.selection.from&&f.start<=e.state.selection.from+2&&e.state.selection.from>=h.from?f.start=e.state.selection.from:f.endA<e.state.selection.to&&f.endA>=e.state.selection.to-2&&e.state.selection.to<=h.to&&(f.endB+=e.state.selection.to-f.endA,f.endA=e.state.selection.to)),Gg&&Kg<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>h.from&&"  "==h.doc.textBetween(f.start-h.from-1,f.start-h.from+1)&&(f.start--,f.endA--,f.endB--);let m,g=h.doc.resolveNoCache(f.start-h.from),y=h.doc.resolveNoCache(f.endB-h.from),v=d.resolve(f.start),b=g.sameParent(y)&&g.parent.inlineContent&&v.end()>=f.endA;if((ty&&e.input.lastIOSEnter>Date.now()-225&&(!b||o.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!b&&g.pos<h.doc.content.size&&!g.sameParent(y)&&(m=ag.findFrom(h.doc.resolve(g.pos+1),1,!0))&&m.head==y.pos)&&e.someProp("handleKeyDown",(t=>t(e,qg(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>f.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||Ab(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(Ab(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||Ab(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(d,f.start,f.endA,g,y)&&e.someProp("handleKeyDown",(t=>t(e,qg(8,"Backspace")))))return void(oy&&Xg&&e.domObserver.suppressSelectionUpdates());Xg&&oy&&f.endB==f.start&&(e.input.lastAndroidDelete=Date.now()),oy&&!b&&g.start()!=y.start()&&0==y.parentOffset&&g.depth==y.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==f.endA&&(f.endB-=2,y=h.doc.resolveNoCache(f.endB-h.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,qg(13,"Enter"))}))}),20));let k,w,x,_=f.start,S=f.endA;if(b)if(g.pos==y.pos)Gg&&Kg<=11&&0==g.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Xy(e)),20)),k=e.state.tr.delete(_,S),w=d.resolve(f.start).marksAcross(d.resolve(f.endA));else if(f.endA==f.endB&&(x=function(e,t){let n,r,o,i=e.firstChild.marks,s=t.firstChild.marks,l=i,a=s;for(let e=0;e<s.length;e++)l=s[e].removeFromSet(l);for(let e=0;e<i.length;e++)a=i[e].removeFromSet(a);if(1==l.length&&0==a.length)r=l[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=l.length||1!=a.length)return null;r=a[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let e=0;e<t.childCount;e++)c.push(o(t.child(e)));if(wf.from(c).eq(e))return{mark:r,type:n}}(g.parent.content.cut(g.parentOffset,y.parentOffset),v.parent.content.cut(v.parentOffset,f.endA-v.start()))))k=e.state.tr,"add"==x.type?k.addMark(_,S,x.mark):k.removeMark(_,S,x.mark);else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let t=g.parent.textBetween(g.parentOffset,y.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,_,S,t))))return;k=e.state.tr.insertText(t,_,S)}if(k||(k=e.state.tr.replace(_,S,h.doc.slice(f.start-h.from,f.endB-h.from))),h.sel){let t=Mb(e,k.doc,h.sel);t&&!(Xg&&oy&&e.composing&&t.empty&&(f.start!=f.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==_||t.head==k.mapping.map(S)-1)||Gg&&t.empty&&t.head==_)&&k.setSelection(t)}w&&k.ensureMarks(w),i&&k.setMeta("composition",i),e.dispatch(k.scrollIntoView())}(this,e,t,n,r))),this.domObserver.start(),function(e){for(let t in Iv){let n=Iv[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!$v(e,t)||zv(e,t)||!e.editable&&t.type in Nv||n(e,t)},Rv[t]?{passive:!0}:void 0)}ey&&e.dom.addEventListener("input",(()=>null)),Pv(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Pv(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Fb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let n=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(Yv(this),o=!0),this.state=e;let i=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(i||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=Lb(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,r=!0)}(i||t.handleDOMEvents!=this._props.handleDOMEvents)&&Pv(this),this.editable=Rb(this),Nb(this);let s=kb(this),l=Ib(this),a=n.plugins==e.plugins||n.doc.eq(e.doc)?e.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",c=r||!this.docView.matchesNode(e.doc,l,s);!c&&e.selection.eq(n.selection)||(o=!0);let u="preserve"==a&&o&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(i,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let l=r.getBoundingClientRect();if(l.top>=o-20){t=r,n=l.top;break}}return{refDOM:t,refTop:n,stack:hy(e.dom)}}(this);if(o){this.domObserver.stop();let t=c&&(Gg||Xg)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(n.selection,e.selection);if(c){let n=Xg?this.trackWrites=this.domSelectionRange().focusNode:null;!r&&this.docView.update(e.doc,l,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Ry(e.doc,l,s,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Lg(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Xy(this,t):(rv(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==a?this.dom.scrollTop=0:"to selection"==a?this.scrollToSelection():u&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;dy(n,0==r?0:r-t)}(u)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(this.state.selection instanceof fg){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&uy(this,t.getBoundingClientRect(),e)}else uy(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let o=this.directPlugins[r].props[e];if(null!=o&&(n=t?t(o):o))return n}let o=this.state.plugins;if(o)for(let r=0;r<o.length;r++){let i=o[r].props[e];if(null!=i&&(n=t?t(i):i))return n}}hasFocus(){if(Gg){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(py)return e.focus(py);let t=hy(e);e.focus(null==py?{get preventScroll(){return py={preventScroll:!0},!0}}:void 0),py||(py=!1,dy(t,0))}(this.dom),Xy(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}posAtCoords(e){return yy(this,e)}coordsAtPos(e,t=1){return wy(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return function(e,t,n){return Dy==t&&Ey==n?Ty:(Dy=t,Ey=n,Ty="up"==n||"down"==n?function(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return Sy(e,t,(()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=wy(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=Rg(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,l=e.domSelection();return Cy.test(r.parent.textContent)&&l.modify?Sy(e,t,(()=>{let{focusNode:t,focusOffset:o,anchorNode:i,anchorOffset:s}=e.domSelectionRange(),a=l.caretBidiLevel;l.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:h}=e.domSelectionRange(),d=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&o==h;try{l.collapse(i,s),t&&(t!=i||o!=s)&&l.extend&&l.extend(t,o)}catch(e){}return null!=a&&(l.caretBidiLevel=a),d})):"left"==n||"backward"==n?i:s}(e,t,n))}(this,t||this.state,e)}pasteHTML(e,t){return eb(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return eb(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],kb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){zv(e,t)||!Iv[t.type]||!e.editable&&t.type in Nv||Iv[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return ey&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom?function(e){let t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,o=t.startOffset,i=t.endContainer,s=t.endOffset,l=e.domAtPos(e.state.selection.anchor);return Lg(l.node,l.offset,i,s)&&([r,o,i,s]=[i,s,r,o]),{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Ib(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),t.translate||(t.translate="no"),[lb.node(0,e.state.doc.content.size,t)]}function Nb(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:lb.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Rb(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function Lb(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Fb(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Pb=n(9980);const zb=new class{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=vf.from(e.nodes),t.marks=vf.from(e.marks||{}),this.nodes=sm.compile(this.spec.nodes,this),this.marks=am.compile(this.spec.marks,this);let n=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let t=this.nodes[e],r=t.spec.content||"",o=t.spec.marks;t.contentMatch=n[r]||(n[r]=Gf.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.markSet="_"==o?null:o?cm(this,o.split(" ")):""!=o&&t.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:cm(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof sm))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new Wf(n,n.defaultAttrs,e,Cf.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Uf.fromJSON(this,e)}markFromJSON(e){return Cf.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",["hr"]]},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({params:e.getAttribute("data-params")||""})}],toDOM:e=>["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>({tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ul",{"data-tight":e.attrs.tight?"true":null},0]},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM:e=>["img",e.attrs]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>"em"==e.type.name}],toDOM:()=>["em"]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!=e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>"strong"==e.type.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong"]},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title")})}],toDOM:e=>["a",e.attrs]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code"]}}});class $b{constructor(e,t){this.schema=e,this.tokenHandlers=t,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:Cf.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let t,n=this.top(),r=n.content,o=r[r.length-1],i=this.schema.text(e,n.marks);o&&(t=function(e,t){if(e.isText&&t.isText&&Cf.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}(o,i))?r[r.length-1]=t:r.push(i)}openMark(e){let t=this.top();t.marks=e.addToSet(t.marks)}closeMark(e){let t=this.top();t.marks=e.removeFromSet(t.marks)}parseTokens(e){for(let t=0;t<e.length;t++){let n=e[t],r=this.tokenHandlers[n.type];if(!r)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");r(this,n,e,t)}}addNode(e,t,n){let r=this.top(),o=e.createAndFill(t,n,r?r.marks:[]);return o?(this.push(o),o):null}openNode(e,t){this.stack.push({type:e,attrs:t,content:[],marks:Cf.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function Bb(e,t,n,r){return e.getAttrs?e.getAttrs(t,n,r):e.attrs instanceof Function?e.attrs(t):e.attrs}function qb(e,t){return e.noCloseToken||"code_inline"==t||"code_block"==t||"fence"==t}function Vb(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function jb(){}function Hb(e,t){for(;++t<e.length;)if("list_item_open"!=e[t].type)return e[t].hidden;return!1}const Ub=new class{constructor(e,t,n){this.schema=e,this.tokenizer=t,this.tokens=n,this.tokenHandlers=function(e,t){let n=Object.create(null);for(let r in t){let o=t[r];if(o.block){let t=e.nodeType(o.block);qb(o,r)?n[r]=(e,n,r,i)=>{e.openNode(t,Bb(o,n,r,i)),e.addText(Vb(n.content)),e.closeNode()}:(n[r+"_open"]=(e,n,r,i)=>e.openNode(t,Bb(o,n,r,i)),n[r+"_close"]=e=>e.closeNode())}else if(o.node){let t=e.nodeType(o.node);n[r]=(e,n,r,i)=>e.addNode(t,Bb(o,n,r,i))}else if(o.mark){let t=e.marks[o.mark];qb(o,r)?n[r]=(e,n,r,i)=>{e.openMark(t.create(Bb(o,n,r,i))),e.addText(Vb(n.content)),e.closeMark(t)}:(n[r+"_open"]=(e,n,r,i)=>e.openMark(t.create(Bb(o,n,r,i))),n[r+"_close"]=e=>e.closeMark(t))}else{if(!o.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(o));qb(o,r)?n[r]=jb:(n[r+"_open"]=jb,n[r+"_close"]=jb)}}return n.text=(e,t)=>e.addText(t.content),n.inline=(e,t)=>e.parseTokens(t.children),n.softbreak=n.softbreak||(e=>e.addText(" ")),n}(e,n)}parse(e,t={}){let n,r=new $b(this.schema,this.tokenHandlers);r.parseTokens(this.tokenizer.parse(e,t));do{n=r.closeNode()}while(r.stack.length);return n||this.schema.topNodeType.createAndFill()}}(zb,Pb("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(e,t,n)=>({tight:Hb(t,n)})},ordered_list:{block:"ordered_list",getAttrs:(e,t,n)=>({order:+e.attrGet("start")||1,tight:Hb(t,n)})},heading:{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:e=>({params:e.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:e=>({src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}}),Wb=new class{constructor(e,t,n={}){this.nodes=e,this.marks=t,this.options=n}serialize(e,t={}){t=Object.assign({},this.options,t);let n=new Gb(this.nodes,this.marks,t);return n.renderContent(e),n.out}}({blockquote(e,t){e.wrapBlock("> ",null,t,(()=>e.renderContent(t)))},code_block(e,t){const n=t.textContent.match(/`{3,}/gm),r=n?n.sort().slice(-1)[0]+"`":"```";e.write(r+(t.attrs.params||"")+"\n"),e.text(t.textContent,!1),e.write("\n"),e.write(r),e.closeBlock(t)},heading(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)},horizontal_rule(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list(e,t){e.renderList(t,"  ",(()=>(t.attrs.bullet||"*")+" "))},ordered_list(e,t){let n=t.attrs.order||1,r=String(n+t.childCount-1).length,o=e.repeat(" ",r+2);e.renderList(t,o,(t=>{let o=String(n+t);return e.repeat(" ",r-o.length)+o+". "}))},list_item(e,t){e.renderContent(t)},paragraph(e,t){e.renderInline(t),e.closeBlock(t)},image(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+t.attrs.src.replace(/[\(\)]/g,"\\$&")+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(e,t,n,r){for(let o=r+1;o<n.childCount;o++)if(n.child(o).type!=t.type)return void e.write("\\\n")},text(e,t){e.text(t.text,!e.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:(e,t,n,r)=>(e.inAutolink=function(e,t,n){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;let r=t.child(n);return!(!r.isText||r.text!=e.attrs.href||r.marks[r.marks.length-1]!=e||n!=t.childCount-1&&e.isInSet(t.child(n+1).marks))}(t,n,r),e.inAutolink?"<":"["),close(e,t,n,r){let{inAutolink:o}=e;return e.inAutolink=void 0,o?">":"]("+t.attrs.href.replace(/[\(\)"]/g,"\\$&")+(t.attrs.title?` "${t.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open:(e,t,n,r)=>Jb(n.child(r),-1),close:(e,t,n,r)=>Jb(n.child(r-1),1),escape:!1}});function Jb(e,t){let n,r=/`+/g,o=0;if(e.isText)for(;n=r.exec(e.text);)o=Math.max(o,n[0].length);let i=o>0&&t>0?" `":"`";for(let e=0;e<o;e++)i+="`";return o>0&&t<0&&(i+=" "),i}class Gb{constructor(e,t,n){this.nodes=e,this.marks=t,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,void 0===this.options.tightLists&&(this.options.tightLists=!1),void 0===this.options.hardBreakNodeName&&(this.options.hardBreakNodeName="hard_break")}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+="\n"),e>1){let t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(let n=1;n<e;n++)this.out+=t+"\n"}this.closed=null}}wrapBlock(e,t,n,r){let o=this.delim;this.write(null!=t?t:e),this.delim+=e,r(),this.delim=o,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,t=!0){let n=e.split("\n");for(let e=0;e<n.length;e++)this.write(),!t&&"["==n[e][0]&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=t?this.esc(n[e],this.atBlockStart):n[e],e!=n.length-1&&(this.out+="\n")}render(e,t,n){if("number"==typeof t)throw new Error("!");if(!this.nodes[e.type.name])throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");this.nodes[e.type.name](this,e,t,n)}renderContent(e){e.forEach(((t,n,r)=>this.render(t,e,r)))}renderInline(e){this.atBlockStart=!0;let t=[],n="",r=(r,o,i)=>{let s=r?r.marks:[];r&&r.type.name===this.options.hardBreakNodeName&&(s=s.filter((t=>{if(i+1==e.childCount)return!1;let n=e.child(i+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));let l=n;if(n="",r&&r.isText&&s.some((e=>{let n=this.marks[e.type.name];return n&&n.expelEnclosingWhitespace&&!e.isInSet(t)}))){let[e,n,o]=/^(\s*)(.*)$/m.exec(r.text);n&&(l+=n,(r=o?r.withText(o):null)||(s=t))}if(r&&r.isText&&s.some((t=>{let n=this.marks[t.type.name];return n&&n.expelEnclosingWhitespace&&(i==e.childCount-1||!t.isInSet(e.child(i+1).marks))}))){let[e,o,i]=/^(.*?)(\s*)$/m.exec(r.text);i&&(n=i,(r=o?r.withText(o):null)||(s=t))}let a=s.length?s[s.length-1]:null,c=a&&!1===this.marks[a.type.name].escape,u=s.length-(c?1:0);e:for(let e=0;e<u;e++){let n=s[e];if(!this.marks[n.type.name].mixable)break;for(let r=0;r<t.length;r++){let o=t[r];if(!this.marks[o.type.name].mixable)break;if(n.eq(o)){e>r?s=s.slice(0,r).concat(n).concat(s.slice(r,e)).concat(s.slice(e+1,u)):r>e&&(s=s.slice(0,e).concat(s.slice(e+1,r)).concat(n).concat(s.slice(r,u)));continue e}}}let h=0;for(;h<Math.min(t.length,u)&&s[h].eq(t[h]);)++h;for(;h<t.length;)this.text(this.markString(t.pop(),!1,e,i),!1);if(l&&this.text(l),r){for(;t.length<u;){let n=s[t.length];t.push(n),this.text(this.markString(n,!0,e,i),!1),this.atBlockStart=!1}c&&r.isText?this.text(this.markString(a,!0,e,i)+r.text+this.markString(a,!1,e,i+1),!1):this.render(r,e,i),this.atBlockStart=!1}(null==r?void 0:r.isText)&&r.nodeSize>0&&(this.atBlockStart=!1)};e.forEach(r),r(null,0,e.childCount),this.atBlockStart=!1}renderList(e,t,n){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let r=void 0!==e.attrs.tight?e.attrs.tight:this.options.tightLists,o=this.inTightList;this.inTightList=r,e.forEach(((o,i,s)=>{s&&r&&this.flushClose(1),this.wrapBlock(t,n(s),e,(()=>this.render(o,e,s)))})),this.inTightList=o}esc(e,t=!1){return e=e.replace(/[`*\\~\[\]_]/g,((t,n)=>"_"==t&&n>0&&n+1<e.length&&e[n-1].match(/\w/)&&e[n+1].match(/\w/)?t:"\\"+t)),t&&(e=e.replace(/^[\-*+>]/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]}repeat(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}markString(e,t,n,r){let o=this.marks[e.type.name],i=t?o.open:o.close;return"string"==typeof i?i:i(this,e,n,r)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}}for(var Kb={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Zb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Yb="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Xb="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Qb=0;Qb<10;Qb++)Kb[48+Qb]=Kb[96+Qb]=String(Qb);for(Qb=1;Qb<=24;Qb++)Kb[Qb+111]="F"+Qb;for(Qb=65;Qb<=90;Qb++)Kb[Qb]=String.fromCharCode(Qb+32),Zb[Qb]=String.fromCharCode(Qb);for(var ek in Kb)Zb.hasOwnProperty(ek)||(Zb[ek]=Kb[ek]);const tk="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function nk(e){let t,n,r,o,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let e=0;e<i.length-1;e++){let s=i[e];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);tk?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function rk(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function ok(e){return new Eg({props:{handleKeyDown:ik(e)}})}function ik(e){let t=function(e){let t=Object.create(null);for(let n in e)t[nk(n)]=e[n];return t}(e);return function(e,n){let r,o=function(e){var t=!(Yb&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Xb&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?Zb:Kb)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=t[rk(o,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=t[rk(o,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=Kb[n.keyCode])&&r!=o){let o=t[rk(r,n)];if(o&&o(e.state,e.dispatch,e))return!0}}return!1}}var sk=200,lk=function(){};lk.prototype.append=function(e){return e.length?(e=lk.from(e),!this.length&&e||e.length<sk&&this.leafAppend(e)||this.length<sk&&e.leafPrepend(this)||this.appendInner(e)):this},lk.prototype.prepend=function(e){return e.length?lk.from(e).append(this):this},lk.prototype.appendInner=function(e){return new ck(this,e)},lk.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?lk.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},lk.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},lk.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},lk.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},lk.from=function(e){return e instanceof lk?e:e&&e.length?new ak(e):lk.empty};var ak=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=sk)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=sk)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(lk);lk.empty=new ak([]);var ck=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(lk);const uk=lk;class hk{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,s,l=e.tr,a=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new dk(e.map));let t,o=e.step.map(n.slice(r));o&&l.maybeStep(o).doc&&(t=l.mapping.maps[l.mapping.maps.length-1],a.push(new dk(t,void 0,void 0,a.length+c.length))),r--,t&&n.appendMap(t,r)}else l.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,s=new hk(this.items.slice(0,o).append(c.reverse().concat(a)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:l,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,s=this.items,l=!r&&s.length?s.get(s.length-1):null;for(let n=0;n<e.steps.length;n++){let a,c=e.steps[n].invert(e.docs[n]),u=new dk(e.mapping.maps[n],c,t);(a=l&&l.merge(u))&&(u=a,n?o.pop():s=s.slice(0,s.length-1)),o.push(u),t&&(i++,t=void 0),r||(l=u)}let a=i-n.depth;return a>fk&&(s=function(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(s,a),i-=a),new hk(s.append(o),i)}remapping(e,t){let n=new Em;return this.items.forEach(((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new hk(this.items.append(e.map((e=>new dk(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach((e=>{e.selection&&s--}),r);let l=t;this.items.forEach((t=>{let r=o.getMirror(--l);if(null==r)return;i=Math.min(i,r);let a=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(l+1,r));c&&s++,n.push(new dk(a,i,c))}else n.push(new dk(a))}),r);let a=[];for(let e=t;e<i;e++)a.push(new dk(o.maps[e]));let c=this.items.slice(0,r).append(a).append(n),u=new hk(c,s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach(((i,s)=>{if(s>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let l=i.selection&&i.selection.map(t.slice(n));l&&o++;let a,c=new dk(s.invert(),e,l),u=r.length-1;(a=r.length&&r[u].merge(c))?r[u]=a:r.push(c)}}else i.map&&n--}),this.items.length,0),new hk(uk.from(r.reverse()),o)}}hk.empty=new hk(uk.empty,0);class dk{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new dk(t.getMap().invert(),t,this.selection)}}}class pk{constructor(e,t,n,r,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}const fk=20;function mk(e){let t=[];return e.forEach(((e,n,r,o)=>t.push(r,o))),t}function gk(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function yk(e,t,n,r){let o=kk(t),i=wk.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,o);if(!s)return;let l=s.selection.resolve(s.transform.doc),a=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,o),c=new pk(r?a:s.remaining,r?s.remaining:a,null,0,-1);n(s.transform.setSelection(l).setMeta(wk,{redo:r,historyState:c}).scrollIntoView())}let vk=!1,bk=null;function kk(e){let t=e.plugins;if(bk!=t){vk=!1,bk=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){vk=!0;break}}return vk}const wk=new Ag("history"),xk=new Ag("closeHistory");const _k=(e,t)=>{let n=wk.getState(e);return!(!n||0==n.done.eventCount||(t&&yk(n,e,t,!1),0))},Sk=(e,t)=>{let n=wk.getState(e);return!(!n||0==n.undone.eventCount||(t&&yk(n,e,t,!0),0))},Ck=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Dk(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function Ek(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Tk(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Mk=(e,t)=>{let n,r=e.selection,o=r instanceof fg;if(o){if(r.node.isTextblock||!Hm(e.doc,r.from))return!1;n=r.from}else if(n=Wm(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);o&&r.setSelection(fg.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0},Ak=(e,t)=>{let n,r=e.selection;if(r instanceof fg){if(r.node.isTextblock||!Hm(e.doc,r.to))return!1;n=r.to}else if(n=Wm(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},Ok=(e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&Bm(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)};function Ik(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Nk=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=Ik(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,s.createAndFill());o.setSelection(ag.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0};var Rk;const Lk=(e,t)=>{let n,{$from:r,to:o}=e.selection,i=r.sharedDepth(o);return 0!=i&&(n=r.before(i),t&&t(e.tr.setSelection(fg.create(e.doc,n))),!0)};function Fk(e,t,n){let r,o,i=t.nodeBefore,s=t.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!(!(r&&o&&r.type.compatibleContent(o.type))||(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(i,i+1)||!o.isTextblock&&!Hm(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let l=t.parent.canReplace(t.index(),t.index()+1);if(l&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){let o=t.pos+s.nodeSize,l=wf.empty;for(let e=r.length-1;e>=0;e--)l=wf.from(r[e].create(null,l));l=wf.from(i.copy(l));let a=e.tr.step(new Pm(t.pos-1,o,t.pos,o,new Ef(l,1,0),r.length,!0)),c=o+2*r.length;Hm(a.doc,c)&&a.join(c),n(a.scrollIntoView())}return!0}let a=ag.findFrom(t,1),c=a&&a.$from.blockRange(a.$to),u=c&&Bm(c);if(null!=u&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(l&&Dk(s,"start",!0)&&Dk(i,"end")){let r=i,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let l=s,a=1;for(;!l.isTextblock;l=l.firstChild)a++;if(r.canReplace(r.childCount,r.childCount,l.content)){if(n){let r=wf.empty;for(let e=o.length-1;e>=0;e--)r=wf.from(o[e].copy(r));n(e.tr.step(new Pm(t.pos-o.length,t.pos+s.nodeSize,t.pos+a,t.pos+s.nodeSize-a,new Ef(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Pk(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(dg.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}const zk=Pk(-1),$k=Pk(1);function Bk(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),l=s&&qm(s,e,t);return!!l&&(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0)}}function qk(e,t=null){return function(n,r){let o=!1;for(let r=0;r<n.selection.ranges.length&&!o;r++){let{$from:{pos:i},$to:{pos:s}}=n.selection.ranges[r];n.doc.nodesBetween(i,s,((r,i)=>{if(o)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)o=!0;else{let t=n.doc.resolve(i),r=t.index();o=t.parent.canReplaceWith(r,r+1,e)}}))}if(!o)return!1;if(r){let o=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:i},$to:{pos:s}}=n.selection.ranges[r];o.setBlockType(i,s,e,t)}r(o.scrollIntoView())}return!0}}function Vk(e,t=null){return function(n,r){let{empty:o,$cursor:i,ranges:s}=n.selection;if(o&&!i||!function(e,t,n){for(let r=0;r<t.length;r++){let{$from:o,$to:i}=t[r],s=0==o.depth&&e.inlineContent&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,i.pos,(e=>{if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return!0}return!1}(n.doc,s,e))return!1;if(r)if(i)e.isInSet(n.storedMarks||i.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let o=!1,i=n.tr;for(let t=0;!o&&t<s.length;t++){let{$from:r,$to:i}=s[t];o=n.doc.rangeHasMark(r.pos,i.pos,e)}for(let n=0;n<s.length;n++){let{$from:r,$to:l}=s[n];if(o)i.removeMark(r.pos,l.pos,e);else{let n=r.pos,o=l.pos,s=r.nodeAfter,a=l.nodeBefore,c=s&&s.isText?/^\s*/.exec(s.text)[0].length:0,u=a&&a.isText?/\s*$/.exec(a.text)[0].length:0;n+c<o&&(n+=c,o-=u),i.addMark(n,o,e.create(t))}}r(i.scrollIntoView())}return!0}}function jk(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let Hk=jk(Ck,((e,t,n)=>{let r=function(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}(e,n);if(!r)return!1;let o=Ek(r);if(!o){let n=r.blockRange(),o=n&&Bm(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let i=o.nodeBefore;if(!i.type.spec.isolating&&Fk(e,o,t))return!0;if(0==r.parent.content.size&&(Dk(i,"end")||fg.isSelectable(i))){let n=Gm(e.doc,r.before(),r.after(),Ef.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Dk(i,"end")?ag.findFrom(r.doc.resolve(r.mapping.map(o.pos,-1)),-1):fg.create(r.doc,o.pos-i.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1||(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),0))}),((e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=Ek(r)}let s=i&&i.nodeBefore;return!(!s||!fg.isSelectable(s)||(t&&t(e.tr.setSelection(fg.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),0))})),Uk=jk(Ck,((e,t,n)=>{let r=function(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}(e,n);if(!r)return!1;let o=Tk(r);if(!o)return!1;let i=o.nodeAfter;if(Fk(e,o,t))return!0;if(0==r.parent.content.size&&(Dk(i,"start")||fg.isSelectable(i))){let n=Gm(e.doc,r.before(),r.after(),Ef.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Dk(i,"start")?ag.findFrom(r.doc.resolve(r.mapping.map(o.pos)),1):fg.create(r.doc,r.mapping.map(o.pos))),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1||(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),0))}),((e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=Tk(r)}let s=i&&i.nodeAfter;return!(!s||!fg.isSelectable(s)||(t&&t(e.tr.setSelection(fg.create(e.doc,i.pos)).scrollIntoView()),0))}));const Wk={Enter:jk(((e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))}),((e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof gg||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=Ik(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(n,i.createAndFill());s.setSelection(dg.create(s.doc,n+1)),t(s.scrollIntoView())}return!0}),((e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(jm(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&Bm(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)}),((e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof fg&&e.selection.node.isBlock)return!(!n.parentOffset||!jm(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;if(t){let o=r.parentOffset==r.parent.content.size,i=e.tr;(e.selection instanceof dg||e.selection instanceof gg)&&i.deleteSelection();let s=0==n.depth?null:Ik(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=Rk?[Rk]:o&&s?[{type:s}]:void 0,a=jm(i.doc,i.mapping.map(n.pos),1,l);if(l||a||!jm(i.doc,i.mapping.map(n.pos),1,s?[{type:s}]:void 0)||(s&&(l=[{type:s}]),a=!0),a&&(i.split(i.mapping.map(n.pos),1,l),!o&&!n.parentOffset&&n.parent.type!=s)){let e=i.mapping.map(n.before()),t=i.doc.resolve(e);s&&n.node(-1).canReplaceWith(t.index(),t.index()+1,s)&&i.setNodeMarkup(i.mapping.map(n.before()),s)}t(i.scrollIntoView())}return!0})),"Mod-Enter":Nk,Backspace:Hk,"Mod-Backspace":Hk,"Shift-Backspace":Hk,Delete:Uk,"Mod-Delete":Uk,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new gg(e.doc))),!0)},Jk={"Ctrl-h":Wk.Backspace,"Alt-Backspace":Wk["Mod-Backspace"],"Ctrl-d":Wk.Delete,"Ctrl-Alt-Backspace":Wk["Mod-Delete"],"Alt-Delete":Wk["Mod-Delete"],"Alt-d":Wk["Mod-Delete"],"Ctrl-a":zk,"Ctrl-e":$k};for(let e in Wk)Jk[e]=Wk[e];const Gk=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&"darwin"==os.platform())?Jk:Wk;function Kk(e={}){return new Eg({view:t=>new Zk(t,e)})}class Zk{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t)))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let o=t.getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let r,o,i=this.editorView.dom.offsetParent;if(this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!i||i==document.body&&"static"==getComputedStyle(i).position)r=-pageXOffset,o=-pageYOffset;else{let e=i.getBoundingClientRect();r=e.left-i.scrollLeft,o=e.top-i.scrollTop}this.element.style.left=e.left-r+"px",this.element.style.top=e.top-o+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=Jm(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Yk extends ag{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return Yk.valid(n)?new Yk(n):ag.near(n)}content(){return Ef.empty}eq(e){return e instanceof Yk&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new Yk(e.resolve(t.pos))}getBookmark(){return new Xk(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&Yk.valid(e))return e;let r=e.pos,o=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){o=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let s=e.doc.resolve(r);if(Yk.valid(s))return s}for(;;){let i=t>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!fg.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),n=!1;continue e}break}o=i,r+=t;let s=e.doc.resolve(r);if(Yk.valid(s))return s}return null}}}Yk.prototype.visible=!1,Yk.findFrom=Yk.findGapCursorFrom,ag.jsonID("gapcursor",Yk);class Xk{constructor(e){this.pos=e}map(e){return new Xk(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Yk.valid(t)?new Yk(t):ag.near(t)}}const Qk=ik({ArrowLeft:ew("horiz",-1),ArrowRight:ew("horiz",1),ArrowUp:ew("vert",-1),ArrowDown:ew("vert",1)});function ew(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){let i=e.selection,s=t>0?i.$to:i.$from,l=i.empty;if(i instanceof dg){if(!o.endOfTextblock(n)||0==s.depth)return!1;l=!1,s=e.doc.resolve(t>0?s.after():s.before())}let a=Yk.findGapCursorFrom(s,t,l);return!!a&&(r&&r(e.tr.setSelection(new Yk(a))),!0)}}function tw(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Yk.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&fg.isSelectable(e.state.doc.nodeAt(o.inside))||(e.dispatch(e.state.tr.setSelection(new Yk(r))),0))}function nw(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof Yk))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=wf.empty;for(let e=r.length-1;e>=0;e--)o=wf.from(r[e].createAndFill(null,o));let i=e.state.tr.replace(n.pos,n.pos,new Ef(o,0,0));return i.setSelection(dg.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function rw(e){if(!(e.selection instanceof Yk))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",ub.create(e.doc,[lb.widget(e.selection.head,t,{key:"gapcursor"})])}function ow(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];"string"==typeof o?e.setAttribute(r,o):null!=o&&(e[r]=o)}t++}for(;t<arguments.length;t++)iw(e,arguments[t]);return e}function iw(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)iw(e,t[n])}}const sw="http://www.w3.org/2000/svg",lw="ProseMirror-icon";const aw="ProseMirror-menu";class cw{constructor(e){this.spec=e}render(e){let t=this.spec,n=t.render?t.render(e):t.icon?function(e,t){let n=(9==e.nodeType?e:e.ownerDocument)||document,r=n.createElement("div");if(r.className=lw,t.path){let{path:o,width:i,height:s}=t,l="pm-icon-"+function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}(o).toString(16);n.getElementById(l)||function(e,t,n){let[r,o]=9==e.nodeType?[e,e.body]:[e.ownerDocument||document,e],i=r.getElementById(lw+"-collection");i||(i=r.createElementNS(sw,"svg"),i.id=lw+"-collection",i.style.display="none",o.insertBefore(i,o.firstChild));let s=r.createElementNS(sw,"symbol");s.id=t,s.setAttribute("viewBox","0 0 "+n.width+" "+n.height),s.appendChild(r.createElementNS(sw,"path")).setAttribute("d",n.path),i.appendChild(s)}(e,l,t);let a=r.appendChild(n.createElementNS(sw,"svg"));a.style.width=i/s+"em",a.appendChild(n.createElementNS(sw,"use")).setAttributeNS("http://www.w3.org/1999/xlink","href",/([^#]*)/.exec(n.location.toString())[1]+"#"+l)}else if(t.dom)r.appendChild(t.dom.cloneNode(!0));else{let{text:e,css:o}=t;r.appendChild(n.createElement("span")).textContent=e||"",o&&(r.firstChild.style.cssText=o)}return r}(e.root,t.icon):t.label?ow("div",null,uw(e,t.label)):null;if(!n)throw new RangeError("MenuItem without icon or label property");if(t.title){const r="function"==typeof t.title?t.title(e.state):t.title;n.setAttribute("title",uw(e,r))}return t.class&&n.classList.add(t.class),t.css&&(n.style.cssText+=t.css),n.addEventListener("mousedown",(r=>{r.preventDefault(),n.classList.contains(aw+"-disabled")||t.run(e.state,e.dispatch,e,r)})),{dom:n,update:function(e){if(t.select){let r=t.select(e);if(n.style.display=r?"":"none",!r)return!1}let r=!0;if(t.enable&&(r=t.enable(e)||!1,Cw(n,aw+"-disabled",!r)),t.active){let o=r&&t.active(e)||!1;Cw(n,aw+"-active",o)}return!0}}}}function uw(e,t){return e._props.translate?e._props.translate(t):t}let hw={time:0,node:null};function dw(e){hw.time=Date.now(),hw.node=e.target}function pw(e){return Date.now()-100<hw.time&&hw.node&&e.contains(hw.node)}class fw{constructor(e,t={}){this.options=t,this.options=t||{},this.content=Array.isArray(e)?e:[e]}render(e){let t=mw(this.content,e),n=e.dom.ownerDocument.defaultView||window,r=ow("div",{class:aw+"-dropdown "+(this.options.class||""),style:this.options.css},uw(e,this.options.label||""));this.options.title&&r.setAttribute("title",uw(e,this.options.title));let o=ow("div",{class:aw+"-dropdown-wrap"},r),i=null,s=null,l=()=>{i&&i.close()&&(i=null,n.removeEventListener("mousedown",s))};return r.addEventListener("mousedown",(e=>{e.preventDefault(),dw(e),i?l():(i=this.expand(o,t.dom),n.addEventListener("mousedown",s=()=>{pw(o)||l()}))})),{dom:o,update:function(e){let n=t.update(e);return o.style.display=n?"":"none",n}}}expand(e,t){let n=ow("div",{class:aw+"-dropdown-menu "+(this.options.class||"")},t),r=!1;return e.appendChild(n),{close:function(){return!r&&(r=!0,e.removeChild(n),!0)},node:n}}}function mw(e,t){let n=[],r=[];for(let o=0;o<e.length;o++){let{dom:i,update:s}=e[o].render(t);n.push(ow("div",{class:aw+"-dropdown-item"},i)),r.push(s)}return{dom:n,update:gw(r,n)}}function gw(e,t){return n=>{let r=!1;for(let o=0;o<e.length;o++){let i=e[o](n);t[o].style.display=i?"":"none",i&&(r=!0)}return r}}class yw{constructor(e,t={}){this.options=t,this.content=Array.isArray(e)?e:[e]}render(e){let t=mw(this.content,e),n=e.dom.ownerDocument.defaultView||window,r=ow("div",{class:aw+"-submenu-label"},uw(e,this.options.label||"")),o=ow("div",{class:aw+"-submenu-wrap"},r,ow("div",{class:aw+"-submenu"},t.dom)),i=null;return r.addEventListener("mousedown",(e=>{e.preventDefault(),dw(e),Cw(o,aw+"-submenu-wrap-active",!1),i||n.addEventListener("mousedown",i=()=>{pw(o)||(o.classList.remove(aw+"-submenu-wrap-active"),n.removeEventListener("mousedown",i),i=null)})})),{dom:o,update:function(e){let n=t.update(e);return o.style.display=n?"":"none",n}}}}const vw={join:{width:800,height:900,path:"M0 75h800v125h-800z M0 825h800v-125h-800z M250 400h100v-100h100v100h100v100h-100v100h-100v-100h-100z"},lift:{width:1024,height:1024,path:"M219 310v329q0 7-5 12t-12 5q-8 0-13-5l-164-164q-5-5-5-13t5-13l164-164q5-5 13-5 7 0 12 5t5 12zM1024 749v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12zM1024 530v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 310v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 91v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12z"},selectParentNode:{text:"⬚",css:"font-weight: bold"},undo:{width:1024,height:1024,path:"M761 1024c113-206 132-520-313-509v253l-384-384 384-384v248c534-13 594 472 313 775z"},redo:{width:1024,height:1024,path:"M576 248v-248l384 384-384 384v-253c-446-10-427 303-313 509-280-303-221-789 313-775z"},strong:{width:805,height:1024,path:"M317 869q42 18 80 18 214 0 214-191 0-65-23-102-15-25-35-42t-38-26-46-14-48-6-54-1q-41 0-57 5 0 30-0 90t-0 90q0 4-0 38t-0 55 2 47 6 38zM309 442q24 4 62 4 46 0 81-7t62-25 42-51 14-81q0-40-16-70t-45-46-61-24-70-8q-28 0-74 7 0 28 2 86t2 86q0 15-0 45t-0 45q0 26 0 39zM0 950l1-53q8-2 48-9t60-15q4-6 7-15t4-19 3-18 1-21 0-19v-37q0-561-12-585-2-4-12-8t-25-6-28-4-27-2-17-1l-2-47q56-1 194-6t213-5q13 0 39 0t38 0q40 0 78 7t73 24 61 40 42 59 16 78q0 29-9 54t-22 41-36 32-41 25-48 22q88 20 146 76t58 141q0 57-20 102t-53 74-78 48-93 27-100 8q-25 0-75-1t-75-1q-60 0-175 6t-132 6z"},em:{width:585,height:1024,path:"M0 949l9-48q3-1 46-12t63-21q16-20 23-57 0-4 35-165t65-310 29-169v-14q-13-7-31-10t-39-4-33-3l10-58q18 1 68 3t85 4 68 1q27 0 56-1t69-4 56-3q-2 22-10 50-17 5-58 16t-62 19q-4 10-8 24t-5 22-4 26-3 24q-15 84-50 239t-44 203q-1 5-7 33t-11 51-9 47-3 32l0 10q9 2 105 17-1 25-9 56-6 0-18 0t-18 0q-16 0-49-5t-49-5q-78-1-117-1-29 0-81 5t-69 6z"},code:{width:896,height:1024,path:"M608 192l-96 96 224 224-224 224 96 96 288-320-288-320zM288 192l-288 320 288 320 96-96-224-224 224-224-96-96z"},link:{width:951,height:1024,path:"M832 694q0-22-16-38l-118-118q-16-16-38-16-24 0-41 18 1 1 10 10t12 12 8 10 7 14 2 15q0 22-16 38t-38 16q-8 0-15-2t-14-7-10-8-12-12-10-10q-18 17-18 41 0 22 16 38l117 118q15 15 38 15 22 0 38-14l84-83q16-16 16-38zM430 292q0-22-16-38l-117-118q-16-16-38-16-22 0-38 15l-84 83q-16 16-16 38 0 22 16 38l118 118q15 15 38 15 24 0 41-17-1-1-10-10t-12-12-8-10-7-14-2-15q0-22 16-38t38-16q8 0 15 2t14 7 10 8 12 12 10 10q18-17 18-41zM941 694q0 68-48 116l-84 83q-47 47-116 47-69 0-116-48l-117-118q-47-47-47-116 0-70 50-119l-50-50q-49 50-118 50-68 0-116-48l-118-118q-48-48-48-116t48-116l84-83q47-47 116-47 69 0 116 48l117 118q47 47 47 116 0 70-50 119l50 50q49-50 118-50 68 0 116 48l118 118q48 48 48 116z"},bulletList:{width:768,height:896,path:"M0 512h128v-128h-128v128zM0 256h128v-128h-128v128zM0 768h128v-128h-128v128zM256 512h512v-128h-512v128zM256 256h512v-128h-512v128zM256 768h512v-128h-512v128z"},orderedList:{width:768,height:896,path:"M320 512h448v-128h-448v128zM320 768h448v-128h-448v128zM320 128v128h448v-128h-448zM79 384h78v-256h-36l-85 23v50l43-2v185zM189 590c0-36-12-78-96-78-33 0-64 6-83 16l1 66c21-10 42-15 67-15s32 11 32 28c0 26-30 58-110 112v50h192v-67l-91 2c49-30 87-66 87-113l1-1z"},blockquote:{width:640,height:896,path:"M0 448v256h256v-256h-128c0 0 0-128 128-128v-128c0 0-256 0-256 256zM640 320v-128c0 0-256 0-256 256v256h256v-256h-128c0 0 0-128 128-128z"}},bw=new cw({title:"Join with above block",run:Mk,select:e=>Mk(e),icon:vw.join}),kw=new cw({title:"Lift out of enclosing block",run:Ok,select:e=>Ok(e),icon:vw.lift}),ww=new cw({title:"Select parent node",run:Lk,select:e=>Lk(e),icon:vw.selectParentNode});let xw=new cw({title:"Undo last change",run:_k,enable:e=>_k(e),icon:vw.undo}),_w=new cw({title:"Redo last undone change",run:Sk,enable:e=>Sk(e),icon:vw.redo});function Sw(e,t){let n=qk(e,t.attrs),r={run:n,enable:e=>n(e),active(n){let{$from:r,to:o,node:i}=n.selection;return i?i.hasMarkup(e,t.attrs):o<=r.end()&&r.parent.hasMarkup(e,t.attrs)}};for(let e in t)r[e]=t[e];return new cw(r)}function Cw(e,t,n){n?e.classList.add(t):e.classList.remove(t)}const Dw="ProseMirror-menubar";class Ew{constructor(e,t){this.editorView=e,this.options=t,this.spacer=null,this.maxHeight=0,this.widthForMaxHeight=0,this.floating=!1,this.scrollHandler=null,this.wrapper=ow("div",{class:Dw+"-wrapper"}),this.menu=this.wrapper.appendChild(ow("div",{class:Dw})),this.menu.className=Dw,e.dom.parentNode&&e.dom.parentNode.replaceChild(this.wrapper,e.dom),this.wrapper.appendChild(e.dom);let{dom:n,update:r}=function(e,t){let n=document.createDocumentFragment(),r=[],o=[];for(let i=0;i<t.length;i++){let s=t[i],l=[],a=[];for(let t=0;t<s.length;t++){let{dom:r,update:o}=s[t].render(e),i=ow("span",{class:aw+"item"},r);n.appendChild(i),a.push(i),l.push(o)}l.length&&(r.push(gw(l,a)),i<t.length-1&&o.push(n.appendChild(ow("span",{class:aw+"separator"}))))}return{dom:n,update:function(e){let t=!1,n=!1;for(let i=0;i<r.length;i++){let s=r[i](e);i&&(o[i-1].style.display=n&&s?"":"none"),n=s,s&&(t=!0)}return t}}}(this.editorView,this.options.content);if(this.contentUpdate=r,this.menu.appendChild(n),this.update(),t.floating&&!function(){if("undefined"==typeof navigator)return!1;let e=navigator.userAgent;return!/Edge\/\d/.test(e)&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e)}()){this.updateFloat();let e=function(e){let t=[e.ownerDocument.defaultView||window];for(let n=e.parentNode;n;n=n.parentNode)t.push(n);return t}(this.wrapper);this.scrollHandler=t=>{let n=this.editorView.root;(n.body||n).contains(this.wrapper)?this.updateFloat(t.target.getBoundingClientRect?t.target:void 0):e.forEach((e=>e.removeEventListener("scroll",this.scrollHandler)))},e.forEach((e=>e.addEventListener("scroll",this.scrollHandler)))}}update(){this.contentUpdate(this.editorView.state),this.floating?this.updateScrollCursor():(this.menu.offsetWidth!=this.widthForMaxHeight&&(this.widthForMaxHeight=this.menu.offsetWidth,this.maxHeight=0),this.menu.offsetHeight>this.maxHeight&&(this.maxHeight=this.menu.offsetHeight,this.menu.style.minHeight=this.maxHeight+"px"))}updateScrollCursor(){let e=this.editorView.root.getSelection();if(!e.focusNode)return;let t=e.getRangeAt(0).getClientRects(),n=t[function(e){return e.anchorNode==e.focusNode?e.anchorOffset>e.focusOffset:e.anchorNode.compareDocumentPosition(e.focusNode)==Node.DOCUMENT_POSITION_FOLLOWING}(e)?0:t.length-1];if(!n)return;let r=this.menu.getBoundingClientRect();if(n.top<r.bottom&&n.bottom>r.top){let e=function(e){for(let t=e.parentNode;t;t=t.parentNode)if(t.scrollHeight>t.clientHeight)return t}(this.wrapper);e&&(e.scrollTop-=r.bottom-n.top)}}updateFloat(e){let t=this.wrapper,n=t.getBoundingClientRect(),r=e?Math.max(0,e.getBoundingClientRect().top):0;if(this.floating)if(n.top>=r||n.bottom<this.menu.offsetHeight+10)this.floating=!1,this.menu.style.position=this.menu.style.left=this.menu.style.top=this.menu.style.width="",this.menu.style.display="",this.spacer.parentNode.removeChild(this.spacer),this.spacer=null;else{let o=(t.offsetWidth-t.clientWidth)/2;this.menu.style.left=n.left+o+"px",this.menu.style.display=n.top>(this.editorView.dom.ownerDocument.defaultView||window).innerHeight?"none":"",e&&(this.menu.style.top=r+"px")}else if(n.top<r&&n.bottom>=this.menu.offsetHeight+10){this.floating=!0;let n=this.menu.getBoundingClientRect();this.menu.style.left=n.left+"px",this.menu.style.width=n.width+"px",e&&(this.menu.style.top=r+"px"),this.menu.style.position="fixed",this.spacer=ow("div",{class:Dw+"-spacer",style:`height: ${n.height}px`}),t.insertBefore(this.spacer,this.menu)}}destroy(){this.wrapper.parentNode&&this.wrapper.parentNode.replaceChild(this.editorView.dom,this.wrapper)}}function Tw(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),l=!1,a=s;if(!s)return!1;if(s.depth>=2&&o.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==o.index(s.depth-1))return!1;let e=n.doc.resolve(s.start-2);a=new jf(e,e,s.depth),s.endIndex<s.parent.childCount&&(s=new jf(o,n.doc.resolve(i.end(s.depth)),s.depth)),l=!0}let c=qm(a,e,t,s);return!!c&&(r&&r(function(e,t,n,r,o){let i=wf.empty;for(let e=n.length-1;e>=0;e--)i=wf.from(n[e].type.create(n[e].attrs,i));e.step(new Pm(t.start-(r?2:0),t.end,t.start,t.end,new Ef(i,0,0),n.length,!0));let s=0;for(let e=0;e<n.length;e++)n[e].type==o&&(s=e+1);let l=n.length-s,a=t.start+n.length-(r?2:0),c=t.parent;for(let n=t.startIndex,r=t.endIndex,o=!0;n<r;n++,o=!1)!o&&jm(e.doc,a,l)&&(e.split(a,l),a+=2*l),a+=c.child(n).nodeSize;return e}(n.tr,s,c,l,e).scrollIntoView()),!0)}}class Mw{constructor(e,t){var n;this.match=e,this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,o){let i=n;if(t[1]){let e=t[0].lastIndexOf(t[1]);i+=t[0].slice(e+t[1].length);let n=(r+=e)-o;n>0&&(i=t[0].slice(e-n,e)+i,r=o)}return e.tr.insertText(i,r,o)}):t}}const Aw=500;function Ow(e,t,n,r,o,i){if(e.composing)return!1;let s=e.state,l=s.doc.resolve(t);if(l.parent.type.spec.code)return!1;let a=l.parent.textBetween(Math.max(0,l.parentOffset-Aw),l.parentOffset,null,"￼")+r;for(let l=0;l<o.length;l++){let c=o[l].match.exec(a),u=c&&o[l].handler(s,c,t-(c[0].length-r.length),n);if(u)return e.dispatch(u.setMeta(i,{transform:u,from:t,to:n,text:r})),!0}return!1}const Iw=(e,t)=>{let n=e.plugins;for(let r=0;r<n.length;r++){let o,i=n[r];if(i.spec.isInputRules&&(o=i.getState(e))){if(t){let n=e.tr,r=o.transform;for(let e=r.steps.length-1;e>=0;e--)n.step(r.steps[e].invert(r.docs[e]));if(o.text){let t=n.doc.resolve(o.from).marks();n.replaceWith(o.from,o.to,e.schema.text(o.text,t))}else n.delete(o.from,o.to);t(n)}return!0}}return!1},Nw=new Mw(/--$/,"—"),Rw=new Mw(/\.\.\.$/,"…"),Lw=[new Mw(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new Mw(/"$/,"”"),new Mw(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new Mw(/'$/,"’")];function Fw(e,t,n=null,r){return new Mw(e,((e,o,i,s)=>{let l=n instanceof Function?n(o):n,a=e.tr.delete(i,s),c=a.doc.resolve(i).blockRange(),u=c&&qm(c,t,l);if(!u)return null;a.wrap(c,u);let h=a.doc.resolve(i-1).nodeBefore;return h&&h.type==t&&Hm(a.doc,i-1)&&(!r||r(o,h))&&a.join(i-1),a}))}function Pw(e,t,n=null){return new Mw(e,((e,r,o,i)=>{let s=e.doc.resolve(o),l=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,l):null}))}const zw="ProseMirror-prompt";function $w(e){let t=document.body.appendChild(document.createElement("div"));t.className=zw;let n=e=>{t.contains(e.target)||r()};setTimeout((()=>window.addEventListener("mousedown",n)),50);let r=()=>{window.removeEventListener("mousedown",n),t.parentNode&&t.parentNode.removeChild(t)},o=[];for(let t in e.fields)o.push(e.fields[t].render());let i=document.createElement("button");i.type="submit",i.className=zw+"-submit",i.textContent="OK";let s=document.createElement("button");s.type="button",s.className=zw+"-cancel",s.textContent="Cancel",s.addEventListener("click",r);let l=t.appendChild(document.createElement("form"));e.title&&(l.appendChild(document.createElement("h5")).textContent=e.title),o.forEach((e=>{l.appendChild(document.createElement("div")).appendChild(e)}));let a=l.appendChild(document.createElement("div"));a.className=zw+"-buttons",a.appendChild(i),a.appendChild(document.createTextNode(" ")),a.appendChild(s);let c=t.getBoundingClientRect();t.style.top=(window.innerHeight-c.height)/2+"px",t.style.left=(window.innerWidth-c.width)/2+"px";let u=()=>{let t=function(e,t){let n=Object.create(null),r=0;for(let o in e){let i=e[o],s=t[r++],l=i.read(s),a=i.validate(l);if(a)return Bw(s,a),null;n[o]=i.clean(l)}return n}(e.fields,o);t&&(r(),e.callback(t))};l.addEventListener("submit",(e=>{e.preventDefault(),u()})),l.addEventListener("keydown",(e=>{27==e.keyCode?(e.preventDefault(),r()):13!=e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey?9==e.keyCode&&window.setTimeout((()=>{t.contains(document.activeElement)||r()}),500):(e.preventDefault(),u())}));let h=l.elements[0];h&&h.focus()}function Bw(e,t){let n=e.parentNode,r=n.appendChild(document.createElement("div"));r.style.left=e.offsetLeft+e.offsetWidth+2+"px",r.style.top=e.offsetTop-5+"px",r.className="ProseMirror-invalid",r.textContent=t,setTimeout((()=>n.removeChild(r)),1500)}class qw{constructor(e){this.options=e}read(e){return e.value}validateType(e){return null}validate(e){return!e&&this.options.required?"Required field":this.validateType(e)||(this.options.validate?this.options.validate(e):null)}clean(e){return this.options.clean?this.options.clean(e):e}}class Vw extends qw{render(){let e=document.createElement("input");return e.type="text",e.placeholder=this.options.label,e.value=this.options.value||"",e.autocomplete="off",e}}function jw(e,t){let n=e.selection.$from;for(let e=n.depth;e>=0;e--){let r=n.index(e);if(n.node(e).canReplaceWith(r,r,t))return!0}return!1}function Hw(e,t){let n={label:t.title,run:e};for(let e in t)n[e]=t[e];return t.enable||t.select||(n[t.enable?"enable":"select"]=t=>e(t)),new cw(n)}function Uw(e,t){let{from:n,$from:r,to:o,empty:i}=e.selection;return i?!!t.isInSet(e.storedMarks||r.marks()):e.doc.rangeHasMark(n,o,t)}function Ww(e,t){let n={active:t=>Uw(t,e)};for(let e in t)n[e]=t[e];return Hw(Vk(e),n)}function Jw(e,t){return Hw(Tw(e,t.attrs),t)}function Gw(e){let t,n={};var r;let o;var i;if((t=e.marks.strong)&&(n.toggleStrong=Ww(t,{title:"Toggle strong style",icon:vw.strong})),(t=e.marks.em)&&(n.toggleEm=Ww(t,{title:"Toggle emphasis",icon:vw.em})),(t=e.marks.code)&&(n.toggleCode=Ww(t,{title:"Toggle code font",icon:vw.code})),(t=e.marks.link)&&(n.toggleLink=(r=t,new cw({title:"Add or remove link",icon:vw.link,active:e=>Uw(e,r),enable:e=>!e.selection.empty,run(e,t,n){if(Uw(e,r))return Vk(r)(e,t),!0;$w({title:"Create a link",fields:{href:new Vw({label:"Link target",required:!0}),title:new Vw({label:"Title"})},callback(e){Vk(r,e)(n.state,n.dispatch),n.focus()}})}}))),(o=e.nodes.image)&&(n.insertImage=(i=o,new cw({title:"Insert image",label:"Image",enable:e=>jw(e,i),run(e,t,n){let{from:r,to:o}=e.selection,s=null;e.selection instanceof fg&&e.selection.node.type==i&&(s=e.selection.node.attrs),$w({title:"Insert image",fields:{src:new Vw({label:"Location",required:!0,value:s&&s.src}),title:new Vw({label:"Title",value:s&&s.title}),alt:new Vw({label:"Description",value:s?s.alt:e.doc.textBetween(r,o," ")})},callback(e){n.dispatch(n.state.tr.replaceSelectionWith(i.createAndFill(e))),n.focus()}})}}))),(o=e.nodes.bullet_list)&&(n.wrapBulletList=Jw(o,{title:"Wrap in bullet list",icon:vw.bulletList})),(o=e.nodes.ordered_list)&&(n.wrapOrderedList=Jw(o,{title:"Wrap in ordered list",icon:vw.orderedList})),(o=e.nodes.blockquote)&&(n.wrapBlockQuote=function(e,t){let n={run:(n,r)=>Bk(e,t.attrs)(n,r),select:n=>Bk(e,t.attrs)(n)};for(let e in t)n[e]=t[e];return new cw(n)}(o,{title:"Wrap in block quote",icon:vw.blockquote})),(o=e.nodes.paragraph)&&(n.makeParagraph=Sw(o,{title:"Change to paragraph",label:"Plain"})),(o=e.nodes.code_block)&&(n.makeCodeBlock=Sw(o,{title:"Change to code block",label:"Code"})),o=e.nodes.heading)for(let e=1;e<=10;e++)n["makeHead"+e]=Sw(o,{title:"Change to heading "+e,label:"Level "+e,attrs:{level:e}});if(o=e.nodes.horizontal_rule){let e=o;n.insertHorizontalRule=new cw({title:"Insert horizontal rule",label:"Horizontal rule",enable:t=>jw(t,e),run(t,n){n(t.tr.replaceSelectionWith(e.create()))}})}let s=e=>e.filter((e=>e));return n.insertMenu=new fw(s([n.insertImage,n.insertHorizontalRule]),{label:"Insert"}),n.typeMenu=new fw(s([n.makeParagraph,n.makeCodeBlock,n.makeHead1&&new yw(s([n.makeHead1,n.makeHead2,n.makeHead3,n.makeHead4,n.makeHead5,n.makeHead6]),{label:"Heading"})]),{label:"Type..."}),n.inlineMenu=[s([n.toggleStrong,n.toggleEm,n.toggleCode,n.toggleLink])],n.blockMenu=[s([n.wrapBulletList,n.wrapOrderedList,n.wrapBlockQuote,bw,kw,ww])],n.fullMenu=n.inlineMenu.concat([[n.insertMenu,n.typeMenu]],[[xw,_w]],n.blockMenu),n}const Kw="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Zw(e,t){let n,r={};function o(e,n){if(t){let n=t[e];if(!1===n)return;n&&(e=n)}r[e]=n}if(o("Mod-z",_k),o("Shift-Mod-z",Sk),o("Backspace",Iw),Kw||o("Mod-y",Sk),o("Alt-ArrowUp",Mk),o("Alt-ArrowDown",Ak),o("Mod-BracketLeft",Ok),o("Escape",Lk),(n=e.marks.strong)&&(o("Mod-b",Vk(n)),o("Mod-B",Vk(n))),(n=e.marks.em)&&(o("Mod-i",Vk(n)),o("Mod-I",Vk(n))),(n=e.marks.code)&&o("Mod-`",Vk(n)),(n=e.nodes.bullet_list)&&o("Shift-Ctrl-8",Tw(n)),(n=e.nodes.ordered_list)&&o("Shift-Ctrl-9",Tw(n)),(n=e.nodes.blockquote)&&o("Ctrl->",Bk(n)),n=e.nodes.hard_break){let e=n,t=jk(Nk,((t,n)=>(n&&n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)));o("Mod-Enter",t),o("Shift-Enter",t),Kw&&o("Ctrl-Enter",t)}var i;if((n=e.nodes.list_item)&&(o("Enter",(i=n,function(e,t){let{$from:n,$to:r,node:o}=e.selection;if(o&&o.isBlock||n.depth<2||!n.sameParent(r))return!1;let s=n.node(-1);if(s.type!=i)return!1;if(0==n.parent.content.size&&n.node(-1).childCount==n.indexAfter(-1)){if(3==n.depth||n.node(-3).type!=i||n.index(-2)!=n.node(-2).childCount-1)return!1;if(t){let r=wf.empty,o=n.index(-1)?1:n.index(-2)?2:3;for(let e=n.depth-o;e>=n.depth-3;e--)r=wf.from(n.node(e).copy(r));let s=n.indexAfter(-1)<n.node(-2).childCount?1:n.indexAfter(-2)<n.node(-3).childCount?2:3;r=r.append(wf.from(i.createAndFill()));let l=n.before(n.depth-(o-1)),a=e.tr.replace(l,n.after(-s),new Ef(r,4-o,0)),c=-1;a.doc.nodesBetween(l,a.doc.content.size,((e,t)=>{if(c>-1)return!1;e.isTextblock&&0==e.content.size&&(c=t+1)})),c>-1&&a.setSelection(ag.near(a.doc.resolve(c))),t(a.scrollIntoView())}return!0}let l=r.pos==n.end()?s.contentMatchAt(0).defaultType:null,a=e.tr.delete(n.pos,r.pos),c=l?[null,{type:l}]:void 0;return!!jm(a.doc,n.pos,2,c)&&(t&&t(a.split(n.pos,2,c).scrollIntoView()),!0)})),o("Mod-[",function(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,(t=>t.childCount>0&&t.firstChild.type==e));return!!i&&(!n||(r.node(i.depth-1).type==e?function(e,t,n,r){let o=e.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new Pm(i-1,s,i,s,new Ef(wf.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new jf(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const l=Bm(r);if(null==l)return!1;o.lift(r,l);let a=o.mapping.map(i,-1)-1;return Hm(o.doc,a)&&o.join(a),t(o.scrollIntoView()),!0}(t,n,e,i):function(e,t,n){let r=e.tr,o=n.parent;for(let e=n.end,t=n.endIndex-1,i=n.startIndex;t>i;t--)e-=o.child(t).nodeSize,r.delete(e-1,e+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=0==n.startIndex,a=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(l?0:1),u+1,s.content.append(a?wf.empty:wf.from(o))))return!1;let h=i.pos,d=h+s.nodeSize;return r.step(new Pm(h-(l?1:0),d+(a?1:0),h+1,d-1,new Ef((l?wf.empty:wf.from(o.copy(wf.empty))).append(a?wf.empty:wf.from(o.copy(wf.empty))),l?0:1,a?0:1),l?0:1)),t(r.scrollIntoView()),!0}(t,n,i)))}}(n)),o("Mod-]",function(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,(t=>t.childCount>0&&t.firstChild.type==e));if(!i)return!1;let s=i.startIndex;if(0==s)return!1;let l=i.parent,a=l.child(s-1);if(a.type!=e)return!1;if(n){let r=a.lastChild&&a.lastChild.type==l.type,o=wf.from(r?e.create():null),s=new Ef(wf.from(e.create(null,wf.from(l.type.create(null,o)))),r?3:1,0),c=i.start,u=i.end;n(t.tr.step(new Pm(c-(r?3:1),u,c,u,s,1,!0)).scrollIntoView())}return!0}}(n))),(n=e.nodes.paragraph)&&o("Shift-Ctrl-0",qk(n)),(n=e.nodes.code_block)&&o("Shift-Ctrl-\\",qk(n)),n=e.nodes.heading)for(let e=1;e<=6;e++)o("Shift-Ctrl-"+e,qk(n,{level:e}));if(n=e.nodes.horizontal_rule){let e=n;o("Mod-_",((t,n)=>(n&&n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)))}return r}function Yw(e){let t,n=Lw.concat(Rw,Nw);return(t=e.nodes.blockquote)&&n.push(Fw(/^\s*>\s$/,t)),(t=e.nodes.ordered_list)&&n.push(Fw(/^(\d+)\.\s$/,t,(e=>({order:+e[1]})),((e,t)=>t.childCount+t.attrs.order==+e[1]))),(t=e.nodes.bullet_list)&&n.push(function(e){return Fw(/^\s*([-+*])\s$/,e)}(t)),(t=e.nodes.code_block)&&n.push(function(e){return Pw(/^```$/,e)}(t)),(t=e.nodes.heading)&&n.push(function(e,t){return Pw(new RegExp("^(#{1,6})\\s$"),e,(e=>({level:e[1].length})))}(t)),function({rules:e}){let t=new Eg({state:{init:()=>null,apply(e,t){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(n,r,o,i)=>Ow(n,r,o,i,e,t),handleDOMEvents:{compositionend:n=>{setTimeout((()=>{let{$cursor:r}=n.state.selection;r&&Ow(n,r.pos,r.pos,"",e,t)}))}}},isInputRules:!0});return t}({rules:n})}function Xw(e){let t=[Yw(e.schema),ok(Zw(e.schema,e.mapKeys)),ok(Gk),Kk(),new Eg({props:{decorations:rw,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&Yk.valid(n)?new Yk(n):null,handleClick:tw,handleKeyDown:Qk,handleDOMEvents:{beforeinput:nw}}})];return!1!==e.menuBar&&t.push(function(e){return new Eg({view:t=>new Ew(t,e)})}({floating:!1!==e.floatingMenu,content:e.menuContent||Gw(e.schema).fullMenu})),!1!==e.history&&t.push(function(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Eg({key:wk,state:{init:()=>new pk(hk.empty,hk.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let o,i=n.getMeta(wk);if(i)return i.historyState;n.getMeta(xk)&&(e=new pk(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(wk))return s.getMeta(wk).redo?new pk(e.done.addTransform(n,void 0,r,kk(t)),e.undone,mk(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new pk(e.done,e.undone.addTransform(n,void 0,r,kk(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new pk(e.done.rebased(n,o),e.undone.rebased(n,o),gk(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new pk(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),gk(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let o=n.getMeta("composition"),i=0==e.prevTime||!s&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),l=s?gk(e.prevRanges,n.mapping):mk(n.mapping.maps[n.steps.length-1]);return new pk(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,kk(t)),hk.empty,l,n.time,null==o?e.prevComposition:o)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?_k:"historyRedo"==n?Sk:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}()),t.concat(new Eg({props:{attributes:{class:"ProseMirror-example-setup-style"}}}))}function Qw(e){return Qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qw(e)}function ex(){ex=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,s=Object.create(i.prototype),l=new C(o||[]);return r(s,"_invoke",{value:w(e,n,l)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function p(){}function f(){}var m={};a(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(D([])));y&&y!==t&&n.call(y,i)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,i,s,l){var a=u(e[r],e,i);if("throw"!==a.type){var c=a.arg,h=c.value;return h&&"object"==Qw(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(a.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=x(s,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=u(e,t,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===h)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=f,r(v,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=a(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(k.prototype),a(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new k(c(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(v),a(v,l,"Generator"),a(v,i,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(l&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function tx(e,t,n,r,o,i,s){try{var l=e[i](s),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(r,o)}const nx={name:"custom-header",data:function(){var e,t,n,r,o,i;return{title:(null===(e=this.header)||void 0===e?void 0:e.title)||"",titleColor:(null===(t=this.header)||void 0===t?void 0:t.titleColor)||"#000000",imageFile:(null===(n=this.header)||void 0===n?void 0:n.imageFile)||"",imageW:(null===(r=this.header)||void 0===r?void 0:r.imageW)||300,headerType:(null===(o=this.header)||void 0===o?void 0:o.headerType)||4,enabled:1==+(null===(i=this.header)||void 0===i?void 0:i.enabled),imageFiles:[],headerTypes:[{value:1,text:"left of image area"},{value:2,text:"right of image area"},{value:3,text:"below image area"},{value:4,text:"above image area"},{value:5,text:"within image area"}],maxImageWidth:1400,minImageWidth:0,showMarkdownTips:!1,editorType:"markdown",editorTarget:null,prosemirrorView:null}},created:function(){this.getImageFiles()},mounted:function(){this.editorTarget=document.getElementById("editor_target")},components:{MarkdownTable:gf},inject:["updateHomeDesign","appIsUpdating","header","truncateText","markdownToHTML","openHistoryDialog","isEditingMode","APIroot","rootPath"],computed:{headerOBJ:function(){return{title:XSSHelpers.stripAllTags(this.title).trim(),titleColor:this.titleColor,imageFile:this.imageFile,imageW:+this.imageW,headerType:+this.headerType,enabled:+this.enabled}},headerContentChanged:function(){var e=!1;for(var t in this.headerOBJ)if(this.header[t]!==this.headerOBJ[t]){e=!0;break}return e},headerWrapperFlex:function(){var e="row";switch(this.headerType){case 2:e="row-reverse";break;case 3:e="column-reverse";break;case 4:e="column"}return e},headerInnerTextStyles:function(){var e=this.titleColor.slice(1).match(/.{2}/gi).every((function(e){return parseInt("0x".concat(e),16)<125}))?"rgba(255,255,255,0.3)":"rgba(0,0,20,0.3)";return{color:this.titleColor,backgroundColor:"".concat(e)}},markdownButtonTitle:function(){return this.showMarkdownTips?"Hide markdown tips":"Show markdown tips"},wrapperStyles:function(){return{flexDirection:this.headerWrapperFlex,marginBottom:this.isEditingMode?"1rem":"2rem"}}},methods:{getImageFiles:function(){var e,t=this;return(e=ex().mark((function e(){var n,r,o;return ex().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=/\.(jpg|jpeg|svg|gif|png)$/i,e.prev=1,e.next=4,fetch(t.APIroot+"system/files");case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,t.imageFiles=o.filter((function(e){return n.test(e)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("error getting files: ".concat(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){tx(i,r,o,s,l,"next",e)}function l(e){tx(i,r,o,s,l,"throw",e)}s(void 0)}))})()},setupProseView:function(){var e=this,t=new Ob(this.editorTarget,{state:Cg.create({doc:Ub.parse(e.title),plugins:Xw({schema:zb})}),dispatchTransaction:function(n){var r=t.state.apply(n);t.updateState(r),e.title=Wb.serialize(t.state.doc)}});this.prosemirrorView=t},focusEditor:function(){"markdown"===this.editorType?document.getElementById("header_title").focus():this.prosemirrorView.focus()}},watch:{editorType:function(e,t){var n=this;"prose"===t.toLowerCase()?this.prosemirrorView.destroy():this.setupProseView(),setTimeout((function(){n.focusEditor()}))}},template:'<section id="custom_header">\n        \x3c!-- NOTE: HEADER EDITING --\x3e\n        <div v-show="isEditingMode" id="edit_header">\n            <div class="design_control_heading">\n                <h3>Header Controls</h3>\n                <button type="button" id="custom_header_last_update" @click.prevent="openHistoryDialog"\n                    style="display: none;">\n                </button>\n            </div>\n            <div id="custom_header_inputs">\n                \x3c!-- MARKDOWN AREA --\x3e\n                <div id="custom_header_left">\n                    <label for="header_title" style="position: relative;">Header Text\n                        <span v-show="editorType===\'markdown\'" id="btn_markdown_tips" role="button" tabindex="0"\n                            @click="showMarkdownTips=!showMarkdownTips" @keyup.enter="showMarkdownTips=!showMarkdownTips"\n                            :title="markdownButtonTitle">ℹ <span style="color: #000000;">md</span>\n                        </span>\n                        \x3c!-- NOTE: markdown view --\x3e\n                        <textarea v-show="editorType===\'markdown\'" id="header_title" v-model="title" rows="6"></textarea>\n                        \x3c!-- NOTE: prose view --\x3e\n                        <div v-show="editorType===\'prose\'" id="editor_target"></div>\n                    </label>\n                    <div style="display:flex; justify-content: center;">\n                        <label style="display: flex; padding-right: 8px; border-right: 2px solid #cadff0; width: auto;">markdown\n                            <input type="radio" name="mark_prose" style="width:auto;" value="markdown" v-model="editorType" />\n                        </label>\n                        <label style="display: flex; padding-left: 5px; width: auto;">\n                            <input type="radio" name="mark_prose" style="width:auto" value="prose" v-model="editorType" />\n                            WYSIWYG\n                        </label>\n                    </div>\n                </div>\n\n                \x3c!-- OTHER CONTROLS --\x3e\n                <div id="custom_header_right">\n                    <label for="title_color">Font Color\n                        <input type="color" id="title_color" v-model="titleColor" />\n                    </label>\n                    <label for="image_select">File Manager Image\n                        <select id="image_select" style="width: 160px;" v-model="imageFile">\n                            <option value="">none</option>\n                            <option v-for="i in imageFiles" :value="i" :key="i">{{ truncateText(i) }}</option>\n                        </select>\n                    </label>\n                    <label for="header_type_select" v-show="imageFile !==\'\'">Text Position\n                        <select id="header_type_select" style="width: 130px;" v-model.number="headerType">\n                            <option v-for="t in headerTypes" :value="t.value" :key="\'type_\' + t.value">{{ t.text }}</option>\n                        </select>\n                    </label>\n                    <label for="image_width" v-show="imageFile !==\'\'">Image Width\n                        <input id="image_width" type="number" min="0" :max="maxImageWidth" step=10 v-model.number="imageW"/>\n                    </label>\n\n                    \x3c!-- HIDE/ENABLE SAVE --\x3e\n                    <div style="display: flex; gap: 1rem; margin: auto 0 0 auto;">\n                        <label class="checkable leaf_check" for="header_enable"\n                            style="margin: 0" :style="{color: +enabled === 1 ? \'#008060\' : \'#b00000\'}"\n                            :title="+enabled === 1 ? \'uncheck to disable\' : \'check to enable\'">\n                            <input type="checkbox" id="header_enable" v-model="enabled" class="icheck leaf_check"/>\n                            <span class="leaf_check"></span>{{ +enabled === 1 ? \'enabled\' : \'hidden\'}}\n                        </label>\n                        <button type="button" class="btn-confirm" @click="updateHomeDesign(\'header\', headerOBJ)"\n                            :disabled="!headerContentChanged || appIsUpdating">\n                            Save Changes\n                        </button>\n                    </div>\n                </div> \x3c!-- right side --\x3e\n            </div> \x3c!-- controls --\x3e\n        </div>\n        <MarkdownTable v-show="showMarkdownTips && isEditingMode && editorType === \'markdown\'" />\n        \x3c!-- NOTE: HEADER DISPLAY --\x3e\n        <div id="header_display_wrapper" :style="wrapperStyles">\n            <div v-show="headerType !== 5 && title !== \'\'" v-html="markdownToHTML(title)" id="custom_header_outer_text" style="padding: 0;" :style="{color: titleColor}"></div>\n            <div v-show="imageFile!==\'\'" id="custom_header_image_container">\n                <img :src="rootPath + \'files/\' + imageFile" :style="{width: imageW + \'px\'}" alt="custom header image" />\n                <div v-show="headerType===5 && title!==\'\'" v-html="markdownToHTML(title)" id="custom_header_inner_text" :style="headerInnerTextStyles"></div>\n            </div>\n        </div>\n    </section>'};function rx(e){return rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(e)}function ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ix(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ox(Object(n),!0).forEach((function(t){sx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==rx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==rx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===rx(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lx(e){return lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(e)}function ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==lx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==lx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===lx(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ux(e){return function(e){if(Array.isArray(e))return hx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return hx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hx(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const dx={name:"custom-search",data:function(){var e=this;return{isSearching:!1,months:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],adminHeaders:{date:{name:"Date",indicatorID:"date",editable:!1,callback:function(t,n){var r=new Date(1e3*n[t.recordID].date),o=(new Date).getFullYear()!=r.getFullYear()?" "+r.getFullYear():"",i=e.months[r.getMonth()]+" "+parseFloat(r.getDate())+o,s=document.querySelector("#".concat(t.cellContainerID));null!==s&&(s.innerHTML=i,n[t.recordID].userID==e.userID&&(s.style.backgroundColor="#feffd1"))}},title:{name:"Title",indicatorID:"title",callback:function(t,n){var r="";for(var o in n[t.recordID].categoryNames)""!=n[t.recordID].categoryNames[o]&&(r+=n[t.recordID].categoryNames[o]+" | ");r=r.slice(0,r.length-3);var i=-10==n[t.recordID].priority,s=i?'<span style="color: red"> ( Emergency ) </span>':"",l=i?' style="background-color: red; color: black"':"",a=document.querySelector("#".concat(t.cellContainerID));null!==a&&(a.innerHTML='<span class="browsecounter">\n                                <a '.concat(l,' href="').concat(e.rootPath,"index.php?a=printview&recordID=").concat(t.recordID,'" tabindex="-1">').concat(t.recordID,'</a>\n                            </span>\n                            <a href="').concat(e.rootPath,"index.php?a=printview&recordID=").concat(t.recordID,'">').concat(n[t.recordID].title,'</a><br />\n                            <span class="browsetypes">').concat(r,"</span>").concat(s),a.addEventListener("click",(function(){window.location="".concat(e.rootPath,"index.php?a=printview&recordID=").concat(t.recordID)})))}},service:{name:"Service",indicatorID:"service",editable:!1,callback:function(t,n){var r=document.querySelector("#".concat(t.cellContainerID));null!==r&&(r.innerHTML=n[t.recordID].service,n[t.recordID].userID==e.userID&&(r.style.backgroundColor="#feffd1"))}},status:{name:"Status",indicatorID:"currentStatus",editable:!1,callback:function(t,n){var r=0==n[t.recordID].blockingStepID?"Pending ":"Waiting for ",o="";if(null==n[t.recordID].stepID&&"0"==n[t.recordID].submitted){var i=null==n[t.recordID].lastStatus?"Not Submitted":"Pending Re-submission";o='<span style="color: #e00000">'.concat(i,"</span>")}else if(null==n[t.recordID].stepID){var s=n[t.recordID].lastStatus;""==s&&(s='<a href="'.concat(e.rootPath,"index.php?a=printview&recordID='+ data.recordID +'\">Check Status</a>")),o='<span style="font-weight: bold">'+s+"</span>"}else o=r+n[t.recordID].stepTitle;n[t.recordID].deleted>0&&(o+=", Cancelled");var l=document.querySelector("#".concat(t.cellContainerID));null!==l&&(l.innerHTML=o,n[t.recordID].userID==e.userID&&(l.style.backgroundColor="#feffd1"))}},initiatorName:{name:"Initiator",indicatorID:"initiator",editable:!1,callback:function(e,t){var n=document.querySelector("#".concat(e.cellContainerID));null!==n&&(n.innerHTML=t[e.recordID].firstName+" "+t[e.recordID].lastName)}}},sort:{column:"recordID",direction:"desc"},headerOptions:["date","title","service","status","initiatorName"],searchHeadersSelect:ux(this.searchHeaders),choicesSelectID:"choices_header_select"}},mounted:function(){var e;this.createChoices();var t=document.getElementById("searchContainer");!1===this.isEditingMode&&(null===(e=this.searchHeadersSelect)||void 0===e?void 0:e.length)>0&&!1===this.isSearching&&null!==t&&(t.innerHTML="",this.main())},inject:["userID","rootPath","orgchartPath","isEditingMode","appIsUpdating","searchHeaders","updateHomeDesign","currentDesignID","openHistoryDialog"],computed:{contentChanged:function(){return JSON.stringify(this.searchHeaders)!==JSON.stringify(this.searchHeadersSelect)},searchJoins:function(){var e=["service","categoryName","status","initiatorName","action_history","stepFulfillmentOnly","recordResolutionData"],t=[];return this.searchHeadersSelect.forEach((function(n){"title"===n?t.push("categoryName"):e.includes(n)&&t.push(n)})),t}},methods:{createChoices:function(){var e=this,t=document.getElementById(this.choicesSelectID);if(null!==t&&!0===t.multiple&&"active"!==(null==t?void 0:t.getAttribute("data-choice"))){var n=ux(this.searchHeadersSelect);this.headerOptions.forEach((function(e){n.includes(e)||n.push(e)})),n=n.map((function(t){return{value:t,label:e.getLabel(t),selected:e.searchHeadersSelect.includes(t)}}));var r=new Choices(t,{allowHTML:!1,removeItemButton:!0,editItems:!0,shouldSort:!1,choices:n});t.choicesjs=r}var o=t.nextElementSibling;null!==o&&(o.setAttribute("role","listbox"),o.querySelectorAll(".choices__item.choices__item--selectable").forEach((function(e){e.setAttribute("role","option")})))},getLabel:function(e){var t="";switch(e.toLowerCase()){case"date":case"title":case"service":case"status":t=e;break;case"initiatorname":t="initiator"}return t},renderResult:function(e,t){var n=this,r=this.searchHeadersSelect.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ax(Object(n),!0).forEach((function(t){cx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.adminHeaders[e])})),o=new LeafFormGrid(e.getResultContainerID(),{readOnly:!0});o.setRootURL(this.rootPath),o.hideIndex(),o.setDataBlob(t),o.setHeaders(r);var i=[];for(var s in t)i.push(t[s]);o.setData(i),o.sort(this.sort.column,this.sort.direction),o.renderBody(),o.announceResults()},main:function(){var e=this;this.isSearching=!0;var t=new LeafFormQuery;t.setRootURL(this.rootPath);var n=new LeafFormSearch("searchContainer");n.setRootURL(this.rootPath),n.setOrgchartPath(this.orgchartPath);var r=0,o=!1,i=!1,s={},l=0,a=50,c=!1,u=0;t.onSuccess((function(h,d,p){var f=document.getElementById("searchContainer"),m=document.getElementById("searchContainer_getMoreResults");if(null!==f&&null!==m){if(s=Object.assign(s,h),0==r)for(var g in h)if(h[g].userID==e.userID){i=!0;break}if(0==r&&0==i&&""==n.getSearchInput())return r=1,t.addTerm("userID","=",e.userID),t.execute(),!1;if((Object.keys(h).length==a||"continue"==p.getResponseHeader("leaf-query"))&&o&&!c)return document.querySelector("#"+n.getResultContainerID()).innerHTML="<h3>Searching ".concat(l,'+ possible records...</h3><p><button id="btn_abortSearch" class="buttonNorm">Stop searching for more</button></p>'),document.querySelector("#btn_abortSearch").addEventListener("click",(function(){c=!0})),l+=a,t.setLimit(l,a),void t.execute();e.renderResult(n,s),window.scrollTo(0,u),document.querySelector("#searchContainer_getMoreResults").style.display=o||!1!==e.isEditingMode?"none":"inline",e.isSearching=!1}}));var h=+this.currentDesignID;n.setSearchFunc((function(n){if(!e.isEditingMode&&h===+e.currentDesignID){if(void 0===n||"undefined"===n){n="";var r=document.querySelector('input[id$="_searchtxt"]');null!==r&&(r.value="")}else n=(n||"").trim();t.clearTerms(),s={},l=0,o=!1,u=0,c=!1;var i={},d=!0;try{i=JSON.parse(n)}catch(e){d=!1}if(""===n)t.addTerm("title","LIKE","*");else if(!isNaN(parseFloat(n))&&isFinite(n))t.addTerm("recordID","=",n);else if(d)for(var p in i)"data"!=i[p].id&&"dependencyID"!=i[p].id?t.addTerm(i[p].id,i[p].operator,i[p].match,i[p].gate):t.addDataTerm(i[p].id,i[p].indicatorID,i[p].operator,i[p].match,i[p].gate);else t.addTerm("title","LIKE","*"+n+"*");var f=!1;for(var m in t.getQuery().terms)if("stepID"==t.getQuery().terms[m].id&&"="==t.getQuery().terms[m].operator&&"deleted"==t.getQuery().terms[m].match){f=!0;break}return f||t.addTerm("deleted","=",0),t.setLimit(a),e.searchJoins.forEach((function(e){return t.join(e)})),t.sort("date","DESC"),t.execute()}})),n.init(),document.querySelector("#"+n.getResultContainerID()).innerHTML="<h3>Searching for records...</h3>",document.querySelector("#searchContainer_getMoreResults").addEventListener("click",(function(){if(o=!0,u=window.scrollY,""==n.getSearchInput()){var e=t.getQuery();for(var r in e.terms)"userID"==e.terms[r].id&&e.terms.splice(r,1);t.setQuery(e)}l+=a,t.setLimit(l,a),t.execute()}))}},watch:{isEditingMode:function(e,t){var n,r=document.getElementById("searchContainer");null!==r&&(r.innerHTML="",!1===e&&(null===(n=this.searchHeadersSelect)||void 0===n?void 0:n.length)>0&&this.main())}},template:'<section style="display: flex; flex-direction: column;" :style="{margin: isEditingMode ? \'0\' : \'auto\'}" :key="\'searchsection_\' + currentDesignID">\n        <div v-show="isEditingMode" id="edit_search">\n            <div class="design_control_heading">\n                <h3>Search Controls</h3>\n                <button type="button" id="custom_search_last_update" @click.prevent="openHistoryDialog"\n                    style="display: none;">\n                </button>\n            </div>\n            <p>Select table headers in the order that you would like them to appear \n            (Choose no headers for no search section).</p>\n            <label :id="choicesSelectID + \'_label\'" style="display:block;">Selected headers\n                <select :id="choicesSelectID" v-model="searchHeadersSelect" multiple></select>\n            </label>\n            <button type="button" class="btn-confirm" style="align-self: flex-end;"\n                :disabled="appIsUpdating || !contentChanged"\n                @click="updateHomeDesign(\'searchHeaders\', searchHeadersSelect)">Save Changes\n            </button>\n        </div>\n        <div v-if="isSearching" class="loading">\n            Loading...\n            <img src="../images/largespinner.gif" alt="loading..." />\n        </div>\n        <div v-show="!isSearching" id="searchContainer"></div>\n        <button v-show="!isEditingMode" id="searchContainer_getMoreResults" class="buttonNorm" style="display: none; margin-left:auto;">\n            Show more records\n        </button>\n    </section>'};function px(e){return px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(e)}function fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==px(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==px(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===px(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gx={name:"homepage",data:function(){return{builtInIDs:["btn_reports","btn_bookmarks","btn_inbox","btn_new_request"],pageSections:["header","menuCardList","menuDirection","searchHeaders"],menuItem:{},header:null,menuDirection:null,menuCardList:null,searchHeaders:null}},mounted:function(){null!==this.selectedDesignContent&&this.setSectionData(this.selectedDesignContent)},unmounted:function(){console.log("search unmounted")},inject:["appIsGettingData","appIsUpdating","postDesignContent","selectedDesign","currentDesignID","currentView","isEditingMode","generateID","openDesignCardDialog","showFormDialog","dialogFormContent"],provide:function(){var e=this;return{menuItem:Ss((function(){return e.menuItem})),menuDirection:Ss((function(){return e.menuDirection})),menuCardList:Ss((function(){return e.menuCardList})),searchHeaders:Ss((function(){return e.searchHeaders})),header:Ss((function(){return e.header})),builtInIDs:this.builtInIDs,setMenuItem:this.setMenuItem,updateHomeDesign:this.updateHomeDesign,updateMenuItemList:this.updateMenuItemList}},components:{LeafFormDialog:sf,DesignCardDialog:af,ConfirmPublishDialog:cf,ConfirmDeleteDialog:uf,NewDesignDialog:hf,HistoryDialog:mf,CustomHeader:nx,CustomHomeMenu:{name:"custom-home-menu",data:function(){return{menuDirectionSelection:this.menuDirection,builtInButtons:[{id:"btn_reports",order:-1,title:"Report Builder",titleColor:"#ffffff",subtitle:"View saved links to requests",subtitleColor:"#ffffff",bgColor:"#000000",icon:"x-office-spreadsheet.svg",link:"?a=reports&v=3",enabled:1},{id:"btn_bookmarks",order:-2,title:"Bookmarks",titleColor:"#000000",subtitle:"View saved links to requests",subtitleColor:"#000000",bgColor:"#7eb2b3",icon:"bookmark.svg",link:"?a=bookmarks",enabled:1},{id:"btn_inbox",order:-3,title:"Inbox",titleColor:"#000000",subtitle:"Review and apply actions to active requests",subtitleColor:"#000000",bgColor:"#b6ef6d",icon:"document-open.svg",link:"?a=inbox",enabled:1},{id:"btn_new_request",order:-4,title:"New Request",titleColor:"#ffffff",subtitle:"Start a new request",subtitleColor:"#ffffff",bgColor:"#2372b0",icon:"document-new.svg",link:"?a=newform",enabled:1}]}},mounted:function(){console.log("menu section mounted")},components:{CustomMenuItem:lf},inject:["isEditingMode","builtInIDs","menuCardList","menuDirection","appIsUpdating","updateMenuItemList","updateHomeDesign","setMenuItem","openHistoryDialog"],computed:{sectionStyles:function(){var e={};return this.isEditingMode||"h"!==this.menuDirection||(e.width="100%",e.display="flex",e.justifyContent="center"),e},ulStyles:function(){return this.isEditingMode||"v"===this.menuDirectionSelection?{flexDirection:"column"}:{flexWrap:"wrap"}},menuItemListDisplay:function(){return this.isEditingMode?this.menuCardList:this.menuCardList.filter((function(e){return 1==+e.enabled&&""!==e.link}))},allBuiltinsPresent:function(){var e=this,t=!0;return this.builtInIDs.forEach((function(n){!0!==t||e.menuCardList.some((function(e){return e.id===n}))||(t=!1)})),t}},methods:{addStarterCards:function(){var e=this,t=0,n=this.menuCardList.map((function(e){return ix({},e)}));this.builtInButtons.forEach((function(r){!e.menuCardList.some((function(e){return e.id===r.id}))&&(n.unshift(ix({},r)),t+=1)})),t>0&&this.updateHomeDesign("menuCardList",n)},onDragStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null!=e&&e.dataTransfer&&(e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",e.target.id))},onDrop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!=e&&e.dataTransfer&&"move"===e.dataTransfer.effectAllowed){var t=e.dataTransfer.getData("text"),n=e.currentTarget,r=Array.from(document.querySelectorAll("ul#menu > li")),o=document.getElementById(t),i=r.filter((function(e){return e.id!==t})).find((function(t){return window.scrollY+e.clientY<=t.offsetTop+t.offsetHeight/2}));n.insertBefore(o,i),this.updateMenuItemList()}},clickToMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];32===(null==e?void 0:e.keyCode)&&e.preventDefault();var r=e.currentTarget.closest("ul"),o=document.getElementById(t),i=Array.from(r.querySelectorAll("li")),s=i.indexOf(o),l=i.filter((function(e){return e!==o})),a=n?s-1:s+1;a>-1&&a<i.length&&(l.splice(a,0,o),i.forEach((function(e){return r.removeChild(e)})),l.forEach((function(e){r.appendChild(e)})),this.updateMenuItemList())},updateDirection:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(null==t||null===(e=t.target)||void 0===e?void 0:e.value)||"";""!==n&&n!==this.menuDirection&&this.updateHomeDesign("menuDirection",this.menuDirectionSelection)}},template:'<section id="custom_menu" :style="sectionStyles">\n        <div id="menu_wrapper" :class="{editMode: isEditingMode}">\n            <div v-show="isEditingMode" id="edit_menu">\n                <div class="design_control_heading">\n                    <h3>Menu Controls</h3>\n                    <button type="button" id="custom_menu_last_update" @click.prevent="openHistoryDialog"\n                        style="display: none;">\n                    </button>\n                </div>\n                <p>\n                    Drag-Drop cards or use the up and down buttons to change their order.<br/>Use the card menu to edit text and other values.\n                </p>\n                <div style="display:flex; gap: 1rem; padding-top: 0.5em; border-top: 2px solid #cadff0">\n                    <button v-if="!allBuiltinsPresent" type="button" class="btn-general" @click="addStarterCards()">+ Starter Cards</button>\n                    <button type="button" class="btn-general" @click="setMenuItem(null)">+ New Card</button>\n                    <label for="menu_direction_select" style="margin: 0 0 0 auto; display: flex;">Display In&nbsp;\n                        <select id="menu_direction_select" style="margin: 0; width: 80px; height: 25px;" v-model="menuDirectionSelection"\n                            @change="updateDirection" :disabled="appIsUpdating">\n                            <option value="v">Columns</option>\n                            <option value="h">Rows</option>\n                        </select>\n                    </label>\n                </div>\n            </div>\n            <ul v-if="menuItemListDisplay.length > 0" id="menu"\n                :class="{editMode: isEditingMode}" :style="ulStyles"\n                data-effect-allowed="move"\n                @drop.stop="onDrop"\n                @dragover.prevent>\n                <li v-for="m in menuItemListDisplay" :key="m.id" :id="m.id" :class="{editMode: isEditingMode}"\n                    :aria-label="+m.enabled === 1 ? \'This card is enabled\' : \'This card is hidden\'"\n                    :draggable="isEditingMode && !appIsUpdating ? true : false"\n                    @dragstart.stop="onDragStart">\n                    <custom-menu-item :menuItem="m"></custom-menu-item>\n                    <div v-show="isEditingMode" class="edit_card">\n                        <div tabindex="0" role="button"\n                        @click="clickToMove($event, m.id, true)" @keydown.stop.enter.space="clickToMove($event, m.id, true)"\n                            aria-label="click to move card up" class="click_to_move up"></div>\n                        <button type="button" @click="setMenuItem(m)" title="edit this card" class="edit_menu_card btn-general">\n                            <span role="img" aria="">☰</span>\n                        </button>\n                        <div tabindex="0" role="button"\n                            @click="clickToMove($event, m.id, false)" @keydown.stop.enter.space="clickToMove($event, m.id, false)"\n                            aria-label="click to move card down" class="click_to_move down"></div>\n                        <div class="notify_status" :class="{hidden: +m.enabled !== 1}">{{+m.enabled === 1 ? \'enabled\' : \'hidden\'}}</div>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </section>'},CustomSearch:dx},computed:{selectedDesignContent:function(){var e;return null===this.selectedDesign?null:JSON.parse((null===(e=this.selectedDesign)||void 0===e?void 0:e.designContent)||"{}")},showSearch:function(){var e;return this.isEditingMode||!this.isEditingMode&&(null===(e=this.searchHeaders)||void 0===e?void 0:e.length)>0}},methods:{setSectionData:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.header=(null==n?void 0:n.header)||{},void 0!==this.header.title&&(this.header.title=XSSHelpers.stripAllTags(XSSHelpers.decodeHTMLEntities(this.header.title)).trim()),this.menuDirection=(null==n||null===(e=n.menu)||void 0===e?void 0:e.direction)||"v";var r=(null==n||null===(t=n.menu)||void 0===t?void 0:t.menuCards)||[];r.map((function(e){e.link=XSSHelpers.decodeHTMLEntities(e.link),e.title=XSSHelpers.decodeHTMLEntities(e.title),e.subtitle=XSSHelpers.decodeHTMLEntities(e.subtitle)})),this.menuCardList=r.sort((function(e,t){return e.order-t.order})),this.searchHeaders=(null==n?void 0:n.searchHeaders)||[]},setMenuItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.menuItem=null!==e?e:{id:this.generateID(this.menuCardList,"id"),order:this.menuCardList.length,enabled:0},this.openDesignCardDialog()},updateHomeDesign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.pageSections.includes(e)&&(this[e]=t,this.postDesignContent(JSON.stringify({menu:{menuCards:this.menuCardList||[],direction:this.menuDirection||"v"},header:this.header||"{}",searchHeaders:this.searchHeaders||[]}),e))},updateMenuItemList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.menuCardList.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fx(Object(n),!0).forEach((function(t){mx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}));if(null===e){var r=[];Array.from(document.querySelectorAll("ul#menu > li")).forEach((function(e){return r.push(e.id)})),n.forEach((function(e){var t=r.indexOf(e.id);t>-1&&(e.order=t)}))}else n=n.filter((function(t){return t.id!==e.id})),!0!==t&&n.push(e);this.menuCardList=n.sort((function(e,t){return e.order-t.order})),this.updateHomeDesign("menuCardList",n)}},watch:{selectedDesign:function(e,t){null!==e?this.setSectionData(this.selectedDesignContent):(this.header=null,this.searchHeaders=null,this.menuCardList=null,this.menuDirection=null,this.menuItem={})}},template:'<div v-if="appIsGettingData" class="loading">\n        Loading... \n        <img src="../images/largespinner.gif" alt="loading..." />\n    </div>\n    <div>\n        <CustomHeader v-if="header!==null" :key="\'header_\' + currentDesignID" />\n        <div id="menu_and_search" :class="{editMode: isEditingMode}">\n            <customHomeMenu v-if="menuCardList!==null" :key="\'menu_\' + currentDesignID" />\n            <customSearch v-if="searchHeaders!==null && showSearch" :key="\'search_\' + currentDesignID" />\n        </div>\n\n        \x3c!-- DIALOGS --\x3e\n        <leaf-form-dialog v-if="showFormDialog">\n            <template #dialog-content-slot>\n                <component :is="dialogFormContent" historyType="design" :historyID="currentView"></component>\n            </template>\n        </leaf-form-dialog>\n    </div>'};var yx=[{path:"/",redirect:{name:"homepage"}},{path:"/bodyarea",redirect:{name:"homepage"}},{path:"/homepage",name:"homepage",component:gx},{path:"/testpage",name:"testpage",component:{name:"testpage",inject:["appIsGettingData","showFormDialog","currentDesignID","currentView","dialogFormContent"],created:function(){console.log("testpage view created")},components:{LeafFormDialog:sf,ConfirmPublishDialog:cf,ConfirmDeleteDialog:uf,NewDesignDialog:hf,HistoryDialog:mf},watch:{selectedDesign:function(e,t){null!==e?console.log("not null"):console.log("null")}},template:'<div v-if="appIsGettingData" style="border: 2px solid black; text-align: center; \n        font-size: 24px; font-weight: bold; padding: 16px;">\n        Loading... \n        <img src="../images/largespinner.gif" alt="loading..." />\n    </div>\n    <div v-else>\n        \x3c!-- DIALOGS --\x3e\n        <leaf-form-dialog v-if="showFormDialog">\n            <template #dialog-content-slot>\n                <component :is="dialogFormContent" historyType="design" :historyID="currentView"></component>\n            </template>\n        </leaf-form-dialog>\n    </div>'}}],vx=function(e){const t=function(e,t){const n=[],r=new Map;function o(e,n,r){const l=!r,a=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:vp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}(e);a.aliasOf=r&&r.record;const c=wp(t,e),u=[a];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(Nd({},a,{components:r?r.record.components:a.components,path:e,aliasOf:r?r.record:a}))}let h,d;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(h=gp(t,n,c),r?r.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),l&&e.name&&!bp(h)&&i(e.name)),a.children){const e=a.children;for(let t=0;t<e.length;t++)o(e[t],h,r&&r.children[t])}r=r||h,(h.record.components&&Object.keys(h.record.components).length||h.record.name||h.record.redirect)&&s(h)}return d?()=>{i(d)}:Ld}function i(e){if(np(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function s(e){let t=0;for(;t<n.length&&dp(e,n[t])>=0&&(e.record.path!==n[t].record.path||!xp(e,n[t]));)t++;n.splice(t,0,e),e.record.name&&!bp(e)&&r.set(e.record.name,e)}return t=wp({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,i,s,l={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw sp(1,{location:e});s=o.record.name,l=Nd(yp(t.params,o.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&yp(e.params,o.keys.map((e=>e.name)))),i=o.stringify(l)}else if("path"in e)i=e.path,o=n.find((e=>e.re.test(i))),o&&(l=o.parse(i),s=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw sp(1,{location:e,currentLocation:t});s=o.record.name,l=Nd({},t.params,e.params),i=o.stringify(l)}const a=[];let c=o;for(;c;)a.unshift(c.record),c=c.parent;return{name:s,path:i,params:l,matched:a,meta:kp(a)}},removeRoute:i,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}(e.routes,e),n=e.parseQuery||qp,r=e.stringifyQuery||Vp,o=e.history,i=Kp(),s=Kp(),l=Kp(),a=qt(rp);let c=rp;Id&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Rd.bind(null,(e=>""+e)),h=Rd.bind(null,$p),d=Rd.bind(null,Bp);function p(e,i){if(i=Nd({},i||a.value),"string"==typeof e){const r=$d(n,e,i.path),s=t.resolve({path:r.path},i),l=o.createHref(r.fullPath);return Nd(r,s,{params:d(s.params),hash:Bp(r.hash),redirectedFrom:void 0,href:l})}let s;if("path"in e)s=Nd({},e,{path:$d(n,e.path,i.path).path});else{const t=Nd({},e.params);for(const e in t)null==t[e]&&delete t[e];s=Nd({},e,{params:h(t)}),i.params=h(i.params)}const l=t.resolve(s,i),c=e.hash||"";l.params=u(d(l.params));const p=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,Nd({},e,{hash:(f=c,Pp(f).replace(Np,"{").replace(Lp,"}").replace(Op,"^")),path:l.path}));var f;const m=o.createHref(p);return Nd({fullPath:p,hash:c,query:r===Vp?jp(e.query):e.query||{}},l,{redirectedFrom:void 0,href:m})}function f(e){return"string"==typeof e?$d(n,e,a.value.path):Nd({},e)}function m(e,t){if(c!==e)return sp(8,{from:t,to:e})}function g(e){return v(e)}function y(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=f(r):{path:r},r.params={}),Nd({query:e.query,hash:e.hash,params:"path"in r?{}:e.params},r)}}function v(e,t){const n=c=p(e),o=a.value,i=e.state,s=e.force,l=!0===e.replace,u=y(n);if(u)return v(Nd(f(u),{state:"object"==typeof u?Nd({},i,u.state):i,force:s,replace:l}),t||n);const h=n;let d;return h.redirectedFrom=t,!s&&function(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&qd(t.matched[r],n.matched[o])&&Vd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,o,n)&&(d=sp(16,{to:h,from:o}),A(o,o,!0,!1)),(d?Promise.resolve(d):w(h,o)).catch((e=>lp(e)?lp(e,2)?e:M(e):T(e,h,o))).then((e=>{if(e){if(lp(e,2))return v(Nd({replace:l},f(e.to),{state:"object"==typeof e.to?Nd({},i,e.to.state):i,force:s}),t||h)}else e=_(h,o,!0,l,i);return x(h,o,e),e}))}function b(e,t){const n=m(e,t);return n?Promise.reject(n):Promise.resolve()}function k(e){const t=N.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function w(e,t){let n;const[r,o,l]=function(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const i=t.matched[s];i&&(e.matched.find((e=>qd(e,i)))?r.push(i):n.push(i));const l=e.matched[s];l&&(t.matched.find((e=>qd(e,l)))||o.push(l))}return[n,r,o]}(e,t);n=Yp(r.reverse(),"beforeRouteLeave",e,t);for(const o of r)o.leaveGuards.forEach((r=>{n.push(Zp(r,e,t))}));const a=b.bind(null,e,t);return n.push(a),L(n).then((()=>{n=[];for(const r of i.list())n.push(Zp(r,e,t));return n.push(a),L(n)})).then((()=>{n=Yp(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push(Zp(r,e,t))}));return n.push(a),L(n)})).then((()=>{n=[];for(const r of l)if(r.beforeEnter)if(Fd(r.beforeEnter))for(const o of r.beforeEnter)n.push(Zp(o,e,t));else n.push(Zp(r.beforeEnter,e,t));return n.push(a),L(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Yp(l,"beforeRouteEnter",e,t),n.push(a),L(n)))).then((()=>{n=[];for(const r of s.list())n.push(Zp(r,e,t));return n.push(a),L(n)})).catch((e=>lp(e,8)?e:Promise.reject(e)))}function x(e,t,n){l.list().forEach((r=>k((()=>r(e,t,n)))))}function _(e,t,n,r,i){const s=m(e,t);if(s)return s;const l=t===rp,c=Id?history.state:{};n&&(r||l?o.replace(e.fullPath,Nd({scroll:l&&c&&c.scroll},i)):o.push(e.fullPath,i)),a.value=e,A(e,t,n,l),M()}let S;let C,D=Kp(),E=Kp();function T(e,t,n){M(e);const r=E.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function M(e){return C||(C=!e,S||(S=o.listen(((e,t,n)=>{if(!R.listening)return;const r=p(e),i=y(r);if(i)return void v(Nd(i,{replace:!0}),r).catch(Ld);c=r;const s=a.value;var l,u;Id&&(l=Zd(s.fullPath,n.delta),u=Kd(),Yd.set(l,u)),w(r,s).catch((e=>lp(e,12)?e:lp(e,2)?(v(e.to,r).then((e=>{lp(e,20)&&!n.delta&&n.type===Ud.pop&&o.go(-1,!1)})).catch(Ld),Promise.reject()):(n.delta&&o.go(-n.delta,!1),T(e,r,s)))).then((e=>{(e=e||_(r,s,!1))&&(n.delta&&!lp(e,8)?o.go(-n.delta,!1):n.type===Ud.pop&&lp(e,20)&&o.go(-1,!1)),x(r,s,e)})).catch(Ld)}))),D.list().forEach((([t,n])=>e?n(e):t())),D.reset()),e}function A(t,n,r,o){const{scrollBehavior:i}=e;if(!Id||!i)return Promise.resolve();const s=!r&&function(e){const t=Yd.get(e);return Yd.delete(e),t}(Zd(t.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return vn().then((()=>i(t,n,s))).then((e=>e&&function(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}(e))).catch((e=>T(e,t,n)))}const O=e=>o.go(e);let I;const N=new Set,R={currentRoute:a,listening:!0,addRoute:function(e,n){let r,o;return np(e)?(r=t.getRecordMatcher(e),o=n):o=e,t.addRoute(o,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:p,options:e,push:g,replace:function(e){return g(Nd(f(e),{replace:!0}))},go:O,back:()=>O(-1),forward:()=>O(1),beforeEach:i.add,beforeResolve:s.add,afterEach:l.add,onError:E.add,isReady:function(){return C&&a.value!==rp?Promise.resolve():new Promise(((e,t)=>{D.add([e,t])}))},install(e){e.component("RouterLink",Qp),e.component("RouterView",of),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Ut(a)}),Id&&!I&&a.value===rp&&(I=!0,g(o.location).catch((e=>{})));const t={};for(const e in rp)Object.defineProperty(t,e,{get:()=>a.value[e],enumerable:!0});e.provide(Wp,this),e.provide(Jp,Ct(t)),e.provide(Gp,a);const n=e.unmount;N.add(e),e.unmount=function(){N.delete(e),N.size<1&&(c=rp,S&&S(),S=null,a.value=rp,I=!1,C=!1),n()}}};function L(e){return e.reduce(((e,t)=>e.then((()=>k(t)))),Promise.resolve())}return R}({history:function(e){return(e=location.host?e||location.pathname+location.search:"").includes("#")||(e+="#"),tp(e)}(),routes:yx});const bx=vx;var kx=na(Od);kx.use(bx),kx.mount("#site-designer-app")})()})();