"use strict";(self.webpackChunkleaf_vue=self.webpackChunkleaf_vue||[]).push([[135],{135:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i={name:"restore-fields-view",data:function(){return{disabledFields:null}},inject:["APIroot","CSRFToken","selectNewCategory","setDefaultAjaxResponseMessage"],beforeMount:function(){var e=this;$.ajax({type:"GET",url:"".concat(this.APIroot,"form/indicator/list/disabled"),success:function(t){e.disabledFields=t.filter((function(e){return parseInt(e.indicatorID)>0}))},error:function(e){return console.log(e)},cache:!1})},beforeRouteEnter:function(e,t,n){n((function(e){e.selectNewCategory(),e.setDefaultAjaxResponseMessage()}))},methods:{restoreField:function(e){var t=this;$.ajax({type:"POST",url:"".concat(this.APIroot,"formEditor/").concat(e,"/disabled"),data:{CSRFToken,disabled:0},success:function(){t.disabledFields=t.disabledFields.filter((function(t){return parseInt(t.indicatorID)!==e})),alert("The field has been restored.")},error:function(e){return console.log(e)}})}},template:'<div>\n            <h3 style="margin: 0;">List of disabled fields available for recovery</h3>\n            <div>Deleted fields and associated data will be not display in the Report Builder</div>\n            <div>\n                <table v-if="disabledFields !== null" class="usa-table leaf-whitespace-normal">\n                    <thead>\n                        <tr>\n                            <th>indicatorID</th>\n                            <th>Form</th>\n                            <th>Field Name</th>\n                            <th>Input Format</th>\n                            <th>Status</th>\n                            <th>Restore</th>\n                        </tr>\n                    </thead>\n                    <tbody id="fields">\n                        <tr v-for="f in disabledFields" key="f.indicatorID">\n                            <td>{{ f.indicatorID }}</td>\n                            <td>{{ f.categoryName }}</td>\n                            <td>{{ f.name }}</td>\n                            <td>{{ f.format }}</td>\n                            <td>{{ f.disabled }}</td>\n                            <td><button class="btn-general" \n                                @click="restoreField(parseInt(f.indicatorID))">\n                                Restore this field</button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <p v-else>Loading ...</p>\n            </div>\n        </div>'}}}]);